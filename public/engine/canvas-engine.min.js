!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@zindex/skia-js")):"function"==typeof define&&define.amd?define(["exports","@zindex/skia-js"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).Zindex=t.Zindex||{},t.Zindex.CanvasEngine={}),t.SkiaWasmInit)}(this,(function(t,e){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s,n=i(e);t.MouseButton=void 0,(s=t.MouseButton||(t.MouseButton={}))[s.Left=0]="Left",s[s.Wheel=1]="Wheel",s[s.Right=2]="Right",s[s.Unknown=3]="Unknown";const r=navigator?.platform.toUpperCase().startsWith("MAC");class o{constructor(){this.isCtrl=!1,this.isShift=!1,this.isAlt=!1}update(t){let e=!1;this.isShift!==t.shiftKey&&(this.isShift=t.shiftKey,e=!0),this.isAlt!==t.altKey&&(this.isAlt=t.altKey,e=!0);const i=r?t.metaKey:t.ctrlKey;return this.isCtrl!==i&&(this.isCtrl=i,e=!0),e}}function a(t,e){(function(t){return"string"==typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var i=function(t){return"string"==typeof t&&-1!==t.indexOf("%")}(t);return t=360===e?t:Math.min(e,Math.max(0,parseFloat(t))),i&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:t=360===e?(t<0?t%e+e:t%e)/parseFloat(String(e)):t%e/parseFloat(String(e))}function u(t){return t<=1?100*Number(t)+"%":t}function l(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*i*(e-t):i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function h(t){return M(t)/255}function M(t){return parseInt(t,16)}var d={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function c(t){var e,i,s,n={r:0,g:0,b:0},r=1,o=null,c=null,L=null,w=!1,g=!1;return"string"==typeof t&&(t=function(t){if(0===(t=t.trim().toLowerCase()).length)return!1;var e=!1;if(d[t])t=d[t],e=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};var i=D.rgb.exec(t);if(i)return{r:i[1],g:i[2],b:i[3]};if(i=D.rgba.exec(t))return{r:i[1],g:i[2],b:i[3],a:i[4]};if(i=D.hsl.exec(t))return{h:i[1],s:i[2],l:i[3]};if(i=D.hsla.exec(t))return{h:i[1],s:i[2],l:i[3],a:i[4]};if(i=D.hsv.exec(t))return{h:i[1],s:i[2],v:i[3]};if(i=D.hsva.exec(t))return{h:i[1],s:i[2],v:i[3],a:i[4]};if(i=D.hex8.exec(t))return{r:M(i[1]),g:M(i[2]),b:M(i[3]),a:h(i[4]),format:e?"name":"hex8"};if(i=D.hex6.exec(t))return{r:M(i[1]),g:M(i[2]),b:M(i[3]),format:e?"name":"hex"};if(i=D.hex4.exec(t))return{r:M(i[1]+i[1]),g:M(i[2]+i[2]),b:M(i[3]+i[3]),a:h(i[4]+i[4]),format:e?"name":"hex8"};if(i=D.hex3.exec(t))return{r:M(i[1]+i[1]),g:M(i[2]+i[2]),b:M(i[3]+i[3]),format:e?"name":"hex"};return!1}(t)),"object"==typeof t&&(j(t.r)&&j(t.g)&&j(t.b)?(e=t.r,i=t.g,s=t.b,n={r:255*a(e,255),g:255*a(i,255),b:255*a(s,255)},w=!0,g="%"===String(t.r).substr(-1)?"prgb":"rgb"):j(t.h)&&j(t.s)&&j(t.v)?(o=u(t.s),c=u(t.v),n=function(t,e,i){t=6*a(t,360),e=a(e,100),i=a(i,100);var s=Math.floor(t),n=t-s,r=i*(1-e),o=i*(1-n*e),u=i*(1-(1-n)*e),l=s%6;return{r:255*[i,o,r,r,u,i][l],g:255*[u,i,i,o,r,r][l],b:255*[r,r,u,i,i,o][l]}}(t.h,o,c),w=!0,g="hsv"):j(t.h)&&j(t.s)&&j(t.l)&&(o=u(t.s),L=u(t.l),n=function(t,e,i){var s,n,r;if(t=a(t,360),e=a(e,100),i=a(i,100),0===e)n=i,r=i,s=i;else{var o=i<.5?i*(1+e):i+e-i*e,u=2*i-o;s=l(u,o,t+1/3),n=l(u,o,t),r=l(u,o,t-1/3)}return{r:255*s,g:255*n,b:255*r}}(t.h,o,L),w=!0,g="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(r=t.a)),r=function(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}(r),{ok:w,format:t.format||g,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}var L,w="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",g="[\\s|\\(]+("+w+")[,|\\s]+("+w+")[,|\\s]+("+w+")\\s*\\)?",I="[\\s|\\(]+("+w+")[,|\\s]+("+w+")[,|\\s]+("+w+")[,|\\s]+("+w+")\\s*\\)?",D={CSS_UNIT:new RegExp(w),rgb:new RegExp("rgb"+g),rgba:new RegExp("rgba"+I),hsl:new RegExp("hsl"+g),hsla:new RegExp("hsla"+I),hsv:new RegExp("hsv"+g),hsva:new RegExp("hsva"+I),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function j(t){return Boolean(D.CSS_UNIT.exec(String(t)))}async function y(t){const e=t.getReader();let i=null;for(;;){const{value:t,done:s}=await e.read();if(s)return null===i&&(i=new Uint8Array(0)),i;if(null===i){i=new Uint8Array(t);continue}const n=new Uint8Array(i.length+t.byteLength);n.set(i),n.set(t,i.length),i=n}}function N(t){return new ReadableStream({start(e){e.enqueue(t),e.close()}})}async function p(t,e,i){const s=e?new CompressionStream(i):new DecompressionStream(i);return y(t.pipeThrough(s))}async function C(t,e="deflate"){return p(t,!0,e)}async function x(t,e="deflate"){return p(t,!1,e)}function S(t,e){if(t===e)return!0;if(null==t)return null==e;if("object"!=typeof t||"object"!=typeof e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;const i=t.length;for(let s=0;s<i;s++)if(!S(t[s],e[s]))return!1;return!0}if("function"==typeof t.equals)return t.equals(e);const i=Object.keys(t);if(Object.keys(e).length!==i.length)return!1;for(const s of i)if(!(s in e)||!S(t[s],e[s]))return!1;return!0}t.Cursor=void 0,(L=t.Cursor||(t.Cursor={})).Bucket="bucket",L.ColorPicker="color-picker",L.Default="default",L.Hand="hand",L.HandHold="hand-hold",L.Move="move",L.Pointer="pointer",L.PointerAlt="pointer-alt",L.PointerAdd="pointer-add",L.PointerAddAlt="pointer-add-alt",L.PointerCurve="pointer-curve",L.PointerCurveAlt="pointer-curve-alt",L.PointerMove="pointer-move",L.PointerMoveAlt="pointer-move-alt",L.PointerRemove="pointer-remove",L.PointerRemoveAlt="pointer-remove-alt",L.PointerSelectable="pointer-selectable",L.PointerSelectableAlt="pointer-selectable-alt",L.PointerResize="pointer-resize",L.PointerResizeAlt="pointer-resize-alt",L.NotAllowed="not-allowed",L.Pen="pen",L.PenAdd="pen-add",L.PenClose="pen-close",L.PenContinue="pen-continue",L.PenPoint="pen-point",L.PenRemove="pen-remove",L.ResizeEW="resize-ew",L.ResizeNS="resize-ns",L.ResizeNESW="resize-nesw",L.ResizeNWSE="resize-nwse",L.Rotate="rotate",L.RotateAlt="rotate-alt",L.Target="target",L.Zoom="zoom",L.ZoomIn="zoom-in",L.ZoomOut="zoom-out";const m=/[018]/g;function A(){let t=0;const e=crypto.getRandomValues(new Uint8Array(31));return"10000000-1000-4000-8000-100000000000".replace(m,(i=>((i=+i)^e[t++]&15>>i/4).toString(16)))}class T{constructor(t){this.map=t}getJsonFile(t){return JSON.parse((new TextDecoder).decode(this.map.get(t)))}getFile(t){return this.map.get(t)}getManifest(){return this.getJsonFile("manifest.json")}getDocument(t){return this.getJsonFile("documents/"+t)}dispose(){this.map.clear()}static async fromStream(t){const e=await y(t),i=new DataView(e.buffer);if(1698134117!==i.getInt32(0))throw new Error("Invalid file format");const s=i.getInt32(8),n=new DataView(e.buffer,16,s),r=16+s,o=JSON.parse(await new Blob([await x(N(n))],{type:"application/json"}).text()),a=new Map;for(const[t,i]of Object.entries(o)){const s=await x(N(new DataView(e.buffer,r+i.offset,i.length)));a.set(t,s)}return new T(a)}}var E;t.Position=void 0,(E=t.Position||(t.Position={}))[E.None=0]="None",E[E.Start=1]="Start",E[E.Middle=2]="Middle",E[E.End=3]="End";const f=1e-5;function z(t){return Number.isInteger(t)?t:Math.round(100*t)/100}function _(t,e=0,i=1){return t<=e?e:t>=i?i:t}function v(t,e,i=1e-5){return Math.abs(t-e)<=f}function P(t){return Number.isInteger(t)?t.toString():t.toFixed(2)}function b(t){return Number.isFinite(t)&&!Number.isNaN(t)}const k=/-?(?:\d\.?\d*[Ee][+\-]?\d+|(?:\d+\.\d*|\d*\.\d+)|\d+)/gm;const O=Math.PI/180,B=180/Math.PI;function Y(t,e){let i;for(;e;)i=e,e=t%e,t=i;return t||1}function U(t,e,i){return e===i?1:(t-e)/(i-e)}function Z(e){return e===t.Position.Start?t.Position.End:e===t.Position.End?t.Position.Start:e}function R(e,i,s){return s.x===t.Position.Middle?i:s.y===t.Position.Middle?e:e<0?i<0?-Math.sqrt(e*i):-e>i?e:i:i<0?-i>e?i:e:Math.sqrt(e*i)}function Q(t,e){return t===e?t:1===Math.abs(t)?e:1===Math.abs(e)?t:Math.max(t,e)}function G(t,e){return v(t,e)?1:v(t,0)||v(e,0)?t>e?1:-1:t/e}var H;t.Unit=void 0,(H=t.Unit||(t.Unit={})).PX="px",H.PT="pt",H.PC="pc",H.CM="cm",H.MM="mm",H.IN="in";const W=96;var V;t.UnitValue=void 0,(V=t.UnitValue||(t.UnitValue={}))[V.PX=1]="PX",V[V.PT=.75]="PT",V[V.PC=15]="PC",V[V.CM=2.54/W]="CM",V[V.MM=25.4/W]="MM",V[V.IN=1/W]="IN";const F={[t.Unit.PT]:t=>t*W/72,[t.Unit.PC]:t=>15*t,[t.Unit.CM]:t=>t*W/2.54,[t.Unit.MM]:t=>t*W/25.4,[t.Unit.IN]:t=>t*W},K={[t.Unit.PT]:t=>72*t/W,[t.Unit.PC]:t=>t/15,[t.Unit.CM]:t=>2.54*t/W,[t.Unit.MM]:t=>25.4*t/W,[t.Unit.IN]:t=>t/W};var J,X,q,$,tt,et,it,st,nt,rt,ot,at,ut;t.FillRule=void 0,(J=t.FillRule||(t.FillRule={}))[J.NonZero=0]="NonZero",J[J.EvenOdd=1]="EvenOdd",t.BrushType=void 0,(X=t.BrushType||(t.BrushType={}))[X.None=0]="None",X[X.Solid=1]="Solid",X[X.LinearGradient=2]="LinearGradient",X[X.RadialGradient=3]="RadialGradient",X[X.TwoPointGradient=4]="TwoPointGradient",X[X.ConicalGradient=5]="ConicalGradient",X[X.Pattern=6]="Pattern",X[X.Pointer=7]="Pointer",t.PaintOrder=void 0,(q=t.PaintOrder||(t.PaintOrder={}))[q.FillStrokeMarkers=0]="FillStrokeMarkers",q[q.FillMarkersStroke=1]="FillMarkersStroke",q[q.StrokeFillMarkers=2]="StrokeFillMarkers",q[q.StrokeMarkersFill=3]="StrokeMarkersFill",q[q.MarkersFillStroke=4]="MarkersFillStroke",q[q.MarkersStrokeFill=5]="MarkersStrokeFill";class lt{constructor(t,e){this._type=t,this._opacity=e}get type(){return this._type}get opacity(){return this._opacity}get isVisible(){return this._opacity>0}set opacity(t){this._opacity=_(t,0,1)}preparePaint(t){return t.isAntiAlias=!0,t.alpha=this._opacity,t.style=Skia.SkPaintStyle.Fill,!0}}class ht extends lt{constructor(e){super(t.BrushType.None,e??1)}get isVisible(){return!1}clone(){return new ht(this._opacity)}}class Mt{constructor(t=0,e=0,i=0,s=1){this._rgba=null,this.r=t,this.g=e,this.b=i,this.a=null==s?1:s}get code(){return(255*this.a<<24|this.r<<16|this.g<<8|this.b<<0)>>>0}get rgba(){return this._rgba||(this._rgba=`rgba(${this.r}, ${this.g}, ${this.b}, ${this.a})`),this._rgba}clone(){return new Mt(this.r,this.g,this.b,this.a)}inverted(){return new Mt(255-this.r,255-this.g,255-this.b,this.a)}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}interpolate(t,e=.5){return e<=0?this:e>=1?t:new Mt(dt(this.r,t.r,e),dt(this.g,t.g,e),dt(this.b,t.b,e),function(t,e,i=.5){null==t&&(t=1);null==e&&(e=1);return _(z(t+i*(e-t)),0,1)}(this.a,t.a,e))}toArray(){return[this.r,this.g,this.b,this.a]}toIntArray(){return[this.r,this.g,this.b,255*this.a]}toFloatArray(){return[this.r/255,this.g/255,this.b/255,this.a]}static fromCode(t){return new Mt(t>>16&255,t>>8&255,t>>0&255,(t>>24&255)/255)}static from(t){const e=c(t);return e.ok?new Mt(e.r,e.g,e.b,e.a):Mt.transparent}}function dt(t,e,i=.5){return _(Math.round(t+i*(e-t)),0,255)}Mt.transparent=new Mt(0,0,0,0),Mt.white=new Mt(255,255,255),Mt.black=new Mt(0,0,0),Mt.red=new Mt(255,0,0),Mt.green=new Mt(0,255,0),Mt.blue=new Mt(0,0,255);class ct extends lt{constructor(e,i=1){super(t.BrushType.Solid,i),this.color=e}get isVisible(){return this.opacity>0&&this.color.a>0}preparePaint(t){return super.preparePaint(t),t.color=this.color.code,t.addAlpha(this.opacity),!0}clone(){return new ct(this.color,this._opacity)}static fromColor(t,e=1){return new ct(t,e)}static get BLACK(){return new ct(Mt.black)}static get WHITE(){return new ct(Mt.white)}static get TRANSPARENT(){return new ct(Mt.transparent,0)}}class Lt{constructor(t,e){this._nativeCache=null,this._stringCache=null,this.list=t||[],this.reference=e||null}get length(){return this.list.length}get isVisible(){for(const t of this.list)if(t.color.a>0)return!0;return!1}getColorAt(t){return this.list[t]?.color}setColorAt(t,e){return!(t>this.list.length||this.list[t].color.equals(e))&&(this.list[t].color=e,this._nativeCache=this._stringCache=null,!0)}getOffsetAt(t){return this.list[t]?.offset}setOffsetAt(t,e){return!(t>this.list.length||this.list[t].offset===e)&&(this.list[t].offset=e,this.list.sort(It),this._nativeCache=this._stringCache=null,!0)}removeColorAt(t){return!(t>this.list.length)&&(this.list.splice(t,1),this._nativeCache=this._stringCache=null,!0)}addStopColor(t,e){null==e&&(e=this.computeColor(t));const i={color:e,offset:t};return this.list.push(i),this.list.sort(It),this._nativeCache=this._stringCache=null,i}reverseOffsets(){let t=!1;for(const e of this.list).5!==e.offset&&(e.offset=1-e.offset,t=!0);return!!t&&(this.list.reverse(),this._nativeCache=this._stringCache=null,!0)}computeColor(t){const e=this.list,i=e.length;if(0===i)return Mt.black;if(1===i)return e[0].color;if(t<=e[0].offset)return e[0].color;const s=i-1;if(t>=e[s].offset)return e[s].color;for(let i=2;i<s;i++){const s=e[i-1],n=e[i];if(s.offset<=t&&t<=n.offset)return t===s.offset?s.color:t===n.offset?n.color:s.color.interpolate(n.color,U(t,s.offset,n.offset))}return e[s].color}static fromColor(t,e){return new Lt(t?[{color:t,offset:0},{color:t.inverted(),offset:1}]:[{color:Mt.black,offset:0},{color:Mt.white,offset:1}],e)}toNative(){if(this._nativeCache)return this._nativeCache;const t={colors:[],offsets:[]};for(const e of this.list)t.colors.push(e.color.code),t.offsets.push(e.offset);return this._nativeCache=t}toString(){return null===this._stringCache&&(this._stringCache=this.list.map(gt).join(", ")),this._stringCache}clone(){return this.reference?this:new Lt(this.list.map(wt),null)}}function wt(t){return{color:t.color,offset:t.offset}}function gt(t){return t.color+" "+P(100*t.offset)+"%"}function It(t,e){return t.offset===e.offset?0:t.offset<e.offset?-1:1}t.SpreadMethod=void 0,($=t.SpreadMethod||(t.SpreadMethod={}))[$.Pad=0]="Pad",$[$.Repeat=1]="Repeat",$[$.Reflect=2]="Reflect";class Dt extends lt{constructor(t,e,i,s=1,n=null){super(t,s),this.transform=null,this.stopColors=e,this.spread=i,this.transform=n}get isVisible(){return!!this._opacity&&this.stopColors.isVisible}get nativeSpreadMethod(){switch(this.spread){case t.SpreadMethod.Repeat:return Skia.SkTileMode.Repeat;case t.SpreadMethod.Reflect:return Skia.SkTileMode.Mirror;case t.SpreadMethod.Pad:default:return Skia.SkTileMode.Clamp}}}class jt extends Dt{constructor(e,i,s,n=t.SpreadMethod.Pad,r=1,o=null){super(t.BrushType.LinearGradient,s,n,r,o),this.start=e,this.end=i}clone(){return new jt(this.start.clone(),this.end.clone(),this.stopColors.clone(),this.spread,this._opacity,this.transform?this.transform.clone():null)}preparePaint(t){super.preparePaint(t);const e=this.stopColors.toNative();return t.shader=Skia.SkShader.MakeLinearGradient(this.start,this.end,e.colors,e.offsets,this.nativeSpreadMethod,this.transform),!0}}class yt extends Dt{constructor(e,i,s,n=t.SpreadMethod.Pad,r=1,o=null){super(t.BrushType.RadialGradient,s,n,r,o),this.center=e,this.radius=i}clone(){return new yt(this.center.clone(),this.radius,this.stopColors.clone(),this.spread,this._opacity,this.transform?this.transform.clone():null)}preparePaint(t){super.preparePaint(t);const e=this.stopColors.toNative();return t.shader=Skia.SkShader.MakeRadialGradient(this.center,this.radius,e.colors,e.offsets,this.nativeSpreadMethod,this.transform),!0}}class Nt extends Dt{constructor(e,i,s,n,r,o=t.SpreadMethod.Pad,a=1,u=null){super(t.BrushType.TwoPointGradient,r,o,a,u),this.start=e,this.startRadius=i,this.end=s,this.endRadius=n}clone(){return new Nt(this.start.clone(),this.startRadius,this.end.clone(),this.endRadius,this.stopColors.clone(),this.spread,this._opacity,this.transform?this.transform.clone():null)}preparePaint(t){super.preparePaint(t);const e=this.stopColors.toNative();return t.shader=Skia.SkShader.MakeTwoPointConicalGradient(this.start,this.startRadius,this.end,this.endRadius,e.colors,e.offsets,this.nativeSpreadMethod,this.transform),!0}}class pt extends Dt{constructor(e,i,s=t.SpreadMethod.Pad,n=0,r=360,o=1,a=null){super(t.BrushType.ConicalGradient,i,s,o,a),this.center=e,this.startAngle=n,this.endAngle=r}clone(){return new pt(this.center.clone(),this.stopColors.clone(),this.spread,this.startAngle,this.endAngle,this._opacity,this.transform?this.transform.clone():null)}preparePaint(t){super.preparePaint(t);const e=this.stopColors.toNative();return t.shader=Skia.SkShader.MakeSweepGradient(this.center,this.startAngle,this.endAngle,e.colors,e.offsets,this.nativeSpreadMethod,this.transform),!0}}class Ct{constructor(t,e){this.x=t,this.y=e}get direction(){return Math.atan2(this.y,this.x)}get angle(){return this.direction*B}getDirectionTo(t){return Math.atan2(this.y-t.y,this.x-t.x)}getAngleTo(t){return this.getDirectionTo(t)*B}getPositiveAngleTo(t){const e=this.getDirectionTo(t)*B;return e<0?e+360:e}getMiddle(t){return new Ct((this.x+t.x)/2,(this.y+t.y)/2)}get length(){return Math.sqrt(this.x*this.x+this.y*this.y)}get isZero(){return 0===this.x&&0===this.y}get isUnit(){return v(this.length,1)}isPerpendicularTo(t){return v(this.dot(t),0)}distanceTo(t){return Ct.distance(this,t)}rounded(){return Number.isInteger(this.x)&&Number.isInteger(this.y)?this:new Ct(Math.round(this.x),Math.round(this.y))}shifted(t,e){return new Ct(this.x+t,this.y+e)}add(t){return new Ct(this.x+t.x,this.y+t.y)}sub(t){return new Ct(this.x-t.x,this.y-t.y)}mul(t){return new Ct(this.x*t.x,this.y*t.y)}div(t){return new Ct(this.x/t.x,this.y/t.y)}scale(t){return new Ct(t*this.x,t*this.y)}offset(t,e){return new Ct(this.x+t,this.y+e)}mirror(t,e=1,i=e){return null==e?null==i?this:new Ct(this.x,2*t.y-this.y*i):new Ct(2*t.x-this.x*e,null==i?this.y:2*t.y-this.y*i)}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}negate(){return this.isZero?this:new Ct(-this.x,-this.y)}toLength(t){return this.isZero?new Ct(0,0):this.scale(t/this.length)}toUnit(){return this.toLength(1)}equals(t){return this.x===t.x&&this.y===t.y}clone(){return this}static fromObject(t){return new Ct(t.x,t.y)}static fromAngle(t,e=1,i){return this.fromDirection(t*O,e,i)}static fromDirection(t,e=1,i){return i?new Ct(i.x+e*Math.cos(t),i.y+e*Math.sin(t)):new Ct(e*Math.cos(t),e*Math.sin(t))}static distance(t,e){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}static center(t,e){return new Ct((t.x+e.x)/2,(t.y+e.y)/2)}static isSamePoint(t,e){return t.x===e.x&&t.y===e.y}}Ct.ZERO=new Ct(0,0),Ct.UNIT=new Ct(1,1);class xt{constructor(t=1,e=0,i=0,s=1,n=0,r=0){this.value=[t,e,i,s,n,r]}get a(){return this.value[0]}get b(){return this.value[1]}get c(){return this.value[2]}get d(){return this.value[3]}get e(){return this.value[4]}get f(){return this.value[5]}get tx(){return this.value[4]}get ty(){return this.value[5]}get determinant(){const t=this.value;return t[0]*t[3]-t[1]*t[2]}get isInvertible(){return 0!==this.determinant}get lineScale(){return Math.sqrt(Math.abs(this.determinant))}get isIdentity(){const t=this.value;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]}toIdentity(){const t=this.value;return t[0]=t[3]=1,t[1]=t[2]=t[4]=t[5]=0,this}reset(t=1,e=0,i=0,s=1,n=0,r=0){const o=this.value;return o[0]=t,o[1]=e,o[2]=i,o[3]=s,o[4]=n,o[5]=r,this}panZoom(t,e=1){return this.scale(e,e).translate(t.x/e,t.y/e)}translate(t=0,e=0){if(0===t&&0===e)return this;const i=this.value;return i[4]+=i[0]*t+i[2]*e,i[5]+=i[1]*t+i[3]*e,this}scale(t=1,e=1){if(1===t&&1===e)return this;const i=this.value;return i[0]*=t,i[1]*=t,i[2]*=e,i[3]*=e,this}skew(t=0,e=0){if(e%=360,0===(t%=360)&&0===e)return this;const i=this.value,s=i[0],n=i[1],r=i[2],o=i[3];return t&&(t=Math.tan(t*O),i[2]+=s*t,i[3]+=n*t),e&&(e=Math.tan(e*O),i[0]+=r*e,i[1]+=o*e),this}rotate(t){if(t%=360){t*=O;const e=Math.sin(t),i=Math.cos(t),s=this.value,n=s[0],r=s[1];s[0]=n*i+s[2]*e,s[1]=r*i+s[3]*e,s[2]=s[2]*i-n*e,s[3]=s[3]*i-r*e}return this}skewAxis(t=0,e=0){if(0===t)return this;t*=O;const i=Math.sin(t),s=Math.cos(t),n=0===e?0:Math.tan(Math.tan(-e*O)),r=[s*s-i*(s*n-i),i*s-i*(i*n+s),i*s+s*(s*n-i),i*i+s*(i*n+s),0,0];return St(this.value,r,this.value),this}inverse(){return mt(this.value,this.value),this}multiply(t){return St(this.value,t.value,this.value),this}preMultiply(t){return St(t.value,this.value,this.value),this}point(t,e,i=!0){const s=this.value;return new Ct(s[0]*t+s[2]*e+(i?s[4]:0),s[1]*t+s[3]*e+(i?s[5]:0))}transformPoint(t,e=!0){return this.point(t.x,t.y,e)}inversePoint(t,e,i=!0){const s=[];return mt(this.value,s)?new Ct(s[0]*t+s[2]*e+(i?s[4]:0),s[1]*t+s[3]*e+(i?s[5]:0)):new Ct(t,e)}transformInversePoint(t,e=!0){return this.inversePoint(t.x,t.y,e)}clone(){const t=this.value;return new xt(t[0],t[1],t[2],t[3],t[4],t[5])}equals(t){return this.value.every(((e,i)=>e===t.value[i]))}toString(){return`matrix(${this.value.join(" ")})`}static Create(t){return t?Array.isArray(t)?new xt(...t):new xt(t.a||0,t.b||0,t.c||0,t.d||0,t.e||0,t.f||0):new xt}static CreatePanZoom(t,e=1){return new xt(e,0,0,e,t.x,t.y)}static CreateDevicePixelRatio(t=1){return new xt(t,0,0,t,0,0)}}function St(t,e,i){const s=t[0]*e[0]+t[2]*e[1],n=t[1]*e[0]+t[3]*e[1],r=t[0]*e[2]+t[2]*e[3],o=t[1]*e[2]+t[3]*e[3],a=t[0]*e[4]+t[2]*e[5]+t[4],u=t[1]*e[4]+t[3]*e[5]+t[5];i[0]=s,i[1]=n,i[2]=r,i[3]=o,i[4]=a,i[5]=u}function mt(t,e){const i=t[0]*t[3]-t[1]*t[2];if(0===i)return!1;const s=t[3]/i,n=-t[1]/i,r=-t[2]/i,o=t[0]/i,a=-(t[3]*t[4]-t[2]*t[5])/i,u=(t[1]*t[4]-t[0]*t[5])/i;return e[0]=s,e[1]=n,e[2]=r,e[3]=o,e[4]=a,e[5]=u,!0}t.PatternTile=void 0,(tt=t.PatternTile||(t.PatternTile={}))[tt.None=0]="None",tt[tt.Vertical=1]="Vertical",tt[tt.ReflectVertical=2]="ReflectVertical",tt[tt.Horizontal=3]="Horizontal",tt[tt.ReflectHorizontal=4]="ReflectHorizontal",tt[tt.Both=5]="Both",tt[tt.ReflectBoth=6]="ReflectBoth";class At extends lt{constructor(e,i=1,s=t.PatternTile.Both,n=new xt,r=null){super(t.BrushType.Pattern,i),this._pattern=e,this._tile=s,this._transform=n,this._rectangle=r}preparePaint(e){let i,s;switch(super.preparePaint(e),this._tile){case t.PatternTile.Horizontal:i=Skia.SkTileMode.Repeat,s=Skia.SkTileMode.Decal;break;case t.PatternTile.ReflectHorizontal:i=Skia.SkTileMode.Mirror,s=Skia.SkTileMode.Decal;break;case t.PatternTile.Vertical:i=Skia.SkTileMode.Decal,s=Skia.SkTileMode.Repeat;break;case t.PatternTile.ReflectVertical:i=Skia.SkTileMode.Decal,s=Skia.SkTileMode.Mirror;break;case t.PatternTile.Both:i=Skia.SkTileMode.Repeat,s=Skia.SkTileMode.Repeat;break;case t.PatternTile.ReflectBoth:i=Skia.SkTileMode.Mirror,s=Skia.SkTileMode.Mirror;break;case t.PatternTile.None:default:i=Skia.SkTileMode.Decal,s=Skia.SkTileMode.Decal}return e.shader=this._pattern.getPicture().makeShader(i,s,this._transform,this._rectangle),!0}clone(){return new At(this._pattern.clone(),this._opacity,this._tile,this._transform.clone(),this._rectangle?this._rectangle.clone():null)}}class Tt extends lt{constructor(e,i=1){super(t.BrushType.Pointer,i),this._pointer=e}get pointer(){return this._pointer}preparePaint(t){return!!this._pointer.preparePaint(t)&&super.preparePaint(t)}clone(){return new Tt(this._pointer,this._opacity)}}t.StrokeLineCap=void 0,(et=t.StrokeLineCap||(t.StrokeLineCap={}))[et.Butt=0]="Butt",et[et.Round=1]="Round",et[et.Square=2]="Square",t.StrokeLineJoin=void 0,(it=t.StrokeLineJoin||(t.StrokeLineJoin={}))[it.Miter=0]="Miter",it[it.Round=1]="Round",it[it.Bevel=2]="Bevel",t.PenType=void 0,(st=t.PenType||(t.PenType={}))[st.Default=0]="Default";class Et{constructor(e=ct.BLACK,i=1,s=t.StrokeLineCap.Butt,n=t.StrokeLineJoin.Miter,r=4,o=[],a=0){this._brush=e,this._width=i,this._lineCap=s,this._lineJoin=n,this._miterLimit=r,this._dashes=o,this._offset=a}clone(){return new(0,this.constructor)(this._brush.clone(),this._width,this._lineCap,this._lineJoin,this._miterLimit,this._dashes.slice(),this._offset)}get brush(){return this._brush}set brush(t){this._brush=t}get width(){return this._width}set width(t){this._width=t}get lineCap(){return this._lineCap}set lineCap(t){this._lineCap=t}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin=t}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit=t}get dashes(){return this._dashes}set dashes(t){this._dashes=t}get offset(){return this._offset}set offset(t){this._offset=t}get isVisible(){return this._brush.isVisible&&this._width>0}preparePaint(e){if(!this._brush.preparePaint(e))return!1;switch(e.style=Skia.SkPaintStyle.Stroke,e.strokeWidth=this._width,e.strokeMiter=this._miterLimit,this._lineJoin){case t.StrokeLineJoin.Bevel:e.strokeJoin=Skia.SkPaintStrokeJoin.Bevel;break;case t.StrokeLineJoin.Round:e.strokeJoin=Skia.SkPaintStrokeJoin.Round;break;case t.StrokeLineJoin.Miter:default:e.strokeJoin=Skia.SkPaintStrokeJoin.Miter}switch(this._lineCap){case t.StrokeLineCap.Square:e.strokeCap=Skia.SkPaintStrokeCap.Square;break;case t.StrokeLineCap.Round:e.strokeCap=Skia.SkPaintStrokeCap.Round;break;case t.StrokeLineCap.Butt:default:e.strokeCap=Skia.SkPaintStrokeCap.Butt}return this._dashes.length>0&&(e.pathEffect=Skia.SkPathEffect.MakeDash(this._dashes,this._offset)),!0}}class ft extends Et{get type(){return t.PenType.Default}}class zt{constructor(t,e,i,s){this.x=t,this.y=e,i<0&&(this.x+=i,i=-i),s<0&&(this.y+=s,s=-s),this.width=i,this.height=s,this.top=e,this.bottom=e+s,this.left=t,this.right=t+i}clone(){return this}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}getPointAtPosition(e,i,s,n){switch(s&&(e=Z(e),i=Z(i)),i){case t.Position.Start:switch(e){case t.Position.Start:return this.topLeft;case t.Position.End:return this.topRight;case t.Position.Middle:return this.topMiddle;case t.Position.None:return n?new Ct(n.x,this.top):null}return null;case t.Position.End:switch(e){case t.Position.Start:return this.bottomLeft;case t.Position.End:return this.bottomRight;case t.Position.Middle:return this.bottomMiddle;case t.Position.None:return n?new Ct(n.x,this.bottom):null}return null;case t.Position.Middle:switch(e){case t.Position.Start:return this.middleLeft;case t.Position.End:return this.middleRight;case t.Position.Middle:return this.middle;case t.Position.None:return n?new Ct(n.x,this.middleY):null}return null;case t.Position.None:switch(e){case t.Position.Start:return new Ct(this.left,n.y);case t.Position.End:return new Ct(this.right,n.y);case t.Position.Middle:return new Ct(this.middleX,n.y);case t.Position.None:return n?new Ct(n.x,n.y):null}return null}return null}ensureMinSize(t){return this.width>=t.width&&this.height>=t.height?this:new zt(this.x,this.y,Math.max(this.width,t.width),Math.max(this.height,t.height))}intersects(t){return!(this.right<t.left||t.right<this.left||this.bottom<t.top||t.bottom<this.top)}containsPoint(t){return this.contains(t.x,t.y)}contains(t,e){return t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom}get middle(){return this._middle||(this._middle=new Ct(this.x+this.width/2,this.y+this.height/2)),this._middle}get middleX(){return this.x+this.width/2}get middleY(){return this.y+this.height/2}get topMiddle(){return new Ct(this.middleX,this.top)}get bottomMiddle(){return new Ct(this.middleX,this.bottom)}get middleLeft(){return new Ct(this.left,this.middleY)}get middleRight(){return new Ct(this.right,this.middleY)}get topLeft(){return this._topLeft||(this._topLeft=new Ct(this.left,this.top)),this._topLeft}get topRight(){return this._topRight||(this._topRight=new Ct(this.right,this.top)),this._topRight}get bottomLeft(){return this._bottomLeft||(this._bottomLeft=new Ct(this.left,this.bottom)),this._bottomLeft}get bottomRight(){return this._bottomRight||(this._bottomRight=new Ct(this.right,this.bottom)),this._bottomRight}get isVisible(){return this.width>0&&this.height>0}inset(t,e=t){return this.outset(-t,-e)}get diagonal(){return Ct.distance(this.topLeft,this.bottomRight)}outset(t,e=t){return new zt(this.x-t,this.y-e,this.width+2*t,this.height+2*e)}scale(t,e=t){return this.outset(this.width*t/2,this.height*e/2)}shifted(t,e){return new zt(this.x+t,this.y+e,this.width,this.height)}transform(t,e=!0){return!t||t.isIdentity?this:zt.fromPoints(t.transformPoint(this.topLeft,e),t.transformPoint(this.topRight,e),t.transformPoint(this.bottomRight,e),t.transformPoint(this.bottomLeft,e))}*horizontal(t){yield this.left,t&&(yield this.middleX),yield this.right}*vertical(t){yield this.top,t&&(yield this.middleY),yield this.bottom}*sidePoints(t){yield this.topLeft,yield this.topMiddle,yield this.topRight,yield this.middleRight,yield this.bottomRight,yield this.bottomMiddle,yield this.bottomLeft,yield this.middleLeft,t&&(yield this.middle)}static fromLTRBObject(t){return t?new zt(t.left,t.top,t.right-t.left,t.bottom-t.top):zt.ZERO}static fromLTRB(t,e,i,s){return new zt(t,e,i-t,s-e)}static fromSize(t,e=Ct.ZERO){return new zt(e.x,e.y,t.width,t.height)}static fromTransformedPoints(t,...e){if(!t||t.isIdentity)return this.fromPoints(...e);if(0===e.length)return new zt(0,0,0,0);let i=t.transformPoint(e[0]),s=i.x,n=i.y,r=s,o=n;for(let a=1;a<e.length;a++)i=t.transformPoint(e[a]),i.x<s?s=i.x:i.x>r&&(r=i.x),i.y<n?n=i.y:i.y>o&&(o=i.y);return new zt(s,n,r-s,o-n)}static fromPoints(...t){if(0===t.length)return new zt(0,0,0,0);let e=t[0].x,i=t[0].y,s=e,n=i;for(let r=1;r<t.length;r++){const o=t[r];o.x<e?e=o.x:o.x>s&&(s=o.x),o.y<i?i=o.y:o.y>n&&(n=o.y)}return new zt(e,i,s-e,n-i)}static merge(t){let e=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=null;for(r of t)r.left<e&&(e=r.left),r.top<i&&(i=r.top),r.right>s&&(s=r.right),r.bottom>n&&(n=r.bottom);return null===r?new zt(0,0,0,0):new zt(e,i,s-e,n-i)}}zt.ZERO=new zt(0,0,0,0);class _t{constructor(t=0,e=0){this.width=t,this.height=e}get type(){return"ellipse"}get oval(){const t=this.width/2,e=this.height/2;return new zt(-t,-e,t,e)}equals(t){return this.width===t.width&&this.height===t.height}clone(){return new _t(this.width,this.height)}preparePath(t){t.addEllipse(this.width/2,this.height/2,this.width/2,this.height/2)}}t.PathJoint=void 0,(nt=t.PathJoint||(t.PathJoint={}))[nt.Cusp=0]="Cusp",nt[nt.Corner=1]="Corner",nt[nt.Symmetric=2]="Symmetric",nt[nt.Asymmetric=3]="Asymmetric",t.PathNodeType=void 0,(rt=t.PathNodeType||(t.PathNodeType={}))[rt.Node=0]="Node",rt[rt.ContourStart=1]="ContourStart",rt[rt.ContourEnd=2]="ContourEnd",rt[rt.ContourEndClosed=3]="ContourEndClosed";class vt{constructor(e,i,s=t.PathNodeType.Node,n=t.PathJoint.Cusp,r=null,o=null){this.x=e,this.y=i,this.type=s,this.joint=n,this.handleIn=r,this.handleOut=o}moveBy(t,e){return(0!==t||0!==e)&&(this.x+=t,this.y+=e,this.handleIn&&(this.handleIn=this.handleIn.shifted(t,e)),this.handleOut&&(this.handleOut=this.handleOut.shifted(t,e)),!0)}transform(t){if(t.isIdentity)return!1;const e=t.transformPoint(this);return this.x=e.x,this.y=e.y,this.handleIn&&(this.handleIn=t.transformPoint(this.handleIn)),this.handleOut&&(this.handleOut=t.transformPoint(this.handleOut)),!0}equals(t){return this.x===t.x&&this.y===t.y&&this.type===t.type&&this.joint===t.joint&&S(this.handleIn,t.handleIn)&&S(this.handleOut,t.handleOut)}clone(){return new vt(this.x,this.y,this.type,this.joint,this.handleIn,this.handleOut)}}class Pt{constructor(t){this._bounds=null,this._path=null,this.nodes=t||[]}get type(){return"path"}get isEmpty(){return 0===this.nodes.length||this.path.isEmpty}preparePath(t){t.addPath(this.path)}contains(t,e){return this.path.contains(t.x,t.y,e)}get path(){return this._path||(this._path=function(e){const i=e.length;let s=null,n=null;const r=new Skia.SkPath;for(let o=0;o<i;o++){const i=e[o];s&&i.type!==t.PathNodeType.ContourStart?(bt(r,s,i),i.type>=t.PathNodeType.ContourEnd?(bt(r,i,n),i.type===t.PathNodeType.ContourEndClosed&&r.close(),n=s=null):s=i):(r.moveTo(i.x,i.y),s=i,n=i)}return r}(this.nodes)),this._path}get bounds(){return this._bounds||(this._bounds=zt.fromLTRBObject(this.path.computeTightBounds())),this._bounds}get pathLength(){return this.path.length}closeAllContours(t){return!1}splitContoursIntoPaths(){const e=[],i=this.nodes,s=i.length;let n=null;for(let r=0;r<s;r++)i[r].type!==t.PathNodeType.ContourStart?i[r].type<t.PathNodeType.ContourEnd||e.push(new Pt(i.slice(n,r+1).map((t=>t.clone())))):n=r;return e}getPointAndAngleAtLength(t){const e=this.path.getPosTanAtLength(t);return e?{x:e.px,y:e.py,angle:Math.atan2(e.ty,e.tx)*B}:null}transform(t){return!t.isIdentity&&(this.nodes.forEach((e=>e.transform(t))),this._path&&this._path.transform(t),this._bounds=null,!0)}moveBy(t,e){return(0!==t||0!==e)&&(this.nodes.forEach((i=>i.moveBy(t,e))),this._path&&this._path.offset(t,e),this._bounds&&(this._bounds=this._bounds.shifted(t,e)),!0)}moveTo(t,e){const i=this.bounds;return(i.x!==t||i.y!==e)&&this.moveBy(t-i.x,e-i.y)}equals(t){const e=this.nodes.length;if(e!==t.nodes.length)return!1;for(let i=0;i<e;i++)if(!this.nodes[i].equals(t.nodes[i]))return!1;return!0}clone(){const t=new Pt(this.nodes.map((t=>t.clone())));return t._bounds=this._bounds,t}invalidate(){this._bounds&&(this._bounds=null),this._path&&(this._path.delete(),this._path=null)}dispose(){this.invalidate(),this.nodes.splice(0)}static fromSkPath(e,i=!0){return new Pt(function(e,i=!0){const s=[];let n=null,r=null;return e.walk(((e,o,a,u)=>{switch(e){case Skia.SkPathVerb.Move:r&&r.type<t.PathNodeType.ContourEnd&&(r.type=t.PathNodeType.ContourEnd),n=new vt(o.x,o.y,t.PathNodeType.ContourStart,t.PathJoint.Cusp),r=n;break;case Skia.SkPathVerb.Close:if(r){if(i&&(r.x!==n.x||r.y!==n.y)){r=new vt(n.x,n.y,t.PathNodeType.ContourEndClosed,t.PathJoint.Corner),n=null;break}r.type=t.PathNodeType.ContourEndClosed}n=r=null;break;case Skia.SkPathVerb.Line:r=new vt(o.x,o.y,t.PathNodeType.Node,t.PathJoint.Corner);break;case Skia.SkPathVerb.Quad:r&&(r.handleOut=new Ct(a.x,a.y)),r=new vt(o.x,o.y,t.PathNodeType.Node,t.PathJoint.Cusp);break;case Skia.SkPathVerb.Cubic:r&&(r.handleOut=new Ct(a.x,a.y)),r=new vt(o.x,o.y,t.PathNodeType.Node,t.PathJoint.Cusp,new Ct(a.x,u.x),null);break;default:return}r&&s.push(r)}),!1),s}(e,i))}static fromString(t,e=!0){const i=Skia.SkPath.MakeFromString(t,!1),s=this.fromSkPath(i,e);return s._path=i,s}}function bt(e,i,s){s.joint!==t.PathJoint.Corner&&s.handleIn?i.joint!==t.PathJoint.Corner&&i.handleOut?e.cubicTo(s.x,s.y,i.handleOut.x,i.handleOut.y,s.handleIn.x,s.handleIn.y):e.quadTo(s.x,s.y,s.handleIn.x,s.handleIn.y):i.joint!==t.PathJoint.Corner&&i.handleOut?e.quadTo(s.x,s.y,i.handleOut.x,i.handleOut.y):e.lineTo(s.x,s.y)}class kt{constructor(t,e=!1){this.points=t,this.isClosed=e}get type(){return"poly"}equals(t){if(this.isClosed!==t.isClosed)return!1;const e=this.points.length;if(t.points.length!==e)return!1;for(let i=0;i<e;i++)if(!this.points[i].equals(t.points[i]))return!1;return!0}transform(t){return!t.isIdentity&&(this.points=this.points.map((e=>t.transformPoint(e))),!0)}clone(){return new kt(this.points.slice(),this.isClosed)}get isLine(){return!this.isClosed&&2===this.points.length}preparePath(t){t.addPoly(this.points,this.isClosed)}}function Ot(t){return t>0}class Bt{constructor(t,e,i=!1){this._rx=t,this._ry=e,this._multiple=i,this.fix()}equals(t){return this._multiple==t._multiple&&(S(this._rx,t._rx)&&S(this._ry,t._ry))}get isRounded(){return this._multiple?-1!==this._rx.findIndex(Ot)||-1!==this._ry.findIndex(Ot):this._rx>0||this._ry>0}get multiple(){return this._multiple}set multiple(t){this._multiple!==t&&(this._multiple=t,this.fix())}get rx(){return this._rx}set rx(t){if(this._rx===t)return;const e=typeof this._rx!=typeof t;this._rx=t,e&&this.fix()}get ry(){return this._ry}set ry(t){if(this._ry===t)return;const e=typeof this._ry!=typeof t;this._ry=t,e&&this.fix()}clone(){return new Bt(this._multiple&&Array.isArray(this._rx)?[...this._rx]:this._rx,this._multiple&&Array.isArray(this._ry)?[...this._ry]:this._ry,this._multiple)}fix(){const t=Array.isArray(this._rx),e=Array.isArray(this._ry);if(this._multiple){if(!t){const t=this._rx;this._rx=[t,t,t,t]}if(!e){const t=this._ry;this._ry=[t,t,t,t]}}else t&&(this._rx=this._rx[0]),e&&(this._ry=this._ry[0])}}class Yt{constructor(t=1,e=1,i=null){this.width=t,this.height=e,this.radius=i||new Bt(0,0,!1)}get type(){return"rect"}get isRounded(){return this.radius.isRounded}get oval(){return new zt(0,0,this.width,this.height)}equals(t){return this.width===t.width&&this.height===t.height&&this.radius.equals(t.radius)}clone(){return new Yt(this.width,this.height,this.radius.clone())}preparePath(t){if(!this.radius.isRounded)return void t.addRect(0,0,this.width,this.height);const e=this.radius.rx,i=this.radius.ry;this.radius.multiple?t.addRRect({rect:this.oval,rx1:e[0],ry1:i[0],rx2:e[1],ry2:i[1],rx3:e[2],ry3:i[2],rx4:e[3],ry4:i[3]}):t.addRoundRect(this.oval,e,i)}}class Ut{constructor(t,e,i=0,s=0){this.sides=t,this.radius=e,this.cornerRadius=i,this.angle=s}get type(){return"regular-polygon"}equals(t){return this.sides===t.sides&&this.radius===t.radius&&this.cornerRadius===t.cornerRadius&&this.angle===t.angle}clone(){return new Ut(this.sides,this.radius,this.cornerRadius,this.angle)}preparePath(t){t.addRegularPolygon(0,0,this.radius,this.sides,this.cornerRadius,this.angle)}}class Zt{constructor(t,e,i,s=0,n=0,r=0,o=0,a=0){this.sides=t,this.outerRadius=e,this.innerRadius=i,this.outerCornerRadius=s,this.innerCornerRadius=n,this.outerRotate=r,this.innerRotate=o,this.angle=a}get type(){return"star"}equals(t){return this.sides===t.sides&&this.outerRadius===t.outerRadius&&this.innerRadius===t.innerRadius&&this.outerCornerRadius===t.outerCornerRadius&&this.innerCornerRadius===t.innerCornerRadius&&this.outerRotate===t.outerRotate&&this.innerRotate===t.innerRotate&&this.angle===t.angle}clone(){return new Zt(this.sides,this.outerRadius,this.innerRadius,this.outerCornerRadius,this.innerCornerRadius,this.outerRotate,this.innerRotate,this.angle)}preparePath(t){t.addStar(0,0,this.outerRadius,this.innerRadius,this.sides,this.outerRotate,this.innerRotate,this.outerCornerRadius,this.innerCornerRadius,this.angle)}}class Rt{constructor(t){t&&20===t.length||((t=new Float32Array(20))[0]=t[6]=t[12]=t[18]=1),this.value=t}equals(t){const e=this.value.length;if(t.value.length!==e)return!1;for(let i=0;i<e;i++)if(this.value[i]!==t.value[i])return!1;return!0}clone(){return new Rt(this.value.slice())}toIdentity(){const t=this.value;return t[0]=t[6]=t[12]=t[18]=1,t[1]=t[2]=t[3]=t[4]=t[5]=t[7]=t[8]=t[9]=t[10]=t[11]=t[13]=t[14]=t[15]=t[16]=t[17]=t[19]=0,this}preMultiply(t){return Qt(t instanceof Rt?t.value:t,this.value,this.value),this}multiply(t){return Qt(this.value,t instanceof Rt?t.value:t,this.value),this}brightness(t){return this.multiply([t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0])}luminanceToAlpha(){return this.multiply([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0])}greyscale(t){return this.multiply([t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0])}hueRotate(t){t*=O;const e=Math.cos(t),i=(1-e)/3,s=Math.sin(t)*Math.sqrt(3)/3;return this.multiply([e+i,i-s,i+s,0,0,i+s,e+i,i-s,0,0,i-s,i-s,e+i,0,0,0,0,0,1,0])}contrast(t){const e=-t/2;return t++,this.multiply([t,0,0,0,e,0,t,0,0,e,0,0,t,0,e,0,0,0,1,0])}saturate(t){const e=1+2*t/3,i=(1-e)/2;return this.multiply([e,i,i,0,0,i,e,i,0,0,i,i,e,0,0,0,0,0,1,0])}desaturate(t=1){return this.saturate(-t)}sepia(t){return this.multiply([1-.607*t,.769*t,.189*t,0,0,.349*t,1-.314*t,.168*t,0,0,.272*t,.534*t,1-.869*t,0,0,0,0,0,1,0])}blackAndWhite(){return this.multiply([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0])}negative(){return this.multiply([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0])}bgr(){return this.multiply([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0])}technicolor(){return this.multiply([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0])}polaroid(){return this.multiply([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0])}kodachrome(){return this.multiply([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0])}browni(){return this.multiply([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0])}vintage(){return this.multiply([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0])}colorTone(t=.2,e=.15,i=16770432,s=3375104){const n=(i>>16&255)/255,r=(i>>8&255)/255,o=(255&i)/255,a=(s>>16&255)/255,u=(s>>8&255)/255,l=(255&s)/255;return this.multiply([.3,.59,.11,0,0,n,r,o,t,0,a,u,l,e,0,n-a,r-u,o-l,0,0])}night(t=.1){return this.multiply([2*-t,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0])}predator(t){return this.multiply([11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0,.8044459223747253*t,0,0,0,1,0])}lsd(){return this.multiply([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0])}warm(){return this.multiply([1.06,0,0,0,0,0,1.01,0,0,0,0,0,.93,0,0,0,0,0,1,0])}cool(){return this.multiply([.99,0,0,0,0,0,.93,0,0,0,0,0,1.08,0,0,0,0,0,1,0])}exposure(t){return this.multiply([t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0])}temperature(t){return this.multiply([1+t,0,0,0,0,0,1,0,0,0,0,0,1-t,0,0,0,0,0,1,0])}tint(t){return this.multiply([1+t,0,0,0,0,0,1,0,0,0,0,0,1+t,0,0,0,0,0,1,0])}protanomaly(){return this.multiply([.817,.183,0,0,0,.333,.667,0,0,0,0,.125,.875,0,0,0,0,0,1,0])}deuteranomaly(){return this.multiply([.8,.2,0,0,0,.258,.742,0,0,0,0,.142,.858,0,0,0,0,0,1,0])}protanopia(){return this.multiply([.567,.433,0,0,0,.558,.442,0,0,0,0,.242,.758,0,0,0,0,0,1,0])}deuteranopia(){return this.multiply([.625,.375,0,0,0,.7,.3,0,0,0,0,.3,.7,0,0,0,0,0,1,0])}tritanopia(){return this.multiply([.95,.05,0,0,0,0,.433,.567,0,0,0,.475,.525,0,0,0,0,0,1,0])}achromatopsia(){return this.multiply([.299,.587,.114,0,0,.299,.587,.114,0,0,.299,.587,.114,0,0,0,0,0,1,0])}achromatomaly(){return this.multiply([.618,.32,.062,0,0,.163,.775,.062,0,0,.163,.32,.516,0,0,0,0,0,1,0])}}function Qt(t,e,i){i[0]=t[0]*e[0]+t[1]*e[5]+t[2]*e[10]+t[3]*e[15],i[1]=t[0]*e[1]+t[1]*e[6]+t[2]*e[11]+t[3]*e[16],i[2]=t[0]*e[2]+t[1]*e[7]+t[2]*e[12]+t[3]*e[17],i[3]=t[0]*e[3]+t[1]*e[8]+t[2]*e[13]+t[3]*e[18],i[4]=t[0]*e[4]+t[1]*e[9]+t[2]*e[14]+t[3]*e[19]+t[4],i[5]=t[5]*e[0]+t[6]*e[5]+t[7]*e[10]+t[8]*e[15],i[6]=t[5]*e[1]+t[6]*e[6]+t[7]*e[11]+t[8]*e[16],i[7]=t[5]*e[2]+t[6]*e[7]+t[7]*e[12]+t[8]*e[17],i[8]=t[5]*e[3]+t[6]*e[8]+t[7]*e[13]+t[8]*e[18],i[9]=t[5]*e[4]+t[6]*e[9]+t[7]*e[14]+t[8]*e[19]+t[9],i[10]=t[10]*e[0]+t[11]*e[5]+t[12]*e[10]+t[13]*e[15],i[11]=t[10]*e[1]+t[11]*e[6]+t[12]*e[11]+t[13]*e[16],i[12]=t[10]*e[2]+t[11]*e[7]+t[12]*e[12]+t[13]*e[17],i[13]=t[10]*e[3]+t[11]*e[8]+t[12]*e[13]+t[13]*e[18],i[14]=t[10]*e[4]+t[11]*e[9]+t[12]*e[14]+t[13]*e[19]+t[14],i[15]=t[15]*e[0]+t[16]*e[5]+t[17]*e[10]+t[18]*e[15],i[16]=t[15]*e[1]+t[16]*e[6]+t[17]*e[11]+t[18]*e[16],i[17]=t[15]*e[2]+t[16]*e[7]+t[17]*e[12]+t[18]*e[17],i[18]=t[15]*e[3]+t[16]*e[8]+t[17]*e[13]+t[18]*e[18],i[19]=t[15]*e[4]+t[16]*e[9]+t[17]*e[14]+t[18]*e[19]+t[19]}t.BlendMode=void 0,(ot=t.BlendMode||(t.BlendMode={}))[ot.Color=0]="Color",ot[ot.ColorBurn=1]="ColorBurn",ot[ot.ColorDodge=2]="ColorDodge",ot[ot.Darken=3]="Darken",ot[ot.Difference=4]="Difference",ot[ot.Exclusion=5]="Exclusion",ot[ot.HardLight=6]="HardLight",ot[ot.Hue=7]="Hue",ot[ot.Lighten=8]="Lighten",ot[ot.Luminosity=9]="Luminosity",ot[ot.Multiply=10]="Multiply",ot[ot.Normal=11]="Normal",ot[ot.Overlay=12]="Overlay",ot[ot.Saturation=13]="Saturation",ot[ot.Screen=14]="Screen",ot[ot.SoftLight=15]="SoftLight";class Gt{constructor(e=t.BlendMode.Normal,i=1,s=!1){this.blend=e,this.opacity=_(i,0,1),this.isolate=s}clone(){return new Gt(this.blend,this.opacity,this.isolate)}get needsLayer(){return this.isolate||1!==this.opacity||this.blend!==t.BlendMode.Normal}get isVisible(){return this.opacity>0}preparePaint(e){if(!this.needsLayer)return!1;switch(e.isAntiAlias=!0,e.alpha=this.opacity,this.blend){case t.BlendMode.Color:e.blendMode=Skia.SkBlendMode.Color;break;case t.BlendMode.ColorBurn:e.blendMode=Skia.SkBlendMode.ColorBurn;break;case t.BlendMode.ColorDodge:e.blendMode=Skia.SkBlendMode.ColorDodge;break;case t.BlendMode.Darken:e.blendMode=Skia.SkBlendMode.Darken;break;case t.BlendMode.Difference:e.blendMode=Skia.SkBlendMode.Difference;break;case t.BlendMode.Exclusion:e.blendMode=Skia.SkBlendMode.Exclusion;break;case t.BlendMode.HardLight:e.blendMode=Skia.SkBlendMode.HardLight;break;case t.BlendMode.Hue:e.blendMode=Skia.SkBlendMode.Hue;break;case t.BlendMode.Lighten:e.blendMode=Skia.SkBlendMode.Lighten;break;case t.BlendMode.Luminosity:e.blendMode=Skia.SkBlendMode.Luminosity;break;case t.BlendMode.Multiply:e.blendMode=Skia.SkBlendMode.Multiply;break;case t.BlendMode.Normal:e.blendMode=Skia.SkBlendMode.SrcOver;break;case t.BlendMode.Overlay:e.blendMode=Skia.SkBlendMode.Overlay;break;case t.BlendMode.Saturation:e.blendMode=Skia.SkBlendMode.Saturation;break;case t.BlendMode.Screen:e.blendMode=Skia.SkBlendMode.Screen;break;case t.BlendMode.SoftLight:e.blendMode=Skia.SkBlendMode.SoftLight}return!0}equals(t){return this.blend===t.blend&&this.opacity===t.opacity&&this.isolate===t.isolate}}Gt.NormalComposition=new Gt(t.BlendMode.Normal,1),Gt.NormalIsolatedComposition=new Gt(t.BlendMode.Normal,1,!0);class Ht{constructor(t,e=new xt,i=null){this._stack=[],this._paint=null,this._canvas=t,this._matrix=e,this._paint=new Skia.SkPaint,this._canvas.setMatrix(e),this._surface=i}get canvas(){return this._canvas}get paint(){return this._paint}get surface(){return this._surface}dispose(){this._canvas=null,this._surface=null,this._stack.splice(0),this._matrix.toIdentity(),this._paint&&(this._paint.delete(),this._paint=null)}get matrix(){return this._matrix}set matrix(t){this._matrix=t,this._canvas.setMatrix(t)}multiplyMatrix(t){t.isIdentity||(this.matrix=this._matrix.multiply(t))}translate(t,e){(t||e)&&(this.matrix=this._matrix.translate(t,e))}clipSize(t,e=Ct.ZERO){this._canvas.clipRect(zt.fromSize(t,e),Skia.SkClipOp.Intersect,!0)}clipRect(t){this._canvas.clipRect(t,Skia.SkClipOp.Intersect,!0)}clipPath(t){this._canvas.clipPath(Wt(t),Skia.SkClipOp.Intersect,!0)}clear(t){this._canvas.clear(t.code)}drawQuad(t,e){if(!e.isVisible)return;const i=this._paint;if(e.preparePaint(i)){const e=t.points,s=this._canvas;s.drawLine(e[0].x,e[0].y,e[1].x,e[1].y,i),s.drawLine(e[1].x,e[1].y,e[2].x,e[2].y,i),s.drawLine(e[2].x,e[2].y,e[3].x,e[3].y,i),s.drawLine(e[3].x,e[3].y,e[0].x,e[0].y,i)}i.reset()}drawRect(t,e){if(!e.isVisible)return;const i=this._paint;e.preparePaint(i)&&this._canvas.drawRect(t.left,t.top,t.right,t.bottom,i),i.reset()}drawCircle(t,e,i){if(!i.isVisible)return;const s=this._paint;i.preparePaint(s)&&this._canvas.drawCircle(t.x,t.y,e,s),s.reset()}drawEllipse(t,e,i,s){if(!s.isVisible)return;const n=this._paint;s.preparePaint(n)&&this._canvas.drawEllipse(t.x,t.y,e,i,n),n.reset()}drawText(t,e,i,s=Ct.ZERO){if(!e.isVisible)return;const n=this._paint;e.preparePaint(n)&&("string"==typeof t?this._canvas.drawText(t,n,i.nativeFont,Skia.SkTextEncoding.UTF8,s.x,s.y):this._canvas.drawGlyphs(t,n,i.nativeFont,!0,s.x,s.y)),n.reset()}drawLine(t,e,i){if(!i.isVisible)return;const s=this._paint;i.preparePaint(s)&&this._canvas.drawLine(t,e,s),s.reset()}drawArc(t,e,i,s){if(!s.isVisible||e===i)return;const n=this._paint;s.preparePaint(n)&&this._canvas.drawArc(t,e,i,!0,n),n.reset()}drawImage(t,e=0,i=0,s){if(!s)return void this._canvas.drawImage(t,e,i);if(!s.isVisible)return;const n=this._paint;s.preparePaint(n)?this._canvas.drawImage(t,e,i,n):this._canvas.drawImage(t,e,i),n.reset()}drawPicture(t,e){if(!e)return void this._canvas.drawPicture(t);if(!e.isVisible)return;const i=this._paint;e.preparePaint(i)?this._canvas.drawPicture(t,i):this._canvas.drawPicture(t),i.reset()}drawPath(t,e){if(t.isEmpty||!e.isVisible)return;const i=this._paint;e.preparePaint(i)&&this._canvas.drawPath(Wt(t),i),i.reset()}flush(){this._surface?.flush()}restore(){0!==this._stack.length&&(this._canvas.restore(),this._matrix=this._stack.pop())}save(){this._canvas.save(),this._stack.push(this._matrix.clone())}getStrokePath(t,e){let i=null;const s=this._paint;return e.preparePaint(s)&&(i=Wt(t).getFilled(s)),s.reset(),i}}function Wt(t){return t instanceof Pt?t.path:t}t.FontStyle=void 0,(at=t.FontStyle||(t.FontStyle={}))[at.Normal=0]="Normal",at[at.Italic=1]="Italic",t.FontWeight=void 0,(ut=t.FontWeight||(t.FontWeight={}))[ut.Invisible=0]="Invisible",ut[ut.Thin=100]="Thin",ut[ut.ExtraLight=200]="ExtraLight",ut[ut.Light=300]="Light",ut[ut.Normal=400]="Normal",ut[ut.Medium=500]="Medium",ut[ut.SemiBold=600]="SemiBold",ut[ut.Bold=700]="Bold",ut[ut.ExtraBold=800]="ExtraBold",ut[ut.Black=900]="Black",ut[ut.ExtraBlack=1e3]="ExtraBlack";class Vt{constructor(e,i=16){this.font=null,this.typeface=e,this._size=i,this.style=e.isItalic?t.FontStyle.Italic:t.FontStyle.Normal,this.weight=e.fontStyle.weight}get size(){return this._size}set size(t){this._size=t,this.font&&(this.font.size=t)}get nativeFont(){if(!this.font){let t=this.font=new Skia.SkFont(this.typeface,this._size);t.hinting=Skia.SkFontHinting.Normal,t.edging=Skia.SkFontEdging.SubpixelAntiAlias,t.isSubpixel=!0}return this.font}convertTextToGlyphs(t){return this.nativeFont.textToGlyphs(t)}getGlyphsBounds(t){return zt.fromLTRBObject(this.nativeFont.measureBounds(t))}getTextBounds(t){return zt.fromLTRBObject(this.nativeFont.measureTextBounds(t,Skia.SkTextEncoding.UTF8))}equals(t){return this.style===t.style&&this.weight===t.weight&&this.family===t.family&&this.size===t.size}clone(){return new Vt(this.typeface.clone(),this._size)}dispose(){this.typeface&&(this.typeface.delete(),this.typeface=null),this.font&&(this.font.delete(),this.font=null)}}const Ft=new class{constructor(){this.typefaces=new Set,this.defaultTypeface=null}registerTypeface(t,e=!1){this.typefaces.add(t),e&&(this.defaultTypeface=t)}getFont(e,i=t.FontStyle.Normal,s=t.FontWeight.Normal,n=16){for(const t of this.typefaces)if(t.familyName===e)return new Vt(t.clone(),n);return this.getDefaultFont(n)}getDefaultFont(t=16){return new Vt(this.defaultTypeface.clone(),t)}dispose(){this.defaultTypeface=null;for(const t of this.typefaces)t.delete();this.typefaces.clear()}};class Kt{constructor(t,e){this.width=t,this.height=e}equals(t){return this.width===t.width&&this.height===t.height}clone(){return new Kt(this.width,this.height)}}const Jt=[{x:t.Position.Start,y:t.Position.Start},{x:t.Position.Middle,y:t.Position.Start},{x:t.Position.End,y:t.Position.Start},{x:t.Position.End,y:t.Position.Middle},{x:t.Position.End,y:t.Position.End},{x:t.Position.Middle,y:t.Position.End},{x:t.Position.Start,y:t.Position.End},{x:t.Position.Start,y:t.Position.Middle}].map(Object.freeze);class Xt{constructor(t,e){if(this._area=null,this._ml=null,this._mt=null,this._mr=null,this._mb=null,t instanceof zt?(this.bounds=t,this.points=[t.topLeft,t.topRight,t.bottomRight,t.bottomLeft]):(this.bounds=zt.fromPoints(...t),this.points=[...t]),e){const t=this.bounds.middle;this.points.sort(((e,i)=>e.getDirectionTo(t)-i.getDirectionTo(t)))}}get isVisible(){return!v(this.area,0)}get left(){return this.bounds.left}get top(){return this.bounds.top}get right(){return this.bounds.right}get bottom(){return this.bounds.bottom}get width(){return this.bounds.width}get height(){return this.bounds.height}get middle(){return this.bounds.middle}get middleLeft(){return null==this._ml&&(this._ml=this.points[3].getMiddle(this.points[0])),this._ml}get middleTop(){return null==this._mt&&(this._mt=this.points[0].getMiddle(this.points[1])),this._mt}get middleRight(){return null==this._mr&&(this._mr=this.points[1].getMiddle(this.points[2])),this._mr}get middleBottom(){return null==this._mb&&(this._mb=this.points[2].getMiddle(this.points[3])),this._mb}get topLeft(){return this.points[0]}get topRight(){return this.points[1]}get bottomRight(){return this.points[2]}get bottomLeft(){return this.points[3]}get area(){return null==this._area&&(this._area=qt(this.points[0],this.points[1],this.points[2])+qt(this.points[2],this.points[3],this.points[0])),this._area}contains(t,e){return this.containsPoint(new Ct(t,e))}containsPoint(t){if(!this.bounds.containsPoint(t))return!1;let e=0;return e+=qt(t,this.points[0],this.points[1]),e+=qt(t,this.points[1],this.points[2]),e+=qt(t,this.points[2],this.points[3]),e+=qt(t,this.points[3],this.points[0]),v(e,this.area)}intersectsRect(t){if(t.bottom<=this.top||t.top>=this.bottom||t.right<=this.left||t.left>=this.right)return!1;if(t.top<=this.top&&t.bottom>=this.bottom||t.left<=this.left&&t.right>=this.right)return!0;for(let e=0;e<4;e++)if(t.containsPoint(this.points[e]))return!0;return this.containsPoint(t.topLeft)||this.containsPoint(t.bottomRight)||this.containsPoint(t.topRight)||this.containsPoint(t.bottomLeft)||this.containsPoint(t.middle)}clone(){return this}equals(t){for(let e=0;e<4;e++)if(!this.points[e].equals(t.points[e]))return!1;return!0}transform(t){return!t||t.isIdentity?this:new Xt([t.transformPoint(this.points[0]),t.transformPoint(this.points[1]),t.transformPoint(this.points[2]),t.transformPoint(this.points[3])])}getQuadPointPosition(t,e){let i=0;for(const s of this.sidePoints()){if(s.distanceTo(t)<=e)return Jt[i];i++}return null}getPointAtPosition(e,i,s){switch(s&&(e=Z(e),i=Z(i)),e){case t.Position.Start:switch(i){case t.Position.Start:return this.points[0];case t.Position.Middle:return this.middleLeft;case t.Position.End:return this.points[3]}break;case t.Position.Middle:switch(i){case t.Position.Start:return this.middleTop;case t.Position.Middle:return this.middle;case t.Position.End:return this.middleBottom}break;case t.Position.End:switch(i){case t.Position.Start:return this.points[1];case t.Position.Middle:return this.middleRight;case t.Position.End:return this.points[2]}}return null}*middlePoints(t){yield this.middleTop,yield this.middleRight,yield this.middleBottom,yield this.middleLeft,t&&(yield this.middle)}*sidePoints(t){yield this.points[0],yield this.middleTop,yield this.points[1],yield this.middleRight,yield this.points[2],yield this.middleBottom,yield this.points[3],yield this.middleLeft,t&&(yield this.middle)}static fromSize(t,e){return!e||e.isIdentity?new Xt(zt.fromSize(t)):new Xt([e.point(0,0),e.point(t.width,0),e.point(t.width,t.height),e.point(0,t.height)])}static fromRectangle(t,e){return!e||e.isIdentity?new Xt(t):new Xt([e.transformPoint(t.topLeft),e.transformPoint(t.topRight),e.transformPoint(t.bottomRight),e.transformPoint(t.bottomLeft)])}static fromPoints(t,e){return new Xt(t.map(e&&!e.isIdentity?t=>e.transformPoint(t):Ct.fromObject))}}function qt(t,e,i){const s=t.distanceTo(e),n=e.distanceTo(i),r=i.distanceTo(t),o=(s+n+r)/2;return Math.sqrt(o*(o-s)*(o-n)*(o-r))}Xt.ZERO=new Xt([Ct.ZERO,Ct.ZERO,Ct.ZERO,Ct.ZERO]);class $t{constructor(t){this._matrix=new xt,this._pan={x:0,y:0},this._zoom=1,this.hash=0,this._onChange=t}dispose(){this._onChange=null,this._matrix=null,this._pan=null}get matrix(){return this._matrix}get pan(){return this._pan}set pan(t){this._pan.x!==t.x&&this._pan.y!==t.y&&(this._pan.x=t.x,this._pan.y=t.y,this._updateMatrix())}get zoom(){return this._zoom}set zoom(t){this.panAndZoom(this._pan,t)}panBy(t){return(0!==t.x||0!==t.y)&&(this._pan.x+=t.x,this._pan.y+=t.y,this._updateMatrix(),!0)}panAndZoom(t,e){return e=_(e,.01,100),(this._zoom!==e||this._pan.x!==t.x||this._pan.y!==t.y)&&(this._zoom=e,this._pan.x=t.x,this._pan.y=t.y,this._updateMatrix(),!0)}getPointPosition(t){return this._matrix.transformInversePoint(t)}getRectangleFromPoints(...t){return zt.fromTransformedPoints(this._matrix,...t)}getLineWidth(t=1){return t/this.matrix.lineScale}zoomFit(t,e,i=0){i*=2;const s=Math.min((e.width-i)/t.width,(e.height-i)/t.height);return this.panAndZoom({x:(e.width-t.width*s)/2,y:(e.height-t.height*s)/2},s)}zoomByCoefficient(t,e){const i=this._zoom;if((e=_(i*e,.01,100))===i)return!1;this._zoom=e;const s=this._pan;return s.x=t.x+e*(s.x-t.x)/i,s.y=t.y+e*(s.y-t.y)/i,this._updateMatrix(),!0}reset(){this._pan.x=this._pan.y=0,this._zoom=1,this._updateMatrix()}_updateMatrix(){this._matrix.toIdentity().panZoom(this._pan,this._zoom),this.hash++,this._onChange&&this._onChange()}}class te{constructor(){this.ignoredElements=new Set,this.ignoredX=new Set,this.ignoredY=new Set,this.tolerance=0,this.dpr=1,this.result=null,this.boxes=new Set,this.linePen=new ft,this.boxPen=new ft}dispose(){this.reset(),this.ignoredElements=null,this.ignoredX=this.ignoredY=null,this.document=null}render(t){if(!this.result)return;const e=t.context;e.save(),e.multiplyMatrix(t.viewBox.matrix);const i=e.matrix.lineScale/t.dpr,s=this.result;if(s.boxes){this.boxPen.width=1/i,this.boxPen.dashes=[2/i,4/i];for(const t of s.boxes)e.drawQuad(t,this.boxPen)}if(this.linePen.width=1/i,s.points){const t=2/i;for(const i of s.points)e.drawCircle(i,t,this.linePen)}if(s.lines)for(const t of s.lines)e.drawLine(t.from,t.to,this.linePen);e.restore()}updateTheme(t){this.linePen.brush=this.boxPen.brush=new ct(t.snap)}init(t,e){if(this.reset(),this.document=null,this.options=t.snappingOptions,this.options.enabled){if(this.document=t.project?.document,this.updateTheme(t.theme),this.dpr=t.dpr,this.tolerance=this.options.tolerance/t.dpr,e)for(const t of e)this.ignoredElements.add(t);if(this.options.bounds&&this.boxes.add(this.document.globalBounds),this.options.bounds||this.options.points||this.options.contours)for(const t of this.document.children(!0))this.collect(t)}}reset(){this.result=null,this.ignoredX.clear(),this.ignoredY.clear(),this.boxes.clear(),this.ignoredElements.clear()}addIgnoredPoints(t){for(const e of t)this.ignoredX.add(e.x),this.ignoredY.add(e.y)}addIgnoreBox(t){this.ignoredX.add(t.left).add(t.middle.x).add(t.right),this.ignoredY.add(t.top).add(t.middle.y).add(t.bottom)}clearIgnoredPoints(){this.ignoredX.clear(),this.ignoredY.clear()}snapPoint(t){if(this.result=null,!this.options.enabled)return t;this.tolerance=this.options.tolerance/this.dpr;const e=function(t,e){if(!e)return null;let i,s,n=new Set,r=new Set,o=null,a=null;null!=e.x.value&&(o=e.x.value,s=se(e.x,"y",n,r));null!=e.y.value&&(a=e.y.value,i=se(e.y,"x",n,r));if(null===o&&null===a)return null;const u=new Ct(null==o?t.x:o,null==a?t.y:a),l=i?ie(ee(i,u.x),u.y,"x"):null,h=s?ie(ee(s,u.y),u.x,"y"):null;return{point:u,lines:h?l?[h,l]:[h]:l?[l]:null,points:n,boxes:r}}(t,this.snapOne(t));return this.result=e,e?e.point:this.options.pixel?t.rounded():t}snapToSelectionBounds(t,e){return t.viewBox.zoom>1&&(this.tolerance=t.viewBox.getLineWidth(this.options.tolerance)),this.tolerance/=t.dpr,this.snapBounds(1===t.selection.length?t.selection.activeElement.globalBounds.bounds:t.selection.boundingBox,e)}snapBounds(t,e){if(this.result=null,!this.options.enabled)return e;const i=this.snapBox(t,e,!0);return this.result=i,i?i.point:e}snapBox(t,e,i){0!==e.x&&this.ignoredX.add(t.left).add(t.middleX).add(t.right),0!==e.y&&this.ignoredY.add(t.top).add(t.middleY).add(t.bottom);const s=this.getOneAxisSnaps(t.horizontal(i),"x",e.x),n=this.getOneAxisSnaps(t.vertical(i),"y",e.y);if(this.clearIgnoredPoints(),0===s.length&&0===n.length)return null;const r=s.length>0?s[0].diff:0,o=n.length>0?n[0].diff:0,a=new Set,u=new Set,l=[];let h,M;for(const e of s)null!=(h=se(e,"y",a,u))&&(h.max<=t.top?h.max=t.bottom:h.min>=t.bottom&&(h.min=t.top),M=ie(h,e.value,"y"),M&&l.push(M));for(const e of n)null!=(h=se(e,"x",a,u))&&(h.max<=t.left?h.max=t.right:h.min>=t.right&&(h.min=t.left),M=ie(h,e.value,"x"),M&&l.push(M));return{point:e.shifted(r,o),lines:l.length>0?l:null,points:a.size>0?a:null,boxes:u.size>0?u:null}}getOneAxisSnaps(t,e,i=0){let s,n=Number.POSITIVE_INFINITY,r=[];for(const o of t)s=this.snapOneAxis(o,e,i),!s||n<s.delta||(n!==s.delta?(n=s.delta,r.splice(0,r.length,s)):r.push(s));return r}snapMultiple(t,e){let i=null;for(const s of t)i=ne(i,this.snapOne(s,e));return!i||null==i.x.value&&null==i.y.value?null:i}snapOneAxis(t,e,i=0){const s={value:null,diff:0,delta:Number.POSITIVE_INFINITY,items:null,original:t};return this.options.bounds&&this.snapToOneBoxAxis(s,t,e,this.boxes,i),this.options.guides&&this.snapToGuidesAxis(s,t,e,this.document.guides,i),this.options.grid&&this.snapToGridAxis(s,t,e,this.document.grid,i),null==s.value?null:s}snapOne(t,e){const i={x:{value:null,diff:0,delta:Number.POSITIVE_INFINITY,items:null,original:t.x},y:{value:null,diff:0,delta:Number.POSITIVE_INFINITY,items:null,original:t.y}};return e&&!e.isZero&&(t=t.add(e)),this.options.bounds&&this.snapToMultipleBoxesAxis(i,t,this.boxes),this.options.guides&&this.snapToGuides(i,t,this.document.guides),this.options.grid&&this.snapToGrid(i,t,this.document.grid),null==i.x.value&&null==i.y.value?null:i}snapToGrid(t,e,i){}snapToGridAxis(t,e,i,s,n){}snapToGuides(t,e,i){for(const s of i)s.isHorizontal?this.ignoredY.has(s.position)||re(t.y,e.y,s.position,null,null,this.tolerance):this.ignoredX.has(s.position)||re(t.x,e.x,s.position,null,null,this.tolerance)}snapToGuidesAxis(t,e,i,s,n){const r="x"===i,o="x"===i?this.ignoredX:this.ignoredY;let a;const u=e+n,l=0===n?0:this.tolerance;for(const i of s)r===i.isHorizontal&&(a=i.position,o.has(a)||n<0&&a>e||n>0&&a<e||re(t,u,a,null,null,l))}snapToMultipleBoxesAxis(t,e,i){for(const s of i)for(const i of s.sidePoints(!0))this.ignoredX.has(i.x)||re(t.x,e.x,i.x,i,s,this.tolerance),this.ignoredY.has(i.y)||re(t.y,e.y,i.y,i,s,this.tolerance)}snapToOneBoxAxis(t,e,i,s,n=0){const r="x"===i?this.ignoredX:this.ignoredY;let o,a=e+n;for(const u of s)for(const s of u.sidePoints(!0))o=s[i],r.has(o)||this.isSnapBack(e,o,n)||re(t,a,o,s,u,this.tolerance)}isSnapBack(t,e,i){return 0!==i&&(i<0&&e>t||i>0&&e<t)}collect(t){if(!t.hidden&&!this.ignoredElements.has(t)){if(this.canCollectChildren(t))for(const e of t.children(!0))this.collect(e);this.canCollectElement(t)&&(this.options.bounds&&this.boxes.add(t.globalBounds),this.options.points&&this.collectElementPoints(t))}}canCollectChildren(t){return t.supportsChildren&&t.hasChildren&&"group"==t.type}canCollectElement(t){return"group"!==t.type}collectElementPoints(t){}}function ee(t,e){return e<t.min?t.min=e:e>t.max&&(t.max=e),t}function ie(t,e,i){if(!t||t.min==t.max)return null;const s="x"===i?"y":"x";return{from:{[s]:e,[i]:t.min},to:{[s]:e,[i]:t.max}}}function se(t,e,i,s){if(!t.items)return null;let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,o=null;for(const a of t.items)a.box&&s.add(a.box),a.point&&(i.add(a.point),o=a.point[e],o<n&&(n=o),o>r&&(r=o));return null===o?null:{min:n,max:r}}function ne(t,e){if(null==t)return e;if(null==e)return t;let i,s;return i=null==t.x.value?e.x:null==e.x.value?t.x:t.x.delta===e.x.delta?{original:t.x.original,value:t.x.value,diff:t.x.diff,delta:t.x.delta,items:t.x.items?e.x.items?[...t.x.items,...e.x.items]:t.x.items:e.x.items}:t.x.delta<e.x.delta?t.x:e.x,s=null==t.y.value?e.y:null==e.y.value?t.y:t.y.delta===e.y.delta?{original:t.y.original,value:t.y.value,diff:t.y.diff,delta:t.y.delta,items:t.y.items?e.y.items?[...t.y.items,...e.y.items]:t.y.items:e.y.items}:t.y.delta<e.y.delta?t.y:e.y,{x:i,y:s}}function re(t,e,i,s,n,r){if(e===i)return t.value=i,t.delta=t.diff=0,void(t.items?t.items.push({point:s,box:n}):t.items=[{point:s,box:n}]);const o=i-e,a=o<0?-o:o;a>r||a>t.delta||(t.diff=o,t.value=i,a!==t.delta&&t.items&&t.items.splice(0),t.delta=a,t.items?t.items.push({point:s,box:n}):t.items=[{point:s,box:n}])}class oe{constructor(){this.data=null,this.mouseDownEvent=null,this.panPivot=null,this.isInvalidated=!0,this.snapshotImage=null,this.allowSnapshotCapture=!0,this.keyboardStatus=null,this.defaultCanvasCursor=t.Cursor.Default,this._snapping=null}get startPosition(){return this?.mouseDownEvent.position}activate(t,e){this.keyboardStatus=t.keyboardStatus,this.data=e,this.invalidate(),t.cursor=this.defaultCanvasCursor,this.updateTheme(t)}deactivate(e){this.keyboardStatus=null,this.mouseDownEvent=null,this.panPivot=null,this.data=null,this.removeSnapping(),this.invalidate(),e.cursor=t.Cursor.Default}get snapping(){return this._snapping||(this._snapping=new te),this._snapping}removeSnapping(){this._snapping&&(this._snapping.dispose(),this._snapping=null)}updateTheme(t){}invalidate(){this.isInvalidated=!0,this.allowSnapshotCapture=!1,null!=this.snapshotImage&&(this.snapshotImage.delete(),this.snapshotImage=null)}invalidateToolDrawing(){this.isInvalidated=!0}render(t,e){this.isInvalidated&&(this.drawDocument(t),this.draw(t,e),this._snapping&&this._snapping.render(t),t.context.flush(),this.isInvalidated=!1)}drawDocument(t){if(!this.allowSnapshotCapture)return t.document.render(t),void(this.allowSnapshotCapture=!0);if(null!=this.snapshotImage){const e=t.context;return e.save(),e.matrix=e.matrix.toIdentity(),e.drawImage(this.snapshotImage),void e.restore()}t.document.render(t),this.snapshotImage=t.makeImageSnapshot()}onMouseDown(e,i){this.mouseDownEvent=i,i.button===t.MouseButton.Left?this.onMouseLeftButtonDown(e,i):i.button===t.MouseButton.Wheel&&this.onMouseWheelButtonDown(e,i)}onMouseUp(e,i){i.button===t.MouseButton.Left?this.onMouseLeftButtonUp(e,i):i.button===t.MouseButton.Wheel?this.onMouseWheelButtonUp(e,i):(i.button,t.MouseButton.Right),this.mouseDownEvent=null,this.panPivot=null}onMouseMove(e,i){this.mouseDownEvent?this.mouseDownEvent.button===t.MouseButton.Left?this.onMouseLeftButtonMove(e,i):this.mouseDownEvent.button===t.MouseButton.Wheel&&this.onMouseWheelButtonMove(e,i):this.onMouseHover(e,i)}onMouseHover(t,e){}onMouseWheelButtonDown(e,i){this.panPivot=i.canvasPosition,e.cursor=t.Cursor.HandHold}onMouseWheelButtonUp(t,e){this.doPan(t,e),t.cursor=this.defaultCanvasCursor}onMouseWheelButtonMove(t,e){this.doPan(t,e),this.panPivot=e.canvasPosition}doPan(t,e,i=this.panPivot){t.viewBox.panBy(e.canvasPosition.sub(i))}decorateVectorElement(t,e){const i=t.globalElementProperties;e.fill=i.fill.clone(),e.stroke=i.stroke.clone(),e.fillRule=i.fillRule,e.paintOrder=i.paintOrder,e.blend=i.blend,e.opacity=i.opacity}}class ae{constructor(t,e){this._id=null,this._title=null,this._isDrawing=!1,this._parent=null,this._next=null,this._prev=null,this._first=null,this._last=null,this._localBounds=null,this._globalBounds=null,this._pictureCache=null,this._globalMatrix=null,this._localMatrix=null,this._document=t,this._id=e,t&&null==e&&(this._id=t.generateUniqueId())}get isDrawing(){return this._isDrawing}get id(){return this._id}get title(){return this._title}set title(t){this._title=t}get document(){return this._document}get parent(){return this._parent}get firstChild(){return this._first}get lastChild(){return this._last}get nextSibling(){return this._next}get previousSibling(){return this._prev}get hasChildren(){return null!=this._first}contains(t){if(t===this)return!1;do{if((t=t._parent)===this)return!0}while(null!=t);return!1}get transformedBounds(){return this.localBounds.transform(this.localMatrix)}get localBounds(){return null===this._localBounds&&(this._localBounds=zt.merge(this.childrenPropertyIterator("transformedBounds"))),this._localBounds}get globalBounds(){return null===this._globalBounds&&(this._globalBounds=Xt.fromRectangle(zt.merge(this.childrenPropertyIterator("globalBounds")))),this._globalBounds}get localMatrix(){return null===this._localMatrix&&(this._localMatrix=this.getLocalMatrix()),this._localMatrix}get globalMatrix(){if(null===this._globalMatrix){const t=this.localMatrix;if(!this._parent)return this._globalMatrix=t;const e=this._parent.globalMatrix;return e.isIdentity?this._globalMatrix=t:this._globalMatrix=e.clone().multiply(t)}return this._globalMatrix}invalidate(){null!==this._pictureCache&&(this._pictureCache.delete(),this._pictureCache=null),null!=this._parent&&this._parent.invalidate()}invalidateGlobalMatrix(){this._globalMatrix=null,this._globalBounds=null;for(let t=this._first;null!==t;t=t._next)null!==t._globalMatrix&&t.invalidateGlobalMatrix()}invalidateLocalMatrix(){null!==this._globalMatrix&&this.invalidateGlobalMatrix(),this._localMatrix=null,this.invalidateBoundsAndPicture(!0)}invalidateBoundsAndPicture(t=!1){this._localBounds=null,this._globalBounds=null,null!==this._parent&&this._parent.invalidateBoundsAndPicture(),t||null!==this._pictureCache&&(this._pictureCache.delete(),this._pictureCache=null)}getPicture(){if(this._isDrawing=!0,null===this._pictureCache){const t=this.pictureBounds,e=new Skia.SkPictureRecorder,i=new Ht(e.beginRecording(t)),s=this.drawOnPicture(i,t);this._pictureCache=s?e.finishRecordingAsPicture(s):e.finishRecordingAsPicture(t),e.delete(),i.dispose()}return this._isDrawing=!1,this._pictureCache}insertAfter(t,e){return null!==e._next?this.insertBefore(t,e._next):this.appendChild(t)}insertBefore(t,e){if(!this.supportsChildren)throw new Error("Children are not supported");if(e._parent!==this||t.contains(this))throw new Error("Invalid target");if(t._parent){if(t._parent===this&&t._next===e)return t;ae.preventInvalidation(t._parent.removeChild,t._parent,t)}this._document.adoptNode(t),t._parent=this.isElement?this:this._document;const i=e._prev;return e._prev=t,t._next=e,t._prev=i,i?i._next=t:this._first=t,this._document.notifyTreeChanged(),ae.invalidationPrevented||(t.invalidateGlobalMatrix(),this.invalidateBoundsAndPicture()),t}appendChild(t){if(!this.supportsChildren)throw new Error("Children are not supported");if(t===this||t.contains(this))throw new Error("Invalid node");return t._parent&&ae.preventInvalidation(t._parent.removeChild,t._parent,t),this._document.adoptNode(t),t._parent=this.isElement?this:this._document,this._last&&(this._last._next=t,t._prev=this._last),this._last=t,this._first||(this._first=t),this._document.notifyTreeChanged(),ae.invalidationPrevented||(t.invalidateGlobalMatrix(),this.invalidateBoundsAndPicture()),t}prependChild(t){return this._first?this.insertBefore(t,this._first):this.appendChild(t)}removeChild(t){if(!this.supportsChildren)throw new Error("Children are not supported");if(t===this||t._parent!==this)throw new Error("Invalid node");return this._first===t?this._last===t?this._first=this._last=null:(this._first=t._next,this._first._prev=null):this._last===t?(this._last=t._prev,this._last._next=null):(t._next._prev=t._prev,t._prev._next=t._next),t._parent=t._next=t._prev=null,this._document.notifyTreeChanged(),ae.invalidationPrevented||this.invalidateBoundsAndPicture(),t}clone(t=!1){const e=this.cloneCurrent(t);return e._title=this._title,e._localMatrix=this._localMatrix?this._localMatrix.clone():null,e._globalMatrix=this._globalMatrix?this._globalMatrix.clone():null,e._localBounds=this._localBounds,e._globalBounds=this._globalBounds,this.hasChildren&&ae.preventInvalidation((()=>{for(const i of this.children())e.appendChild(i.clone(t))})),e}dispose(){null!==this._pictureCache&&(this._pictureCache.delete(),this._pictureCache=null),this._globalMatrix=null,this._localMatrix=null,this._globalBounds=null,this._localBounds=null;const t=Array.from(this.children());for(let e=0,i=t.length;e<i;e++)t[e].dispose();this._document=null,this._parent=this._prev=this._next=this._first=this._last=null}*[Symbol.iterator](){for(let t=this._first;null!=t;t=t._next)yield t}*children(t=!1){if(t)for(let t=this._last;null!=t;t=t._prev)yield t;else for(let t=this._first;null!=t;t=t._next)yield t}get isElement(){return!1}get pictureBounds(){return this.supportsChildren?zt.merge(this.childrenPropertyIterator("transformedPictureBounds")):this.localBounds}get transformedPictureBounds(){return this.pictureBounds.transform(this.localMatrix)}drawOnPicture(t,e){for(let e=this._first;null!=e;e=e._next)e.draw(t)}*childrenPropertyIterator(t){for(let e=this._first;null!=e;e=e._next)yield e[t]}static preventInvalidation(t,e,i){this.invalidationPrevented++;try{t.call(e,i)}finally{this.invalidationPrevented--}}}var ue;ae.invalidationPrevented=0,t.Orientation=void 0,(ue=t.Orientation||(t.Orientation={}))[ue.None=0]="None",ue[ue.Auto=1]="Auto",ue[ue.AutoReverse=-1]="AutoReverse";class le extends ae{constructor(e,i){super(e,i),this._locked=!1,this._hidden=!1,this._position=Ct.ZERO,this._anchor=Ct.ZERO,this._scale=Ct.UNIT,this._skewAngle=0,this._skewAxis=0,this._rotate=0,this._orientation=t.Orientation.None,this._autoOrientAngle=0,this._blendMode=t.BlendMode.Normal,this._opacity=1,this._isolate=!1,this._composition=null}get isElement(){return!0}get locked(){return this._locked}set locked(t){t!==this._locked&&(this._locked=t)}get hidden(){return this._hidden}set hidden(t){t!==this._hidden&&(this._hidden=t,this.invalidate())}bringForward(){return!(!this._next||!this._parent)&&(this._parent.insertAfter(this,this._next),!0)}sendBackward(){return!(!this._prev||!this._parent)&&(this._parent.insertBefore(this,this._prev),!0)}bringToFront(){return!(!this._next||!this._parent)&&(this._parent.insertAfter(this,this._parent.lastChild),!0)}sendToBack(){return!(!this._prev||!this._parent)&&(this._parent.insertBefore(this,this._parent.firstChild),!0)}remove(){return!!this._parent&&(this._parent.removeChild(this),!0)}get isResizable(){return!1}localResize(t,e){return null}getLocalMatrix(){const t=new xt;return t.translate(this._position.x,this._position.y).rotate(this.totalRotate).skewAxis(this._skewAngle,this._skewAxis).scale(this._scale.x,this._scale.y).translate(-this._anchor.x,-this._anchor.y),t}get anchor(){return this._anchor}set anchor(t){this._anchor=t,this.invalidateLocalMatrix()}get scale(){return this._scale}set scale(t){this._scale=t,this.invalidateLocalMatrix()}get skewAngle(){return this._skewAngle}set skewAngle(t){t!==this._skewAngle&&(this._skewAngle=t,this.invalidateLocalMatrix())}get skewAxis(){return this._skewAxis}set skewAxis(t){t!==this._skewAxis&&(this._skewAxis=t,this.invalidateLocalMatrix())}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.invalidateLocalMatrix()}get orientation(){return this._orientation}set orientation(t){this._orientation=t}get autoOrientAngle(){return this._orientation===t.Orientation.None?0:this._orientation===t.Orientation.AutoReverse?-this._autoOrientAngle:this._autoOrientAngle}set autoOrientAngle(e){this._autoOrientAngle!==e&&(this._autoOrientAngle=e,this._orientation!==t.Orientation.None&&this.invalidateLocalMatrix())}get totalRotate(){return this._rotate+this.autoOrientAngle}get position(){return this._position}set position(t){this._position=t,this.invalidateLocalMatrix()}get opacity(){return this._opacity}set opacity(t){t=_(t,0,1),this._opacity!==t&&(this._opacity=t,this._composition=null,this.invalidate())}get blend(){return this._blendMode}set blend(t){this._blendMode!=t&&(this._blendMode=t,this._composition=null,this.invalidate())}get isolate(){return this._isolate}set isolate(t){this._isolate!=t&&(this._isolate=t,this._composition=null,this.invalidate())}get composition(){return null===this._composition&&(this._composition=new Gt(this._blendMode,this._opacity,this._isolate)),this._composition}clone(t=!1){const e=super.clone(t);return e._locked=this._locked,e._hidden=this._hidden,e._position=this._position,e._anchor=this._anchor,e._scale=this._scale,e._skewAngle=this._skewAngle,e._skewAxis=this._skewAxis,e._rotate=this._rotate,e._orientation=this._orientation,e._opacity=this._opacity,e._blendMode=this._blendMode,e._isolate=this._isolate,e._composition=null===this._composition?null:this._composition.clone(),e}draw(t){this._hidden||0!==this._opacity&&(t.save(),t.multiplyMatrix(this.localMatrix),t.drawPicture(this.getPicture(),this.composition),t.restore())}getElementAt(t,e){if(this.hidden||this.locked||!this.globalBounds.containsPoint(t))return null;if(!e||!this.supportsChildren)return this;for(let i=this._last;null!==i;i=i._prev){const s=i.getElementAt(t,e);if(s)return s}return null}dispose(){super.dispose(),this._position=this._anchor=this._scale=null,this._composition=null}}class he extends le{constructor(){super(...arguments),this._fill=null,this._stroke=null,this._rule=t.FillRule.NonZero,this._paintOrder=t.PaintOrder.FillStrokeMarkers}get fillRule(){return this._rule}set fillRule(t){this._rule=t,this.invalidate()}get paintOrder(){return this._paintOrder}set paintOrder(t){this._paintOrder=t,this.invalidate()}get fill(){return null===this._fill&&(this._fill=ct.BLACK),this._fill}set fill(t){this._fill=t,this.invalidate()}get fillOpacity(){return this.fill.opacity}set fillOpacity(t){this.fill.opacity=t,this.invalidate()}get stroke(){return this._stroke||(this._stroke=new ft),this._stroke}set stroke(t){this._stroke=t,this.invalidateBoundsAndPicture()}get strokeBrush(){return this.stroke.brush}set strokeBrush(t){this.stroke.brush=t,this.invalidate()}get strokeOpacity(){return this.stroke.brush.opacity}set strokeOpacity(t){this.stroke.brush.opacity=t,this.invalidate()}get strokeLineWidth(){return this.stroke.width}set strokeLineWidth(t){this.stroke.width=t,this.invalidateBoundsAndPicture()}get strokeLineCap(){return this.stroke.lineCap}set strokeLineCap(t){const e=this.stroke;t!==e.lineCap&&(e.lineCap=t,e.isVisible&&this.invalidateBoundsAndPicture())}get strokeLineJoin(){return this.stroke.lineJoin}set strokeLineJoin(t){const e=this.stroke;t!==e.lineJoin&&(e.lineJoin=t,e.isVisible&&this.invalidateBoundsAndPicture())}get strokeMiterLimit(){return this.stroke.miterLimit}set strokeMiterLimit(t){t=_(t,1,Number.POSITIVE_INFINITY);const e=this.stroke;t!==e.miterLimit&&(e.miterLimit=t,e.isVisible&&this.invalidateBoundsAndPicture())}get strokeDashArray(){return this.stroke.dashes}set strokeDashArray(t){const e=this.stroke;t!==e.dashes&&(e.dashes=t,e.isVisible&&this.invalidateBoundsAndPicture())}get strokeDashOffset(){return this.stroke.offset}set strokeDashOffset(t){const e=this.stroke;t!==e.offset&&(e.offset=t,e.isVisible&&this.invalidateBoundsAndPicture())}get pictureBounds(){return this.getStrokeBounds(this.localBounds)}getStrokeBounds(t){return this.stroke.isVisible?t.outset(2*this.strokeLineWidth):t}get nativeFillRule(){return this._rule===t.FillRule.EvenOdd?Skia.SkPathFillType.EvenOdd:Skia.SkPathFillType.Winding}drawOnPicture(e,i){const s=this.pathToDraw;if(!s)return null;let n=null,r=null;const o=this.nativeFillRule;switch(s.fillType!==o&&(r=s.fillType,s.fillType=o),this._paintOrder){case t.PaintOrder.FillStrokeMarkers:default:e.drawPath(s,this.fill),e.drawPath(s,this.stroke),n=this.paintMarkers(e);break;case t.PaintOrder.FillMarkersStroke:e.drawPath(s,this.fill),n=this.paintMarkers(e),e.drawPath(s,this.stroke);break;case t.PaintOrder.StrokeFillMarkers:e.drawPath(s,this.stroke),e.drawPath(s,this.fill),n=this.paintMarkers(e);break;case t.PaintOrder.StrokeMarkersFill:e.drawPath(s,this.stroke),n=this.paintMarkers(e),e.drawPath(s,this.fill);break;case t.PaintOrder.MarkersFillStroke:n=this.paintMarkers(e),e.drawPath(s,this.fill),e.drawPath(s,this.stroke);break;case t.PaintOrder.MarkersStrokeFill:n=this.paintMarkers(e),e.drawPath(s,this.stroke),e.drawPath(s,this.fill)}return null!==r&&(s.fillType=r),n?zt.merge([i,n]):i}get supportsChildren(){return!1}dispose(){super.dispose(),this._fill=this._stroke=null}paintMarkers(t){return null}getElementAt(t){return this.hidden||this.locked?null:this.pathToDraw?.contains(t.x,t.y,this.globalMatrix)?this:null}clone(t=!1){const e=super.clone();return e._fill=this._fill?this._fill.clone():null,e._stroke=this._stroke?this._stroke.clone():null,e._rule=this._rule,e._paintOrder=this._paintOrder,e}}class Me extends he{constructor(t,e,i){super(e,i),this._localPath=null,this._pathNeedsRebuild=!1,this._globalPath=null,this._shape=t}get shape(){return this._shape}set shape(t){t!==this._shape&&(this._shape=t,this.invalidateShape())}get type(){return this._shape.type}get isResizable(){return!0}get localPath(){let t=!1;return null==this._localPath?(this._localPath=new Skia.SkPath,t=!0):this._pathNeedsRebuild&&(this._localPath.reset(),t=!0),t&&(this._localPath.isVolatile=!0,this._localPath.fillType=this.nativeFillRule,this._shape.preparePath(this._localPath),this._pathNeedsRebuild=!1),this._localPath}get globalPath(){if(null===this._globalPath){this._globalPath=this.localPath.copy();const t=this.globalMatrix;t.isIdentity||this._globalPath.transform(t)}return this._globalPath}get localBounds(){return null===this._localBounds&&(this._localBounds=zt.fromLTRBObject(this.localPath.computeTightBounds())),this._localBounds}get globalBounds(){return null==this._globalBounds&&(this._globalBounds=Xt.fromRectangle(this.localBounds,this.globalMatrix)),this._globalBounds}invalidateGlobalMatrix(){this._globalPath&&(this._globalPath.delete(),this._globalPath=null),super.invalidateGlobalMatrix()}invalidateShape(){Me.invalidationPrevented||(this._pathNeedsRebuild=!0,this.invalidateBoundsAndPicture())}dispose(){super.dispose(),null!==this._localPath&&(this._localPath.delete(),this._localPath=null),null!==this._globalPath&&(this._globalPath.delete(),this._globalPath=null),this._shape=null}get pathToDraw(){return this.localPath}invalidateBoundsAndPicture(t=!1){null!==this._globalPath&&(this._globalPath.delete(),this._globalPath=null),super.invalidateBoundsAndPicture(t)}cloneCurrent(t){return new this.constructor(this._shape.clone(),this._document,t?null:this._id)}}class de extends Me{get width(){return this._shape.width}set width(t){(t=_(t,0,Number.POSITIVE_INFINITY))!==this._shape.width&&(this._shape.width=t,this.invalidateShape())}get height(){return this._shape.height}set height(t){(t=_(t,0,Number.POSITIVE_INFINITY))!==this._shape.height&&(this._shape.height=t,this.invalidateShape())}*localResize(t,e){((t=t.clone().translate(e.x?this.localBounds.width:0,e.y?this.localBounds.height:0)).tx||t.ty)&&(yield["anchor",this.anchor.shifted(-t.tx,-t.ty)]);const i=this.localBounds.transform(t,!1);yield["width",i.width||1e-5],yield["height",i.height||1e-5]}}class ce extends le{get type(){return"group"}get supportsChildren(){return!0}cloneCurrent(t){return new ce(this._document,t?null:this._id)}}class Le extends Me{get points(){return this._shape.points}set points(t){t!==this._shape.points&&(this._shape.points=t,this.invalidateShape())}get isClosed(){return this._shape.isClosed}set isClosed(t){t!==this._shape.isClosed&&(this._shape.isClosed=t,this.invalidateShape())}*localResize(t){const e=this.shape.clone();e.transform(t),yield["points",e]}}class we extends Me{get radius(){return this._shape.radius}set radius(t){this._shape.radius!==t&&(this._shape.radius=t,this.invalidateShape())}get width(){return this._shape.width}set width(t){(t=_(t,0,Number.POSITIVE_INFINITY))!==this._shape.width&&(this._shape.width=t,this.invalidateShape())}get height(){return this._shape.height}set height(t){(t=_(t,0,Number.POSITIVE_INFINITY))!==this._shape.height&&(this._shape.height=t,this.invalidateShape())}*localResize(t,e){((t=t.clone().translate(e.x?this.localBounds.width:0,e.y?this.localBounds.height:0)).tx||t.ty)&&(yield["anchor",this.anchor.shifted(-t.tx,-t.ty)]);const i=this.localBounds.transform(t,!1);yield["width",i.width||1e-5],yield["height",i.height||1e-5]}}class ge extends Me{get sides(){return this._shape.sides}set sides(t){(t=_(t,3,Number.POSITIVE_INFINITY))!==this._shape.sides&&(this._shape.sides=t,this.invalidateShape())}get radius(){return this._shape.radius}set radius(t){(t=_(t,0,Number.POSITIVE_INFINITY))!==this._shape.radius&&(this._shape.radius=t,this.invalidateShape())}get cornerRadius(){return this._shape.cornerRadius}set cornerRadius(t){(t=_(t,0,1))!==this._shape.cornerRadius&&(this._shape.cornerRadius=t,this.invalidateShape())}get angle(){return this._shape.angle}set angle(t){t!==this._shape.angle&&(this._shape.angle=t,this.invalidateShape())}*localResize(t,e){t=t.clone().translate(e.x?this.radius:0,e.y?this.radius:0),yield["radius",t.point(this.radius,this.radius).length/Math.SQRT2||1e-5]}}class Ie extends Me{get sides(){return this._shape.sides}set sides(t){(t=_(t,3,Number.POSITIVE_INFINITY))!==this._shape.sides&&(this._shape.sides=t,this.invalidateShape())}get outerRadius(){return this._shape.outerRadius}set outerRadius(t){(t=_(t,0,Number.POSITIVE_INFINITY))!==this._shape.outerRadius&&(this._shape.outerRadius=t,this.invalidateShape())}get innerRadius(){return this._shape.innerRadius}set innerRadius(t){(t=_(t,0,Number.POSITIVE_INFINITY))!==this._shape.innerRadius&&(this._shape.innerRadius=t,this.invalidateShape())}get outerCornerRadius(){return this._shape.outerCornerRadius}set outerCornerRadius(t){(t=_(t,0,1))!==this._shape.outerCornerRadius&&(this._shape.outerCornerRadius=t,this.invalidateShape())}get innerCornerRadius(){return this._shape.innerCornerRadius}set innerCornerRadius(t){(t=_(t,0,1))!==this._shape.innerCornerRadius&&(this._shape.innerCornerRadius=t,this.invalidateShape())}get outerRotate(){return this._shape.outerRotate}set outerRotate(t){t!==this._shape.outerRotate&&(this._shape.outerRotate=t,this.invalidateShape())}get innerRotate(){return this._shape.innerRotate}set innerRotate(t){t!==this._shape.innerRotate&&(this._shape.innerRotate=t,this.invalidateShape())}get angle(){return this._shape.angle}set angle(t){t!==this._shape.angle&&(this._shape.angle=t,this.invalidateShape())}*localResize(t,e){t=t.clone().translate(e.x?this.outerRadius:0,e.y?this.outerRadius:0),yield["outerRadius",t.point(this.outerRadius,this.outerRadius).length/Math.SQRT2||1e-5]}}class De extends le{constructor(t,e,i){super(e,i),this._path=t}get type(){return"clip-path"}get path(){return this._path}set path(t){this._path===t?this._path.invalidate():this._path=t,this.invalidateBoundsAndPicture()}get isResizable(){return!0}*localResize(t){const e=this.path.clone();e.transform(t),yield["path",e]}get localBounds(){return this._path.bounds}get globalBounds(){return null==this._globalBounds&&(this._globalBounds=Xt.fromRectangle(this.localBounds,this.globalMatrix)),this._globalBounds}get supportsChildren(){return!0}dispose(){super.dispose(),null!==this._path&&(this._path.dispose(),this._path=null)}getElementAt(t,e){if(!this._path.contains(t,this.globalMatrix))return null;if(!e)return this;for(const i of this.children(!0)){const s=i.getElementAt(t,e);if(s)return s}return null}cloneCurrent(t){return new De(this._path.clone(),this._document,t?null:this._id)}drawOnPicture(t,e){t.clipPath(this._path),super.drawOnPicture(t,e)}}class je extends he{constructor(t,e,i,s){super(t,s),this._path=null,this._glyphs=null,this._text=e,this._font=i}get stroke(){return this._stroke||(this._stroke=new ft(new ht)),this._stroke}get type(){return"text"}get localBounds(){return null===this._localBounds&&(this._localBounds=this.font.getGlyphsBounds(this.glyphs)),this._localBounds}get globalBounds(){return null==this._globalBounds&&(this._globalBounds=Xt.fromRectangle(this.localBounds,this.globalMatrix)),this._globalBounds}get text(){return this._text}set text(t){this._text!==t&&(this._text=t,this.invalidateText())}get glyphs(){return null==this._glyphs&&(this._glyphs=this.font.convertTextToGlyphs(this._text)),this._glyphs}get font(){return this._font}set font(t){this._font!==t&&(this._font.dispose(),this._font=t,this.invalidateText())}get fontSize(){return this._font.size}set fontSize(t){this._font.size!==t&&(this._font.size=t,this.invalidateText())}get fontStyle(){return this._font.style}set fontStyle(t){const e=this._font;e.style!==t&&(this.font=Ft.getFont(e.family,t,e.weight,e.size))}get fontWeight(){return this._font.weight}set fontWeight(t){const e=this._font;e.weight!==t&&(this.font=Ft.getFont(e.family,e.style,t,e.size))}getElementAt(t){return this.hidden||this.locked?null:this.globalBounds.containsPoint(t)?this:null}drawOnPicture(e,i){const s=this.glyphs;if(0===s.length)return null;const n=this.font;let r=null;switch(this._paintOrder){case t.PaintOrder.FillStrokeMarkers:default:e.drawText(s,this.fill,n),e.drawText(s,this.stroke,n),r=this.paintMarkers(e);break;case t.PaintOrder.FillMarkersStroke:e.drawText(s,this.fill,n),r=this.paintMarkers(e),e.drawText(s,this.stroke,n);break;case t.PaintOrder.StrokeFillMarkers:e.drawText(s,this.stroke,n),e.drawText(s,this.fill,n),r=this.paintMarkers(e);break;case t.PaintOrder.StrokeMarkersFill:e.drawText(s,this.stroke,n),r=this.paintMarkers(e),e.drawText(s,this.fill,n);break;case t.PaintOrder.MarkersFillStroke:r=this.paintMarkers(e),e.drawText(s,this.fill,n),e.drawText(s,this.stroke,n);break;case t.PaintOrder.MarkersStrokeFill:r=this.paintMarkers(e),e.drawText(s,this.stroke,n),e.drawText(s,this.fill,n)}return r?zt.merge([i,r]):i}dispose(){super.dispose(),this._font.dispose(),this._path&&(this._path.delete(),this._path=null)}get pathToDraw(){return null===this._path&&(this._path=this._font.nativeFont.textToPath(this._text)),this._path}cloneCurrent(t){return new je(this.document,this._text,this._font.clone(),t?null:this._id)}invalidateText(){this.invalidateBoundsAndPicture(),this._glyphs=null,this._path&&(this._path.delete(),this._path=null)}}class ye extends le{constructor(t,e,i){super(e,i),this._reference=t}get localBounds(){return null==this._localBounds&&(this._localBounds=this.getBounds()||super.localBounds),this._localBounds}get globalBounds(){return null==this._globalBounds&&(this._globalBounds=Xt.fromRectangle(this.localBounds,this.globalMatrix)),this._globalBounds}get reference(){return this._reference}set reference(t){this._reference!==t&&(this._reference=t,this.invalidate())}getDocumentPictureOptions(){}resolvePicture(){return this._reference&&this._document&&this._document.project?this._document.project.getDocumentPicture(this._reference,this.getDocumentPictureOptions()):null}getElementAt(t){return this.hidden||this.locked?null:this.globalBounds.containsPoint(t)?this:null}}class Ne extends ye{constructor(t,e,i){super(t,e,i),this._x=0,this._y=0,this._width=0,this._height=0}get type(){return"symbol"}get supportsChildren(){return!1}get width(){return this._width}set width(t){t=_(t,0,Number.POSITIVE_INFINITY),this._width!==t&&(this._width=t,this.invalidateBoundsAndPicture())}get height(){return this._height}set height(t){t=_(t,0,Number.POSITIVE_INFINITY),this._height!==t&&(this._height=t,this.invalidateBoundsAndPicture())}get isResizable(){return!0}getBounds(){return new zt(0,0,this._width,this._height)}cloneCurrent(t){const e=new Ne(this._reference,this._document,t?null:this._id);return e._x=this._x,e._y=this._y,e._width=this._width,e._height=this._height,e}drawOnPicture(t,e){const i=this.resolvePicture();if(i)return t.save(),t.clipRect(e),t.translate(-this._x,-this._y),t.drawPicture(i),t.restore(),e}*localResize(t,e){((t=t.clone().translate(e.x?this.localBounds.width:0,e.y?this.localBounds.height:0)).tx||t.ty)&&(yield["anchor",this.anchor.shifted(-t.tx,-t.ty)]);const i=this.localBounds.transform(t,!1);yield["width",i.width||1e-5],yield["height",i.height||1e-5]}}class pe extends ye{constructor(t,e,i){super(t,e,i),this._absolute=!0}get supportsChildren(){return!0}get type(){return"mask"}get isResizable(){return!1}getBounds(){return null}cloneCurrent(t){const e=new pe(this._reference,this._document,t?null:this._id);return e._absolute=this._absolute,e}drawOnPicture(t,e){if(!this.hasChildren)return;let i=this.resolvePicture();if(!i)return;const s=new Skia.SkPictureRecorder;let n=s.beginRecording(e);const r=new Ht(n);super.drawOnPicture(r,e),r.dispose(),n=null;const o=s.finishRecordingAsPicture(e);return this._absolute&&!this.globalMatrix.isIdentity&&(n=s.beginRecording(i.getBounds()),n.drawPicture(i,null,this.globalMatrix.clone().inverse()),i=s.finishRecordingAsPicture()),s.delete(),o?(t.canvas.drawPictureMasked(o,i),o.delete(),e):void 0}}class Ce{constructor(t,e=10,i=10){this._isVisible=!1,this._drawToBack=!0,this._shader=null,this._lastLineWidth=1,this._lastSize=null,this._color=t,this._horizontalSubdivisions=e,this._verticalSubdivisions=i}cloneProperties(t){t._isVisible=this._isVisible,t._drawToBack=this._drawToBack,t._lastLineWidth=this._lastLineWidth,t._lastSize=this._lastSize}dispose(){this._color=null,this.clearCache()}get isVisible(){return this._isVisible}set isVisible(t){this._isVisible!==t&&(this._isVisible=t,this.clearCache())}get drawToBack(){return this._drawToBack}set drawToBack(t){this._drawToBack=t}get color(){return this._color}set color(t){this._color.equals(t)||(this._color=t,this.clearCache())}get horizontalSubdivisions(){return this._horizontalSubdivisions}set horizontalSubdivisions(t){this._horizontalSubdivisions!==t&&(this._horizontalSubdivisions=t,this.clearCache())}get verticalSubdivisions(){return this._verticalSubdivisions}set verticalSubdivisions(t){this._verticalSubdivisions!==t&&(this._verticalSubdivisions=t,this.clearCache())}clearCache(){this._shader&&(this._shader.delete(),this._shader=null)}getShader(){if(this._shader)return this._shader;const t=new Skia.SkPaint;return t.style=Skia.SkPaintStyle.Stroke,t.isAntiAlias=!0,t.color=this._color.code,t.strokeWidth=this._lastLineWidth,this._shader=function(t,e,i,s){const n=new Skia.SkPictureRecorder,r=n.beginRecording(t);r.drawRect(0,0,t.width,t.height,s),s.strokeWidth/=2;const o=s.strokeWidth/2,a=t.width/e;for(let i=1;i<e;i++)r.drawVLine(i*a-o,0,t.height,s);const u=t.height/i;for(let e=1;e<i;e++)r.drawHLine(0,e*u-o,t.width,s);const l=n.finishRecordingAsPicture(t);n.delete();const h=l.makeShader(Skia.SkTileMode.Repeat,Skia.SkTileMode.Repeat,null,t);return l.delete(),h}(this._lastSize,this._horizontalSubdivisions,this._verticalSubdivisions,t),t.delete(),this._shader}render(t){const{context:e,boundingBox:i,viewBox:s,dpr:n}=t,{canvas:r,paint:o}=e,a=n/e.matrix.lineScale;this._lastLineWidth!==a&&(this._lastLineWidth=a,this.clearCache());const u=this.calcSize(t);this._lastSize&&u.equals(this._lastSize)||(this._lastSize=u,this.clearCache());const l=zt.fromPoints(s.matrix.inversePoint(0,0),s.matrix.inversePoint(i.right,i.bottom));o.reset(),o.isAntiAlias=!0,o.style=Skia.SkPaintStyle.Fill,o.shader=this.getShader(),r.drawRect(l,o),o.reset()}}class xe extends Ce{constructor(t=Mt.from("gray"),e=10,i=10){super(t,e,i)}calcSize(t){const e=t.rulerMajorGraduationWidth;return new zt(0,0,e,e)}clone(){const t=new xe(this._color,this._horizontalSubdivisions,this._verticalSubdivisions);return this.cloneProperties(t),t}}class Se{constructor(t,e,i=!1){this.position=t,this.isHorizontal=e,this.isHidden=i}clone(){return new Se(this.position,this.isHorizontal,this.isHidden)}}class me{constructor(t=[]){this.isVisible=!0,this._guides=t}dispose(){this._guides=null}add(t){this._guides.push(t)}has(t){return this._guides.indexOf(t)>=0}remove(t){const e=this._guides.indexOf(t);return e>=0&&(this._guides.splice(e,1),!0)}render(t){const{context:e,viewBox:i,boundingBox:s,dpr:n}=t,r=this._guides,o=new ft(new ct(t.theme.guide),n/e.matrix.lineScale),a=i.getPointPosition({x:0,y:0}),u=i.getPointPosition({x:s.width,y:s.height});for(let t=0,i=r.length;t<i;t++){const i=r[t];i.isHidden||(i.isHorizontal?e.drawLine({x:a.x,y:i.position},{x:u.x,y:i.position},o):e.drawLine({x:i.position,y:a.y},{x:i.position,y:u.y},o))}}getGuideAtPoint(t,e=1e-6){for(let i=0,s=this._guides.length;i<s;i++){const s=this._guides[i];if(s.isHidden)continue;const n=s.isHorizontal?t.x:t.y;if(Math.abs(s.position-n)<=e)return s}return null}clone(){return new me(this._guides.map((t=>t.clone())))}*[Symbol.iterator](){for(let t=0,e=this._guides.length;t<e;t++)yield this._guides[t]}}class Ae extends ae{constructor(t){super(null,t),this._elementCache=new Map,this._grid=null,this._guides=null,this.project=null,this._document=this,t||(this._id=this.generateUniqueId())}get localBounds(){return this._localBounds||(this._localBounds=this.getBounds()),this._localBounds}get globalBounds(){return this._globalBounds||(this._globalBounds=Xt.fromRectangle(this.localBounds,this.localMatrix)),this._globalBounds}get size(){return this.localBounds}get pictureBounds(){return zt.merge([this.localBounds,super.pictureBounds])}clone(t=!1){const e=super.clone(t);return e.project=this.project,this._grid&&(e._grid=this._grid.clone()),this._guides&&(e._guides=this._guides.clone()),e}dispose(){super.dispose(),this._grid&&(this._grid.dispose(),this._grid=null),this._guides&&(this._guides.dispose(),this._guides=null),this.project=null}get supportsChildren(){return!0}get grid(){return null===this._grid&&(this._grid=new xe),this._grid}set grid(t){this._grid=t}get guides(){return null===this._guides&&(this._guides=new me),this._guides}set guides(t){this._guides=t}getElementById(t){if(this._elementCache.has(t))return this._elementCache.get(t);const e=this.findElementById(this,t);return this._elementCache.set(t,e),e}getElementAt(t,e=!0){for(const i of this.children(!0)){const s=i.getElementAt(t,e);if(s)return s}return null}adoptNode(t){if(t.document!==this){t._document=this;for(let e=t.firstChild;null!==e;e=e.nextSibling)this.adoptNode(e)}return t}getLocalMatrix(){return new xt}generateUniqueId(){return A()}draw(t){t.drawPicture(this.getPicture(),Gt.NormalIsolatedComposition)}notifyTreeChanged(){this._elementCache.clear()}findElementById(t,e){for(let i=t.firstChild;null!==i;i=i.nextSibling){if(i.id===e)return i;if(i.supportsChildren){const t=this.findElementById(i,e);if(t)return t}}return null}}const Te=ct.WHITE;class Ee extends oe{constructor(){super(...arguments),this.snappingTest=null,this.element=null,this.startPoint=null,this.currentPoint=null,this.lastEvent=null,this.defaultCanvasCursor=t.Cursor.Target}onMouseEnter(t,e){this.snapping.init(t)}onMouseLeave(t,e){this.snapping.reset()}draw(t){if(this.element&&this.startPoint&&this.currentPoint){this.updateElement(t,this.element,this.startPoint,this.currentPoint);const e=t.context;e.save(),e.multiplyMatrix(t.viewBox.matrix),this.drawShape(t,this.element),e.restore()}}onKeyboardStatusChange(t,e){this.invalidateToolDrawing()}drawShape(t,e){e.draw(t.context)}decorateElement(t,e){}onMouseLeftButtonDown(t,e){this.startPoint=this.currentPoint=this.snapping.snapPoint(e.position),this.createBuilder(t)}onMouseLeftButtonMove(t,e){this.lastEvent=e;const i=this.snapping.snapPoint(e.position);i.equals(this.currentPoint)||(this.currentPoint=i,this.invalidateToolDrawing())}onMouseLeftButtonUp(t,e){this.saveElement(t),this.disposeBuilder()}createBuilder(t){this.element||(this.element=this.createElement(t,this.startPoint),this.decorateVectorElement(t,this.element),this.decorateElement(t,this.element))}disposeBuilder(){this.element&&(this.element.dispose(),this.element=null),this.snapping.reset(),this.lastEvent=this.startPoint=this.currentPoint=null,this.invalidateToolDrawing()}saveElement(t){this.element&&(t.document.appendChild(this.element),this.element=null,t.project.state.snapshot(),this.invalidate())}}function fe(t,e,i,s=1){t.style.width=e+"px",t.style.height=i+"px",t.width=e*s,t.height=i*s}class ze{constructor(t,e){this.callback=t,this.value=e||window.devicePixelRatio,this.update=this.onChange.bind(this),this.updateListener()}onChange(){const t=window.devicePixelRatio;this.value!==t&&(this.value=t,this.callback(t),this.updateListener())}updateListener(){this.removeListener(),this.media=matchMedia(`not screen and (resolution: ${this.value}dppx)`),this.media.addEventListener("change",this.update)}removeListener(){this.media&&(this.media.removeEventListener("change",this.update),this.media=null)}dispose(){this.removeListener(),this.update=null,this.callback=null}}class _e{constructor(t,e,i=32){this._rulerH=null,this._rulerV=null,this._cacheH=null,this._cacheV=null,this.visible=!0,this._rulerH=t,this._rulerV=e,this.size=i}dispose(){this.visible=!1,this._rulerH=this._rulerV=null,this._cacheH=this._cacheV=null}updateSize(t,e,i){fe(this._rulerH.canvas,t,this.size,i),fe(this._rulerV.canvas,this.size,e,i),this._rulerH.scale(i,i),this._rulerV.scale(i,i)}getStep(t){let e=0;return t>=1?e=t<5?100:t>=5&&t<10?50:t>=10&&t<25?20:10:t<1&&(e=t>=.5?200:t>=.25?400:t>=.125?800:t>=.05?1600:t>=.02?3200:6400),e}draw(t,e=!1){if(!this.visible)return;const i=this._rulerH,s=this._rulerV;e&&(this._cacheH=this._cacheV=null);const n=t.theme;null!==this._cacheH&&(i.putImageData(this._cacheH,0,0),s.putImageData(this._cacheV,0,0));const r=t.canvasElement.width,o=t.dpr;this.drawRuler(i,t.viewBox,r,n,o,!1),this.drawRuler(s,t.viewBox,r,n,o,!0),e||null!==this._cacheH||(this._cacheH=i.getImageData(0,0,i.canvas.width,i.canvas.height),this._cacheV=s.getImageData(0,0,s.canvas.width,s.canvas.height));const a=t.currentPointerPosition;a&&(this.drawIndicator(i,a.x,n,o,!1),this.drawIndicator(s,a.y,n,o,!0))}drawRuler(t,e,i,s,n,r){t.save(),t.fillStyle=s.rulerBackground.rgba,r?t.fillRect(0,0,this.size,t.canvas.height):t.fillRect(0,0,t.canvas.width,this.size),t.imageSmoothingEnabled=!0,t.imageSmoothingQuality="high",t.strokeStyle=s.rulerText.rgba,t.fillStyle=s.rulerText.rgba,t.font="10px sans-serif",t.textAlign="left",t.textBaseline="ideographic",t.lineWidth=1;const o=e.zoom;let a=this.getStep(o),u=0;const l=r?e.pan.y:e.pan.x,h=a*o,M=h/10,d=Math.floor(l%h),c=new Path2D;u=l>0?(Math.ceil(-l/h)-1)*a:(Math.floor(-l/h)-1)*a;const L=.5*n;r?(t.translate(0,0),t.rotate(90*O),t.translate(d+L,-this.size+L)):t.translate(d+L,L);const w=Math.ceil(i/h)+2;for(let e=-1,i=0;e<w;e++,i++){const s=e*h;for(let e=0;e<10;e++){const n=Math.floor(s+e*M);c.moveTo(n,r?0:this.size),0===e?(c.lineTo(n,r?24:8),t.fillText((u+i*a).toString(),n+4,r?20:16)):5===e?c.lineTo(n,r?12:20):c.lineTo(n,r?8:24)}}t.stroke(c),t.restore()}drawIndicator(t,e,i,s,n){const r=new Path2D;t.save(),t.lineWidth=1,t.strokeStyle=i.rulerIndicator.rgba,n?(r.moveTo(.5,e),r.lineTo(this.size,e)):(r.moveTo(e,0),r.lineTo(e,this.size)),t.stroke(r),t.restore()}}class ve{constructor(){this.stroke=null,this.fill=null,this.fillRule=t.FillRule.NonZero,this.paintOrder=t.PaintOrder.FillStrokeMarkers,this.blendMode=t.BlendMode.Normal,this.opacity=1,this.isolate=!1,this.rectRadius=null,this.regularPolygonSides=5,this.regularPolygonCornerRadius=0,this.starSides=5,this.starInnerRadiusPercent=.4,this.starInnerCornerRadius=0,this.starOuterCornerRadius=0,this.starOuterRotate=0,this.starInnerRotate=0,this.stroke=new ft,this.fill=new ct(Mt.from("violet"))}dispose(){}}class Pe{constructor(t){this.background=this.getColor(t,"background"),this.rulerBackground=this.getColor(t,"rulerBackground"),this.rulerText=this.getColor(t,"rulerText"),this.rulerIndicator=this.getColor(t,"rulerIndicator"),this.guide=this.getColor(t,"guide"),this.guideHover=this.getColor(t,"guideHover"),this.snap=this.getColor(t,"snap"),this.elementHover=this.getColor(t,"elementHover"),this.selectionBox=this.getColor(t,"selectionBox"),this.selectionArea=this.getColor(t,"selectionArea")}getColor(t,e){return Mt.from(t.getPropertyValue("--canvas-engine-"+e+"-color"))}getSize(t,e){return parseFloat(t.getPropertyValue("--canvas-engine-"+e+"-size"))}}class be extends oe{constructor(){super(...arguments),this.from=null,this.to=null,this.pen=null}get name(){return"guide"}activate(t,e){super.activate(t,e),e.tool?.deactivate(t)}deactivate(t){super.deactivate(t),this.pen=null,this.from=null,this.to=null}updateTheme(t){super.updateTheme(t),this.pen=new ft(new ct(t.theme.guide))}draw(t){t.context.drawLine(this.from,this.to,this.pen)}onMouseLeftButtonDown(t,e){this.onMouseLeftButtonMove(t,e)}onMouseLeftButtonMove(t,e){const{keyboardStatus:i,boundingBox:s,viewBox:n}=t,r=i.isShift?Math.round(e.position.x):e.position.x,o=i.isShift?Math.round(e.position.y):e.position.y,a=n.matrix.point(r,o);this.data.horizontal?(this.from=new Ct(0,a.y),this.to=new Ct(s.width,a.y)):(this.from=new Ct(a.x,0),this.to=new Ct(a.x,s.height)),this.isInvalidated=!0}onMouseLeftButtonUp(t,e){const i=this.data.horizontal,{keyboardStatus:s}=t;if(i&&e.canvasPosition.y>0||!i&&e.canvasPosition.x>0){let n;n=new Se(i?s.isShift?Math.round(e.position.y):e.position.y:s.isShift?Math.round(e.position.x):e.position.x,i),t.document.guides.add(n),t.project.state.snapshot()}this.data.release(this.data.tool)}}const ke={antialias:!1},Oe={antialias:!0};class Be extends HTMLElement{constructor(){super(),this._ruler=null,this._context=null,this._tool=null,this._project=null,this._guideTool=new be,this._mousePointerDown=!1,this._mousePointerInside=!1,this._mousePointerPosition={x:0,y:0},this._keyboardStatus=new o,this._theme=null,this._surface=null,this._highQuality=!0,this._frameCallback=null,this._frameId=null,this._preventSurfaceDisposal=!1,this._surfaceMustBeDisposed=!1,this._deferId=null,this._onDisconnect=null,this._onCanvasDisconnect=null,this._cursor=t.Cursor.Default,this._globalElementProperties=null,this.boundingBox=null,this.snappingOptions={enabled:!0,pixel:!1,grid:!1,guides:!0,bounds:!0,points:!1,contours:!1,tolerance:10},this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML='\n<style>       \n    :host {\n        display: block;\n        margin: 0;\n        padding: 0;\n        border: none;\n        min-width: 300px;\n        min-height: 300px;\n        height: 100%;\n        width: 100%;\n        outline: none;\n        box-sizing: border-box;\n        --bucket-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxnPgogICAgICA8cG9seWdvbiBwb2ludHM9IjAuNSAwLjUyIDAuNSAxMi4zIDMuMSA5LjUyIDkuMTUgMy4wNSAxMS41MSAwLjUyIDAuNSAwLjUyIi8+CiAgICAgIDxwYXRoIGQ9Ik0xLDEuMDJWMTEuMDNMMi43Myw5LjE4LDguNzgsMi43MWwxLjU4LTEuNjlaTTIsOC41VjIuMDJIOC4wNVoiIGZpbGw9IiNmZmYiLz4KICAgIDwvZz4KICAgIDxnPgogICAgICA8cGF0aCBkPSJNOS41NCwyMi45Niw3LjA2LDIwLjQ5LDYsMTkuNDMsNC45NCwyMC40OSwyLjQ2LDIyLjk2YTUuMDA2LDUuMDA2LDAsMSwwLDcuMDgsMFoiLz4KICAgICAgPHBhdGggZD0iTTkuMTgsMjMuMzIsNi43MSwyMC44NCw2LDIwLjE0bC0uNzEuN0wyLjgyLDIzLjMyYTQuNSw0LjUsMCwxLDAsNi4zNiwwWm0tLjcxLDUuNjVhMy40NzcsMy40NzcsMCwwLDEtNC45NCwwLDMuNDgzLDMuNDgzLDAsMCwxLDAtNC45NEw2LDIxLjU1bDIuNDcsMi40OEEzLjQ4MywzLjQ4MywwLDAsMSw4LjQ3LDI4Ljk3WiIgZmlsbD0iI2ZmZiIvPgogICAgPC9nPgogICAgPGc+CiAgICAgIDxwYXRoIGQ9Ik0zMC41NywxNC4wNGwtLjEtLjItLjE1LS4xNUwyNS4xNCw4LjQxbDEuNjMtMS42NGEyLjUsMi41LDAsMCwwLTMuNTQtMy41NEwyMS42MSw0Ljg2bC0uNDctLjQ3YTIuOTg5LDIuOTg5LDAsMCwwLTIuMTktLjg0Yy0yLjAxLDAtNC44MiwxLjU2LTcuMzIsNC4wNmwtNi4yLDYuMzRMMy45NywxNS40NGwxLjg4LjkxLDMuNDksMS42OSw4LjM3LDguMjUuMTUuMTUuMi4xMWEzLjksMy45LDAsMCwwLDEuODQuNDJjMi4xNSwwLDQuOTQtMS40Niw3LjI5LTMuODFDMjkuODcsMjAuNDgsMzEuOTUsMTYuNjIsMzAuNTcsMTQuMDRaIi8+CiAgICAgIDxnPgogICAgICAgIDxwYXRoIGQ9Ik0zMC4xMywxNC4yN2wtLjA3LS4xMy0uMS0uMUwyNC40NCw4LjQxbDEuOTgtMS45OWEyLjAwOCwyLjAwOCwwLDAsMC0yLjg0LTIuODRMMjEuNjEsNS41NmwtLjgyLS44MmEyLjUzNCwyLjUzNCwwLDAsMC0xLjg0LS42OWMtMS44OSwwLTQuNTYsMS41LTYuOTcsMy45MUw1Ljc5LDE0LjNsLS45OC45OSwxLjI1LjYxLDMuNTgsMS43Myw4LjQyLDguMy4xLjExLjEzLjA2YTMuMzI4LDMuMzI4LDAsMCwwLDEuNjEuMzdjMi4wMiwwLDQuNjgtMS40LDYuOTQtMy42NkMyOS44NSwxOS43OSwzMS4yLDE2LjI4LDMwLjEzLDE0LjI3Wm0tNCw3LjgzYy0yLjEzLDIuMTMtNC41NCwzLjM3LTYuMjMsMy4zN2EyLjQsMi40LDAsMCwxLTEuMTQtLjI1TDEwLjIyLDE2LjgsNi41LDE1bDYuMTktNi4zM2MyLjI1LTIuMjUsNC43MS0zLjYyLDYuMjYtMy42MmExLjU0NiwxLjU0NiwwLDAsMSwxLjEzLjRsMS41MywxLjUzLDIuNjgtMi42OWExLjAxNCwxLjAxNCwwLDAsMSwxLjQyLDAsMS4wMDgsMS4wMDgsMCwwLDEsMCwxLjQyTDIzLjAzLDguNGw2LjIyLDYuMzRDMzAuMDgsMTYuMywyOC44LDE5LjQzLDI2LjEzLDIyLjFaIiBmaWxsPSIjZmZmIi8+CiAgICAgICAgPHBhdGggZD0iTTE4LjkzLDExLjA5YTEuMDA4LDEuMDA4LDAsMCwwLDEuNDIsMEwyMy4wMyw4LjQsMjEuNjEsNi45OCwxOC45Myw5LjY3QTEuMDA4LDEuMDA4LDAsMCwwLDE4LjkzLDExLjA5WiIgZmlsbD0iI2ZmZiIvPgogICAgICA8L2c+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K");\n        --color-picker-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwYXRoIGQ9Ik0yMi4yNSw5LjlsLS4xNS0uMTVhNC41NzUsNC41NzUsMCwwLDAtNi40NywwbC0xLjY3LDEuNjctMS41LDEuNWEyLjU1NywyLjU1NywwLDAsMC0xLjc0Ljc0bC0uMTcuMTdhMi41MDgsMi41MDgsMCwwLDAtLjcsMi4yTDUuMTgsMjAuN2MtMS4yLDEuMi0zLjAyLDMuNDMtMy4xLDMuNTJsLS4zLjM2LS4wOS40NmMtLjA3LjQxLS4yOCwxLjQxLS40NCwyLjA5QTIuNTYsMi41NiwwLDAsMCwzLjA2LDMxLjVhMi41NzYsMi41NzYsMCwwLDAsMS44MS0uNzV2LS4wMWMuNjgtLjE2LDEuNjgtLjM2LDIuMDktLjQ0bC40NS0uMDkuMzctLjI5Yy4wOS0uMDgsMi4zMi0xLjkxLDMuNTEtMy4xbDQuNjgtNC42N2EyLjk2NiwyLjk2NiwwLDAsMCwuNDIuMDMsMi41MjksMi41MjksMCwwLDAsMS43OC0uNzNsLjE3LS4xN2EyLjUyMSwyLjUyMSwwLDAsMCwuNzMtMS43NGwxLjUxLTEuNTEsMS42Ny0xLjY2QTQuNTg3LDQuNTg3LDAsMCwwLDIyLjI1LDkuOVoiLz4KICAgIDxnPgogICAgICA8cGF0aCBkPSJNMjEuODksMTAuMjVsLS4xNS0uMTVhNC4wOCw0LjA4LDAsMCwwLTUuNzYsMGwtMS42NiwxLjY3LTEuNjYsMS42NmMtLjA2LDAtLjExLS4wMS0uMTYtLjAxYTIuMDEyLDIuMDEyLDAsMCwwLTEuNDMuNTlsLS4xNy4xN2EyLjAzNywyLjAzNywwLDAsMC0uNSwyLjAxTDUuNTMsMjEuMDZjLTEuMTgsMS4xNy0yLjk5LDMuMzgtMy4wNiwzLjQ4bC0uMjIuMjYtLjA2LjMzYy0uMDkuNDQtLjMyLDEuNTYtLjQ4LDIuMjVsLS4xMS4xQTIuMDY1LDIuMDY1LDAsMCwwLDMuMDYsMzFhMi4wMzYsMi4wMzYsMCwwLDAsMS40NS0uNjFsLjExLS4xYy42OC0uMTcsMS44LS4zOSwyLjI0LS40OGwuMzQtLjA2LjI2LS4yMmMuMDktLjA4LDIuMy0xLjg5LDMuNDgtMy4wNmw0Ljg3LTQuODdhMi4yNTUsMi4yNTUsMCwwLDAsLjU4LjA4LDEuOTg5LDEuOTg5LDAsMCwwLDEuNDItLjU5bC4xNy0uMTdhMS45ODksMS45ODksMCwwLDAsLjU5LTEuNDJ2LS4xNmwxLjY2LTEuNjYsMS42Ni0xLjY3YTQuMDU2LDQuMDU2LDAsMCwwLDAtNS43NlptLS45NSw0LjgxLTEuNjcsMS42NkwxNywxOWwuMDMuMDNhLjY2NC42NjQsMCwwLDEsMCwuOTRsLS4xNy4xN2EuNjc2LjY3NiwwLDAsMS0uOTQsMGwtLjI4LS4yOUw5Ljk4LDI1LjUxQzguODQsMjYuNjUsNi42LDI4LjQ5LDYuNiwyOC40OXMtMS45Mi4zNy0yLjY4LjU5bC0uMzYuMzZhLjcwNy43MDcsMCwxLDEtMS0xbC4zNi0uMzZjLjIyLS43Ny41OS0yLjY5LjU5LTIuNjlzMS44My0yLjI0LDIuOTctMy4zOGw1LjY2LTUuNjYtLjI4LS4yOGEuNjUyLjY1MiwwLDAsMSwwLS45M2wuMTctLjE3YS42NDEuNjQxLDAsMCwxLC45MywwTDEzLDE1bDIuMjctMi4yOCwxLjY3LTEuNjZhMi43MTYsMi43MTYsMCwwLDEsMy44NSwwbC4xNS4xNUEyLjcyOCwyLjcyOCwwLDAsMSwyMC45NCwxNS4wNloiIGZpbGw9IiNmZmYiLz4KICAgICAgPHBhdGggZD0iTTcuMTkyLDIyLjcxOWMtLjkuOS0yLjI4NSwyLjU1NC0yLjc0OSwzLjExNS0uMDg5LjQ0NS0uMjgsMS4zODItLjQ0NSwyLjA2NmEuNi42LDAsMCwxLC4wNTkuMDM5aDBjLjAxNy4wMTguMDI0LjA0LjAzOS4wNTkuNjg0LS4xNjUsMS42MjEtLjM1NiwyLjA2Ny0uNDQ0LjU2LS40NjUsMi4yMTItMS44NDcsMy4xMTUtMi43NWw1LjY1Ny01LjY1Ny0yLjA4Ni0yLjA4NVoiIGZpbGw9IiNmZmYiLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=");\n        --hand-hold-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwYXRoIGQ9Ik0xNC4zODEsMjguNWE0LjA1NSw0LjA1NSwwLDAsMS0yLjk0OC0uODQxLDUwLjYyNiw1MC42MjYsMCwwLDEtNS44Mi02LjM0Myw0LjE2Nyw0LjE2NywwLDAsMS0uNDQxLTMuMTc0LDQuNjgzLDQuNjgzLDAsMCwxLDEuNTY3LTMuMDY5LDEuNDY0LDEuNDY0LDAsMCwxLC43NjQtLjI1OC44NzQuODc0LDAsMCwxLC42NjIuMjg4LDE5LjE5NCwxOS4xOTQsMCwwLDAtLjY0LTIuNDQ1LDIuOTIzLDIuOTIzLDAsMCwxLC4yLTIuMjY4QTIuNzM2LDIuNzM2LDAsMCwxLDkuMzYxLDkuMDJhMi40NzIsMi40NzIsMCwwLDEsLjY4Ni0uMDkzLDMuNDExLDMuNDExLDAsMCwxLDIuNTI0LDEuMiwyLjYsMi42LDAsMCwxLDIuNDc3LTIuMUEzLjI3LDMuMjcsMCwwLDEsMTguMzM0LDEwLjFsLjEuMTc5Yy4wOC4xNDEuMTI4LjE2OS4xMjkuMTY5YTIuNywyLjcsMCwwLDAsLjU2NS0uMzQxLDMuNTA2LDMuNTA2LDAsMCwxLDItLjgsMi42NTksMi42NTksMCwwLDEsMS4wNjkuMjM1LDIuNTA3LDIuNTA3LDAsMCwxLDEuMzE4LDEuNzQxLDUuOTkyLDUuOTkyLDAsMCwwLC4yODkuNzM4LDIuODc1LDIuODc1LDAsMCwxLDEuMzc0LS4zNzQsMy40NjUsMy40NjUsMCwwLDEsMS41NDIuNDA2YzEuMzM0LjY2NywxLjUwNywyLjMzMywxLjEwNSwzLjZMMjMuODExLDI2LjQyM2EyLjkyLDIuOTIsMCwwLDEtMi43LDIuMDc3WiIgZmlsbD0iI2ZmZiIvPgogICAgPHBhdGggZD0iTTE1LjA0OCw4LjUyM2MxLjk1MiwwLDIuMzgyLjk5NCwyLjk1MiwyLC4xNzEuMy4zNS40MTcuNTQ1LjQxNy42MTMsMCwxLjM4Ni0xLjEzNCwyLjU4Ni0xLjEzNEEyLjEzMiwyLjEzMiwwLDAsMSwyMiwxMGMxLjAxNC40NDYuOSwxLjUxNSwxLjUsMi41YS4xODguMTg4LDAsMCwwLC4xNjcuMTA1Yy4yNjEsMCwuNy0uNDU3LDEuNTE1LS40NTdBMi45MzIsMi45MzIsMCwwLDEsMjYuNSwxMi41YTIuNDQsMi40NCwwLDAsMSwuODUzLDNMMjMuMzQxLDI2LjI0OEEyLjQxMywyLjQxMywwLDAsMSwyMS4xMSwyOEgxNC4zODFhMy41ODMsMy41ODMsMCwwLDEtMi42MzEtLjcyOEE0OS45OTMsNDkuOTkzLDAsMCwxLDYsMjFjLS45MzQtMS4xNC0uMjM4LTQuNzQyLDEtNS41YTEuMDE1LDEuMDE1LDAsMCwxLC41LS4xODRjLjQ5MiwwLC41NTcuNzkyLDEuMTE1LDEuNTQ1LjA0Ny4wNjQuMDg3LjA5NC4xMTkuMDk0LjI3NiwwLC4wMDctMi4yMTgtLjczNy00LjQ1NWEyLjM5MiwyLjM5MiwwLDAsMSwxLjUtMywxLjk2OSwxLjk2OSwwLDAsMSwuNTQ3LS4wNzNBMi42OTQsMi42OTQsMCwwLDEsMTIuNSwxMWMuMDg5LjI1NS4xNDkuMzYxLjIuMzYxLjI1MywwLC4yMTYtMi44MzgsMi4zNS0yLjgzOG0wLTFhMi44MzEsMi44MzEsMCwwLDAtMi42NjEsMS43MjYsMy44NTQsMy44NTQsMCwwLDAtMi4zNC0uODIyLDIuOTYxLDIuOTYxLDAsMCwwLS44MjQuMTEyLDMuMjM5LDMuMjM5LDAsMCwwLTEuOTM2LDEuNjE3LDMuNDI3LDMuNDI3LDAsMCwwLS4yMzYsMi42NmMuMTczLjUxOS4zMTYsMS4wMjkuNDMsMS41YTEuOTcyLDEuOTcyLDAsMCwwLTEsLjMzMWMtMS4yNjUuNzc0LTEuNywyLjgwNi0xLjgsMy40MS0uMTIzLjcyNS0uMzE1LDIuNTI0LjU0NywzLjU3N2E1MS4wNTcsNTEuMDU3LDAsMCwwLDUuODg5LDYuNDExQTQuNTE5LDQuNTE5LDAsMCwwLDE0LjM4MSwyOUgyMS4xMWEzLjQyMSwzLjQyMSwwLDAsMCwzLjE4MS0yLjQzN2w0LTEwLjcxM2MuNTg0LTEuODM0LjAyNS0zLjU2LTEuMzQzLTQuMjQ0YTMuOTU0LDMuOTU0LDAsMCwwLTEuNzY1LS40NTgsMy4wODcsMy4wODcsMCwwLDAtMS4xMS4yMDVjLS4wMjctLjA3Ni0uMDUzLS4xNTItLjA3OS0uMjNBMi45ODUsMi45ODUsMCwwLDAsMjIuNCw5LjA4NWEzLjE0NiwzLjE0NiwwLDAsMC0xLjI3Mi0uMjc5LDMuOTcxLDMuOTcxLDAsMCwwLTIuMjg3Ljg4NmMtLjAzNy4wMjYtLjA3Ny4wNTQtLjExOC4wODFhMy43MywzLjczLDAsMCwwLTMuNjc4LTIuMjVaIi8+CiAgPC9nPgo8L3N2Zz4K");\n        --hand-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwYXRoIGQ9Ik0xNC4zODEsMjguNWE0LjA1Niw0LjA1NiwwLDAsMS0yLjk0OC0uODQxLDY3Ljg2LDY3Ljg2LDAsMCwxLTYuNzY2LTcuNDQxLDIuOTcyLDIuOTcyLDAsMCwxLS42MjUtMi4zODMsMi45MTQsMi45MTQsMCwwLDEsMS4zMzctMiwyLjczMSwyLjczMSwwLDAsMSwzLjY0MS43MzFjLjEwNi4xNDQuMjIzLjMxOC4zNDEuNTA2LS40MDYtMS4yMjgtMi4yNS02Ljc1LTIuMjUtNi43NUEyLjg1LDIuODUsMCwwLDEsNy4yOSw4LjEwNiwyLjY1MiwyLjY1MiwwLDAsMSw4LjksNi43NzVhMi42LDIuNiwwLDAsMSwuNzExLS4xQTIuNjU5LDIuNjU5LDAsMCwxLDEyLjEsOC40ODZjLjIxNC42MTQuNTA1LDEuNTA4LjgsMi40MjktLjE4NC0xLjU3OS0uMzg2LTMuMzI3LS40NzktNC40NTVhMi43OTQsMi43OTQsMCwwLDEsLjcxOS0yLjExNywyLjU2NywyLjU2NywwLDAsMSwxLjktLjg0MywyLjY1MiwyLjY1MiwwLDAsMSwyLjYyLDIuNDk0Yy4wODMsMS4wMDkuMjMyLDIuNy4zNzQsNC4zMTMuMDM5LjQ0NC4wNzguODgxLjExNCwxLjMuMDE0LS4xNDEuMDI3LS4yODUuMDQtLjQyOS4xNDMtMS41MzkuMy0zLjI4Mi40OTEtNC4zMzJBMi42NTYsMi42NTYsMCwwLDEsMjEuMjcyLDQuNmEyLjU3NiwyLjU3NiwwLDAsMSwuNzA4LjEsMi43MjEsMi43MjEsMCwwLDEsMS44ODUsMy4xMTVjLS4xMTMuNjU0LS4yNTQsMS41OS0uNCwyLjU3Ni4wMzQtLjExMS4wNjgtLjIxNC4xLS4zMDhhMi41NTYsMi41NTYsMCwwLDEsMi4zODktMS43NCwyLjQ2OSwyLjQ2OSwwLDAsMSwuNjgyLjFBMi41NCwyLjU0LDAsMCwxLDI4LjE4LDkuN2EyLjczNCwyLjczNCwwLDAsMSwuMTkyLDIuMTA1TDIzLjgxOSwyNi40YTIuOTI5LDIuOTI5LDAsMCwxLTIuNzA5LDIuMVoiIGZpbGw9IiNmZmYiLz4KICAgIDxwYXRoIGQ9Ik0xNS4wNDgsNEEyLjE2OSwyLjE2OSwwLDAsMSwxNy4xNyw2LjAzNWMuMTY0LDIsLjU4OCw2LjY3NS43LDguMDlhLjI1Mi4yNTIsMCwwLDAsLjI1NC4yNDQuMjQ4LjI0OCwwLDAsMCwuMjQ3LS4yMTRjLjIxMy0xLjExMy40NzQtNS4zMzkuODA3LTcuMjI2QTIuMTYsMi4xNiwwLDAsMSwyMS4yNzMsNS4xYTIuMDU1LDIuMDU1LDAsMCwxLC41NjkuMDgyLDIuMjM0LDIuMjM0LDAsMCwxLDEuNTMxLDIuNTQ4Yy0uMzI2LDEuODc4LS44NzUsNi4wOC0xLjA2Niw3LjFhLjIyNS4yMjUsMCwwLDAsLjIyLjI3NC4yMDkuMjA5LDAsMCwwLC4yLS4xMzZjLjI2NC0uNjEuODg3LTMuNDgxLDEuMzItNC43MjRhMi4wNDcsMi4wNDcsMCwwLDEsMS45MTYtMS40LDEuOTYyLDEuOTYyLDAsMCwxLC41NDMuMDc3QTIuMTUyLDIuMTUyLDAsMCwxLDI3LjksMTEuNjU2TDIzLjM0MSwyNi4yNDhBMi40MTMsMi40MTMsMCwwLDEsMjEuMTEsMjhIMTQuMzgxYTMuNTgzLDMuNTgzLDAsMCwxLTIuNjMxLS43MjgsNjkuMjE0LDY5LjIxNCwwLDAsMS02LjctNy4zNzEsMi40NzEsMi40NzEsMCwwLDEsLjU4OC0zLjY0MkEyLjIxNSwyLjIxNSwwLDAsMSw2LjgsMTUuOTNhMi4yNjMsMi4yNjMsMCwwLDEsMS44MTguOTMxYy40NTIuNjA5LDEuMTQ0LDEuOSwxLjMsMi4xMTJhLjI3NC4yNzQsMCwwLDAsLjIyMi4xMTcuMy4zLDAsMCwwLC4yNzUtLjM5NGMtLjQ3MS0xLjQ4LTItNi4wMzgtMi44MzMtOC41MzVhMi4yNjYsMi4yNjYsMCwwLDEsMS40NTgtMi45LDIuMDYzLDIuMDYzLDAsMCwxLC41NzItLjA4MSwyLjE1MiwyLjE1MiwwLDAsMSwyLjAxNiwxLjQ3NmMuNTQ3LDEuNTY5LDEuNiw0Ljk4OSwxLjk0LDUuOTU0YS4xMTcuMTE3LDAsMCwwLC4xMTEuMDgzLjEyMi4xMjIsMCwwLDAsLjEyMy0uMTM3Yy0uMTIzLTEuNTQzLS43LTUuOTUzLS44OC04LjEzMkEyLjE5MSwyLjE5MSwwLDAsMSwxNS4wNDgsNG0wLTFhMy4wNTgsMy4wNTgsMCwwLDAtMi4yNjksMSwzLjI5NCwzLjI5NCwwLDAsMC0uODUsMi41Yy4wMi4yNDUuMDQ1LjUxNi4wNzMuODA2QTMuMTE0LDMuMTE0LDAsMCwwLDkuNjE2LDYuMTc1YTMuMDYsMy4wNiwwLDAsMC0uODQ5LjEyQTMuMTQyLDMuMTQyLDAsMCwwLDYuODQ4LDcuODczYTMuMzQzLDMuMzQzLDAsMCwwLS4yMTEsMi42bC44NDgsMi41NDNjLjI0Ny43MzcuNSwxLjUwNi43NSwyLjI0NWEzLjIyMiwzLjIyMiwwLDAsMC0zLjExNi4xNDFBMy40LDMuNCwwLDAsMCwzLjU1LDE3Ljc1MWEzLjQ3MSwzLjQ3MSwwLDAsMCwuNzMsMi43ODQsNjguMzMzLDY4LjMzMywwLDAsMCw2LjgzNSw3LjUxQTQuNTE5LDQuNTE5LDAsMCwwLDE0LjM4MSwyOUgyMS4xMWEzLjQyMSwzLjQyMSwwLDAsMCwzLjE4MS0yLjQzN0wyOC44NSwxMS45NTRhMy4yMzIsMy4yMzIsMCwwLDAtLjIyOS0yLjQ4NiwzLjAzOCwzLjAzOCwwLDAsMC0xLjg0Mi0xLjUsMi45NTQsMi45NTQsMCwwLDAtMi41LjQwN2MuMDI3LS4xNjguMDUzLS4zMjQuMDc4LS40NjZhMy4yMjMsMy4yMjMsMCwwLDAtMi4yNC0zLjY4LDMuMDQ2LDMuMDQ2LDAsMCwwLS44NDYtLjEyMSwzLjE1MiwzLjE1MiwwLDAsMC0zLjA1MSwyLjUxMWMtLjAyMS0uMjQyLS4wMzktLjQ2NS0uMDU2LS42NjFBMy4xNSwzLjE1LDAsMCwwLDE1LjA0OCwzWiIvPgogIDwvZz4KPC9zdmc+Cg==");\n        --move-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8cmVjdCB4PSIxMyIgeT0iMTMuNSIgd2lkdGg9IjYiIGhlaWdodD0iNiIgcng9IjIuOTYiLz4KICA8cGF0aCBkPSJNMTYuMDM0LDE0aC0uMDY4QTIuNDY2LDIuNDY2LDAsMCwwLDEzLjUsMTYuNDY2di4wNjhBMi40NjYsMi40NjYsMCwwLDAsMTUuOTY2LDE5aC4wNjhBMi40NjYsMi40NjYsMCwwLDAsMTguNSwxNi41MzR2LS4wNjhBMi40NjYsMi40NjYsMCwwLDAsMTYuMDM0LDE0Wk0xNy41LDE2LjUyQTEuNDgsMS40OCwwLDAsMSwxNi4wMiwxOGgtLjA0YTEuNDgsMS40OCwwLDAsMS0xLjQ4LTEuNDh2LS4wNEExLjQ4LDEuNDgsMCwwLDEsMTUuOTgsMTVoLjA0YTEuNDgsMS40OCwwLDAsMSwxLjQ4LDEuNDhaIiBmaWxsPSIjZmZmIi8+CiAgPGc+CiAgICA8cG9seWdvbiBwb2ludHM9IjE1Ljk4OCAyIDE1LjE3MiAzLjE4NCAxMS41OTUgOC4zNzUgMTAuNDc1IDEwIDEyLjQxMSAxMCAxOS41NjQgMTAgMjEuNSAxMCAyMC4zOCA4LjM3NSAxNi44MDMgMy4xODQgMTUuOTg4IDIgMTUuOTg4IDIiLz4KICAgIDxwYXRoIGQ9Ik0yMC41MzIsOS40ODVIMTEuNDQzTDE1Ljk4OCwyLjg5Wm0tNy4xNTMtMS4wM0gxOC42TDE1Ljk4OCw0LjY2OVoiIGZpbGw9IiNmZmYiLz4KICA8L2c+CiAgPGc+CiAgICA8cG9seWdvbiBwb2ludHM9IjMwLjUgMTYuNDg4IDI5LjMxNiAxNS42NzIgMjQuMTI1IDEyLjA5NSAyMi41IDEwLjk3NSAyMi41IDEyLjkxMSAyMi41IDIwLjA2NCAyMi41IDIyIDI0LjEyNSAyMC44OCAyOS4zMTYgMTcuMzAzIDMwLjUgMTYuNDg4IDMwLjUgMTYuNDg4Ii8+CiAgICA8cGF0aCBkPSJNMjMuMDE1LDIxLjAzMlYxMS45NDNsNi41OTUsNC41NDVabTEuMDMtNy4xNTNWMTkuMWwzLjc4Ni0yLjYwOFoiIGZpbGw9IiNmZmYiLz4KICA8L2c+CiAgPGc+CiAgICA8cG9seWdvbiBwb2ludHM9IjE2LjAxMiAzMSAxNi44MjggMjkuODE2IDIwLjQwNSAyNC42MjUgMjEuNTI1IDIzIDE5LjU4OSAyMyAxMi40MzYgMjMgMTAuNSAyMyAxMS42MiAyNC42MjUgMTUuMTk3IDI5LjgxNiAxNi4wMTIgMzEgMTYuMDEyIDMxIi8+CiAgICA8cGF0aCBkPSJNMTEuNDY4LDIzLjUxNWg5LjA4OUwxNi4wMTIsMzAuMTFabTcuMTUzLDEuMDNIMTMuNGwyLjYwOCwzLjc4NloiIGZpbGw9IiNmZmYiLz4KICA8L2c+CiAgPGc+CiAgICA8cG9seWdvbiBwb2ludHM9IjEuNSAxNi41MTIgMi42ODQgMTcuMzI4IDcuODc1IDIwLjkwNSA5LjUgMjIuMDI1IDkuNSAyMC4wODkgOS41IDEyLjkzNiA5LjUgMTEgNy44NzUgMTIuMTIgMi42ODQgMTUuNjk3IDEuNSAxNi41MTIgMS41IDE2LjUxMiIvPgogICAgPHBhdGggZD0iTTguOTg1LDExLjk2OHY5LjA4OUwyLjM5LDE2LjUxMlptLTEuMDMsNy4xNTNWMTMuOUw0LjE2OSwxNi41MTJaIiBmaWxsPSIjZmZmIi8+CiAgPC9nPgo8L3N2Zz4K");\n        --not-allowed-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxyZWN0IHg9IjEuOTE1IiB5PSIyIiB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIHJ4PSIxNCIvPgogICAgPHJlY3QgeD0iMi40MTUiIHk9IjIuNSIgd2lkdGg9IjI3IiBoZWlnaHQ9IjI3IiByeD0iMTMuNSIgZmlsbD0iI2ZmZiIvPgogICAgPHBhdGggZD0iTTE1LjkxNSw0YTEyLDEyLDAsMSwwLDEyLDEyQTEyLDEyLDAsMCwwLDE1LjkxNSw0Wm0tMTAsMTJBOS45MzQsOS45MzQsMCwwLDEsNy45NjMsOS45NjJsMTMuOTksMTMuOTlBOS45ODEsOS45ODEsMCwwLDEsNS45MTUsMTZabTE3LjUsNi41ODlMOS4zMjYsOC41QTkuOTg0LDkuOTg0LDAsMCwxLDIzLjQxOCwyMi41ODlaIi8+CiAgPC9nPgo8L3N2Zz4K");\n        --pen-add-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMjUuNSAyMiAyNS41IDE5IDIxLjUgMTkgMjEuNSAyMiAxOC41IDIyIDE4LjUgMjYgMjEuNSAyNiAyMS41IDI5IDI1LjUgMjkgMjUuNSAyNiAyOC41IDI2IDI4LjUgMjIgMjUuNSAyMiIvPgogICAgPHBhdGggZD0iTTI1LDIyLjV2LTNIMjJ2M0gxOXYzaDN2M2gzdi0zaDN2LTNabTIsMkgyNHYzSDIzdi0zSDIwdi0xaDN2LTNoMXYzaDNaIiBmaWxsPSIjZmZmIi8+CiAgPC9nPgogIDxnPgogICAgPHBhdGggZD0iTTE1LDEzLDEzLjcyLDYuNThBMi4wMzgsMi4wMzgsMCwwLDAsMTIuNDcsNS4xTC41LjVWMTMuNGEyLDIsMCwwLDAsLjkzLDEuNjlMNiwxOGwzLDQuNSw4LjUtNVpNNi40MiwxNy43MmwtLjA2LS4wOS0uMDktLjA1TDEuNjksMTQuNjdBMS41MDYsMS41MDYsMCwwLDEsMSwxMy40VjEuMjNMMTIuMjksNS41N2ExLjUxMywxLjUxMywwLDAsMSwuOTQsMS4xMWwxLjI4LDYuNDIuMDIuMDcuMDMuMDcsMi4yNyw0LjA4TDkuMTUsMjEuODNaIiBmaWxsPSIjZmZmIi8+CiAgICA8cGF0aCBkPSJNMTUsMTMsMTMuNzIsNi41OEEyLjAzOCwyLjAzOCwwLDAsMCwxMi40Nyw1LjFMLjUuNVYxMy40YTIsMiwwLDAsMCwuOTMsMS42OUw2LDE4bDMsNC41LDguNS01WiIvPgogICAgPHBhdGggZD0iTTYuNDIsMTcuNzJsLS4wNi0uMDktLjA5LS4wNUwxLjY5LDE0LjY3QTEuNTA2LDEuNTA2LDAsMCwxLDEsMTMuNFYxLjIzTDEyLjI5LDUuNTdhMS41MTMsMS41MTMsMCwwLDEsLjk0LDEuMTFsMS4yOCw2LjQyLjAyLjA3LjAzLjA3LDIuMjcsNC4wOEw5LjE1LDIxLjgzWiIgZmlsbD0iI2ZmZiIvPgogICAgPHBhdGggZD0iTTE1LjI4LDE2Ljg5bC01Ljc3LDMuNEw3LjM3LDE3LjA4bC0uMTktLjI5LS4yOS0uMThMMi4zMSwxMy43YS4zNjYuMzY2LDAsMCwxLS4xNi0uM1YzLjg3TDYuMTIsOS40MkExLjQzNSwxLjQzNSwwLDAsMCw2LDEwLDEuNSwxLjUsMCwxLDAsNy41LDguNWExLjM0NSwxLjM0NSwwLDAsMC0uMzUuMDVMMy40OCwzLjQxbDguNCwzLjIzYS4zODQuMzg0LDAsMCwxLC4yMi4yNmwxLjI4LDYuNDIuMDUuMjYuMTMuMjJaIi8+CiAgPC9nPgo8L3N2Zz4K");\n        --pen-close-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8cGF0aCBkPSJNMjUuNDcsMjIuMDNBMy40OTMsMy40OTMsMCwxLDAsMjMsMjhhMy41LDMuNSwwLDAsMCwzLjUtMy41QTMuNDYsMy40NiwwLDAsMCwyNS40NywyMi4wM1oiLz4KICA8Zz4KICAgIDxwYXRoIGQ9Ik0xNSwxMywxMy43Miw2LjU4QTIuMDM4LDIuMDM4LDAsMCwwLDEyLjQ3LDUuMUwuNS41VjEzLjRhMiwyLDAsMCwwLC45MywxLjY5TDYsMThsMyw0LjUsOC41LTVaTTYuNDIsMTcuNzJsLS4wNi0uMDktLjA5LS4wNUwxLjY5LDE0LjY3QTEuNTA2LDEuNTA2LDAsMCwxLDEsMTMuNFYxLjIzTDEyLjI5LDUuNTdhMS41MTMsMS41MTMsMCwwLDEsLjk0LDEuMTFsMS4yOCw2LjQyLjAyLjA3LjAzLjA3LDIuMjcsNC4wOEw5LjE1LDIxLjgzWiIgZmlsbD0iI2ZmZiIvPgogICAgPHBhdGggZD0iTTE1LDEzLDEzLjcyLDYuNThBMi4wMzgsMi4wMzgsMCwwLDAsMTIuNDcsNS4xTC41LjVWMTMuNGEyLDIsMCwwLDAsLjkzLDEuNjlMNiwxOGwzLDQuNSw4LjUtNVoiLz4KICAgIDxwYXRoIGQ9Ik02LjQyLDE3LjcybC0uMDYtLjA5LS4wOS0uMDVMMS42OSwxNC42N0ExLjUwNiwxLjUwNiwwLDAsMSwxLDEzLjRWMS4yM0wxMi4yOSw1LjU3YTEuNTEzLDEuNTEzLDAsMCwxLC45NCwxLjExbDEuMjgsNi40Mi4wMi4wNy4wMy4wNywyLjI3LDQuMDhMOS4xNSwyMS44M1oiIGZpbGw9IiNmZmYiLz4KICAgIDxwYXRoIGQ9Ik0xNS4yOCwxNi44OWwtNS43NywzLjRMNy4zNywxNy4wOGwtLjE5LS4yOS0uMjktLjE4TDIuMzEsMTMuN2EuMzY2LjM2NiwwLDAsMS0uMTYtLjNWMy44N0w2LjEyLDkuNDJBMS40MzUsMS40MzUsMCwwLDAsNiwxMCwxLjUsMS41LDAsMSwwLDcuNSw4LjVhMS4zNDUsMS4zNDUsMCwwLDAtLjM1LjA1TDMuNDgsMy40MWw4LjQsMy4yM2EuMzg0LjM4NCwwLDAsMSwuMjIuMjZsMS4yOCw2LjQyLjA1LjI2LjEzLjIyWiIvPgogIDwvZz4KICA8cGF0aCBkPSJNMjUuMTIsMjIuMzhBMi45OTQsMi45OTQsMCwxLDAsMjYsMjQuNSwyLjk5MywyLjk5MywwLDAsMCwyNS4xMiwyMi4zOFpNMjMsMjYuMjVhMS43NSwxLjc1LDAsMSwxLDEuNzUtMS43NUExLjc1OCwxLjc1OCwwLDAsMSwyMywyNi4yNVoiIGZpbGw9IiNmZmYiLz4KPC9zdmc+Cg==");\n        --pen-continue-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwYXRoIGQ9Ik0xNSwxMywxMy43Miw2LjU4QTIuMDM4LDIuMDM4LDAsMCwwLDEyLjQ3LDUuMUwuNS41VjEzLjRhMiwyLDAsMCwwLC45MywxLjY5TDYsMThsMyw0LjUsOC41LTVaTTYuNDIsMTcuNzJsLS4wNi0uMDktLjA5LS4wNUwxLjY5LDE0LjY3QTEuNTA2LDEuNTA2LDAsMCwxLDEsMTMuNFYxLjIzTDEyLjI5LDUuNTdhMS41MTMsMS41MTMsMCwwLDEsLjk0LDEuMTFsMS4yOCw2LjQyLjAyLjA3LjAzLjA3LDIuMjcsNC4wOEw5LjE1LDIxLjgzWiIgZmlsbD0iI2ZmZiIvPgogICAgPHBhdGggZD0iTTE1LDEzLDEzLjcyLDYuNThBMi4wMzgsMi4wMzgsMCwwLDAsMTIuNDcsNS4xTC41LjVWMTMuNGEyLDIsMCwwLDAsLjkzLDEuNjlMNiwxOGwzLDQuNSw4LjUtNVoiLz4KICAgIDxwYXRoIGQ9Ik02LjQyLDE3LjcybC0uMDYtLjA5LS4wOS0uMDVMMS42OSwxNC42N0ExLjUwNiwxLjUwNiwwLDAsMSwxLDEzLjRWMS4yM0wxMi4yOSw1LjU3YTEuNTEzLDEuNTEzLDAsMCwxLC45NCwxLjExbDEuMjgsNi40Mi4wMi4wNy4wMy4wNywyLjI3LDQuMDhMOS4xNSwyMS44M1oiIGZpbGw9IiNmZmYiLz4KICAgIDxwYXRoIGQ9Ik0xNS4yOCwxNi44OWwtNS43NywzLjRMNy4zNywxNy4wOGwtLjE5LS4yOS0uMjktLjE4TDIuMzEsMTMuN2EuMzY2LjM2NiwwLDAsMS0uMTYtLjNWMy44N0w2LjEyLDkuNDJBMS40MzUsMS40MzUsMCwwLDAsNiwxMCwxLjUsMS41LDAsMSwwLDcuNSw4LjVhMS4zNDUsMS4zNDUsMCwwLDAtLjM1LjA1TDMuNDgsMy40MWw4LjQsMy4yM2EuMzg0LjM4NCwwLDAsMSwuMjIuMjZsMS4yOCw2LjQyLjA1LjI2LjEzLjIyWiIvPgogIDwvZz4KICA8cG9seWdvbiBwb2ludHM9IjI4LjczIDIwLjY3IDI4LjAzIDE5LjUxIDI3LjI2IDE4LjIzIDI1Ljk3IDE5IDE1Ljk3IDI1IDE0LjY5IDI1Ljc3IDE1LjQ2IDI3LjA2IDE2LjE2IDI4LjIyIDE2LjkzIDI5LjUgMTguMjEgMjguNzMgMjguMjEgMjIuNzMgMjkuNSAyMS45NiAyOC43MyAyMC42NyIvPgogIDxwYXRoIGQ9Ik0yOC4zLDIwLjkzbC0uNy0xLjE2LS41MS0uODYtLjg2LjUyLTEwLDYtLjg2LjUxLjUyLjg2LjY5LDEuMTYuNTIuODUuODYtLjUxLDEwLTYsLjg1LS41MVpNMTcuNDQsMjcuNDRsLS42OS0xLjE1LDEwLTYsLjY5LDEuMTVaIiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPgo=");\n        --pen-point-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwYXRoIGQ9Ik0xNSwxMywxMy43Miw2LjU4QTIuMDM4LDIuMDM4LDAsMCwwLDEyLjQ3LDUuMUwuNS41VjEzLjRhMiwyLDAsMCwwLC45MywxLjY5TDYsMThsMyw0LjUsOC41LTVaTTYuNDIsMTcuNzJsLS4wNi0uMDktLjA5LS4wNUwxLjY5LDE0LjY3QTEuNTA2LDEuNTA2LDAsMCwxLDEsMTMuNFYxLjIzTDEyLjI5LDUuNTdhMS41MTMsMS41MTMsMCwwLDEsLjk0LDEuMTFsMS4yOCw2LjQyLjAyLjA3LjAzLjA3LDIuMjcsNC4wOEw5LjE1LDIxLjgzWiIgZmlsbD0iI2ZmZiIvPgogICAgPHBhdGggZD0iTTE1LDEzLDEzLjcyLDYuNThBMi4wMzgsMi4wMzgsMCwwLDAsMTIuNDcsNS4xTC41LjVWMTMuNGEyLDIsMCwwLDAsLjkzLDEuNjlMNiwxOGwzLDQuNSw4LjUtNVoiLz4KICAgIDxwYXRoIGQ9Ik02LjQyLDE3LjcybC0uMDYtLjA5LS4wOS0uMDVMMS42OSwxNC42N0ExLjUwNiwxLjUwNiwwLDAsMSwxLDEzLjRWMS4yM0wxMi4yOSw1LjU3YTEuNTEzLDEuNTEzLDAsMCwxLC45NCwxLjExbDEuMjgsNi40Mi4wMi4wNy4wMy4wNywyLjI3LDQuMDhMOS4xNSwyMS44M1oiIGZpbGw9IiNmZmYiLz4KICAgIDxwYXRoIGQ9Ik0xNS4yOCwxNi44OWwtNS43NywzLjRMNy4zNywxNy4wOGwtLjE5LS4yOS0uMjktLjE4TDIuMzEsMTMuN2EuMzY2LjM2NiwwLDAsMS0uMTYtLjNWMy44N0w2LjEyLDkuNDJBMS40MzUsMS40MzUsMCwwLDAsNiwxMCwxLjUsMS41LDAsMSwwLDcuNSw4LjVhMS4zNDUsMS4zNDUsMCwwLDAtLjM1LjA1TDMuNDgsMy40MWw4LjQsMy4yM2EuMzg0LjM4NCwwLDAsMSwuMjIuMjZsMS4yOCw2LjQyLjA1LjI2LjEzLjIyWiIvPgogIDwvZz4KICA8cGF0aCBkPSJNMzAuMzUsMjQuMmEyLjYsMi42LDAsMCwwLTIuMjQtMi41N0EyLjYsMi42LDAsMCwwLDI3LDE4LjRhMi41NTksMi41NTksMCwwLDAtMS4zLS4zNSwyLjYzMiwyLjYzMiwwLDAsMC0yLjA1LDEsMi42LDIuNiwwLDAsMC00LjQ2LDIuNTgsMi42LDIuNiwwLDAsMCwwLDUuMTUsMi42LDIuNiwwLDAsMCw0LjQ2LDIuNTcsMi42MzIsMi42MzIsMCwwLDAsMi4wNSwxQTIuNTU5LDIuNTU5LDAsMCwwLDI3LDMwYTIuNTg4LDIuNTg4LDAsMCwwLDEuMTEtMy4yMkEyLjYxNywyLjYxNywwLDAsMCwzMC4zNSwyNC4yWiIvPgogIDxwYXRoIGQ9Ik0yOS44NSwyNC4yYTIuMSwyLjEsMCwwLDAtMi4xLTIuMWgtLjQ2bC4yMy0uNGEyLjEwNywyLjEwNywwLDAsMC0uNzctMi44NywyLjE0MiwyLjE0MiwwLDAsMC0xLjA1LS4yOCwyLjEsMi4xLDAsMCwwLTEuODIsMS4wNWwtLjIzLjQtLjIzLS40YTIuMSwyLjEsMCwwLDAtMS44Mi0xLjA1LDIuMTcxLDIuMTcxLDAsMCwwLTEuMDUuMjgsMi4xMTYsMi4xMTYsMCwwLDAtLjc3LDIuODdsLjIzLjRoLS40NmEyLjEsMi4xLDAsMCwwLDAsNC4yaC40NmwtLjIzLjRhMi4xMTYsMi4xMTYsMCwwLDAsLjc3LDIuODcsMi4xNDIsMi4xNDIsMCwwLDAsMS4wNS4yOCwyLjEsMi4xLDAsMCwwLDEuODItMS4wNWwuMjMtLjQuMjMuNGEyLjEwOCwyLjEwOCwwLDAsMCwxLjgyLDEuMDUsMi4xNDIsMi4xNDIsMCwwLDAsMS4wNS0uMjgsMi4xMDcsMi4xMDcsMCwwLDAsLjc3LTIuODdsLS4yMy0uNGguNDZBMi4xLDIuMSwwLDAsMCwyOS44NSwyNC4yWm0tNC45Ljc1LDEuNCwyLjQzYS43NDQuNzQ0LDAsMCwxLS42NSwxLjEyLjczNS43MzUsMCwwLDEtLjY1LS4zOGwtMS40LTIuNDItMS40LDIuNDJhLjczNS43MzUsMCwwLDEtLjY1LjM4LjcxMS43MTEsMCwwLDEtLjM3LS4xLjc1NC43NTQsMCwwLDEtLjI4LTEuMDJsMS40LTIuNDNoLTIuOGEuNzUuNzUsMCwwLDEsMC0xLjVoMi44bC0xLjQtMi40MkEuNzY0Ljc2NCwwLDAsMSwyMS4yMywyMGEuNzM2LjczNiwwLDAsMSwuMzctLjEuNzU2Ljc1NiwwLDAsMSwuNjUuMzhsMS40LDIuNDIsMS40LTIuNDJhLjc1Ni43NTYsMCwwLDEsLjY1LS4zOC43NDYuNzQ2LDAsMCwxLC4zOC4xLjc2MS43NjEsMCwwLDEsLjI3LDEuMDNsLTEuNCwyLjQyaDIuOGEuNzUuNzUsMCwwLDEsMCwxLjVaIiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPgo=");\n        --pen-remove-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxyZWN0IHg9IjE4LjUiIHk9IjIyIiB3aWR0aD0iMTAiIGhlaWdodD0iNCIvPgogICAgPHBhdGggZD0iTTE5LDIyLjV2M2g5di0zWm04LDJIMjB2LTFoN1oiIGZpbGw9IiNmZmYiLz4KICA8L2c+CiAgPGc+CiAgICA8cGF0aCBkPSJNMTUsMTMsMTMuNzIsNi41OEEyLjAzOCwyLjAzOCwwLDAsMCwxMi40Nyw1LjFMLjUuNVYxMy40YTIsMiwwLDAsMCwuOTMsMS42OUw2LDE4bDMsNC41LDguNS01Wk02LjQyLDE3LjcybC0uMDYtLjA5LS4wOS0uMDVMMS42OSwxNC42N0ExLjUwNiwxLjUwNiwwLDAsMSwxLDEzLjRWMS4yM0wxMi4yOSw1LjU3YTEuNTEzLDEuNTEzLDAsMCwxLC45NCwxLjExbDEuMjgsNi40Mi4wMi4wNy4wMy4wNywyLjI3LDQuMDhMOS4xNSwyMS44M1oiIGZpbGw9IiNmZmYiLz4KICAgIDxwYXRoIGQ9Ik0xNSwxMywxMy43Miw2LjU4QTIuMDM4LDIuMDM4LDAsMCwwLDEyLjQ3LDUuMUwuNS41VjEzLjRhMiwyLDAsMCwwLC45MywxLjY5TDYsMThsMyw0LjUsOC41LTVaIi8+CiAgICA8cGF0aCBkPSJNNi40MiwxNy43MmwtLjA2LS4wOS0uMDktLjA1TDEuNjksMTQuNjdBMS41MDYsMS41MDYsMCwwLDEsMSwxMy40VjEuMjNMMTIuMjksNS41N2ExLjUxMywxLjUxMywwLDAsMSwuOTQsMS4xMWwxLjI4LDYuNDIuMDIuMDcuMDMuMDcsMi4yNyw0LjA4TDkuMTUsMjEuODNaIiBmaWxsPSIjZmZmIi8+CiAgICA8cGF0aCBkPSJNMTUuMjgsMTYuODlsLTUuNzcsMy40TDcuMzcsMTcuMDhsLS4xOS0uMjktLjI5LS4xOEwyLjMxLDEzLjdhLjM2Ni4zNjYsMCwwLDEtLjE2LS4zVjMuODdMNi4xMiw5LjQyQTEuNDM1LDEuNDM1LDAsMCwwLDYsMTAsMS41LDEuNSwwLDEsMCw3LjUsOC41YTEuMzQ1LDEuMzQ1LDAsMCwwLS4zNS4wNUwzLjQ4LDMuNDFsOC40LDMuMjNhLjM4NC4zODQsMCwwLDEsLjIyLjI2bDEuMjgsNi40Mi4wNS4yNi4xMy4yMloiLz4KICA8L2c+Cjwvc3ZnPgo=");\n        --pen-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwYXRoIGQ9Ik0xNSwxMywxMy43Miw2LjU4QTIuMDM4LDIuMDM4LDAsMCwwLDEyLjQ3LDUuMUwuNS41VjEzLjRhMiwyLDAsMCwwLC45MywxLjY5TDYsMThsMyw0LjUsOC41LTVaTTYuNDIsMTcuNzJsLS4wNi0uMDktLjA5LS4wNUwxLjY5LDE0LjY3QTEuNTA2LDEuNTA2LDAsMCwxLDEsMTMuNFYxLjIzTDEyLjI5LDUuNTdhMS41MTMsMS41MTMsMCwwLDEsLjk0LDEuMTFsMS4yOCw2LjQyLjAyLjA3LjAzLjA3LDIuMjcsNC4wOEw5LjE1LDIxLjgzWiIgZmlsbD0iI2ZmZiIvPgogICAgPHBhdGggZD0iTTE1LDEzLDEzLjcyLDYuNThBMi4wMzgsMi4wMzgsMCwwLDAsMTIuNDcsNS4xTC41LjVWMTMuNGEyLDIsMCwwLDAsLjkzLDEuNjlMNiwxOGwzLDQuNSw4LjUtNVoiLz4KICAgIDxwYXRoIGQ9Ik02LjQyLDE3LjcybC0uMDYtLjA5LS4wOS0uMDVMMS42OSwxNC42N0ExLjUwNiwxLjUwNiwwLDAsMSwxLDEzLjRWMS4yM0wxMi4yOSw1LjU3YTEuNTEzLDEuNTEzLDAsMCwxLC45NCwxLjExbDEuMjgsNi40Mi4wMi4wNy4wMy4wNywyLjI3LDQuMDhMOS4xNSwyMS44M1oiIGZpbGw9IiNmZmYiLz4KICAgIDxwYXRoIGQ9Ik0xNS4yOCwxNi44OWwtNS43NywzLjRMNy4zNywxNy4wOGwtLjE5LS4yOS0uMjktLjE4TDIuMzEsMTMuN2EuMzY2LjM2NiwwLDAsMS0uMTYtLjNWMy44N0w2LjEyLDkuNDJBMS40MzUsMS40MzUsMCwwLDAsNiwxMCwxLjUsMS41LDAsMSwwLDcuNSw4LjVhMS4zNDUsMS4zNDUsMCwwLDAtLjM1LjA1TDMuNDgsMy40MWw4LjQsMy4yM2EuMzg0LjM4NCwwLDAsMSwuMjIuMjZsMS4yOCw2LjQyLjA1LjI2LjEzLjIyWiIvPgogIDwvZz4KPC9zdmc+Cg==");\n        --pointer-add-alt-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMjUuNSAyMiAyNS41IDE5IDIxLjUgMTkgMjEuNSAyMiAxOC41IDIyIDE4LjUgMjYgMjEuNSAyNiAyMS41IDI5IDI1LjUgMjkgMjUuNSAyNiAyOC41IDI2IDI4LjUgMjIgMjUuNSAyMiIvPgogICAgPHBhdGggZD0iTTI1LDIyLjV2LTNIMjJ2M0gxOXYzaDN2M2gzdi0zaDN2LTNabTIsMkgyNHYzSDIzdi0zSDIwdi0xaDN2LTNoMXYzaDNaIiBmaWxsPSIjZmZmIi8+CiAgPC9nPgogIDxnPgogICAgPHBvbHlnb24gcG9pbnRzPSIwLjUgMC41IDAuNSAxLjY3MyAwLjUgMjIuNTc0IDAuNSAyMy43NTggMS4zNDkgMjIuOTMzIDcuNDY4IDE2Ljk3OCAxNi40MjEgMTYuOTc4IDE3LjY2NCAxNi45NzggMTYuNzY3IDE2LjExNyAxLjM0NiAxLjMxMiAwLjUgMC41IDAuNSAwLjUiLz4KICAgIDxwYXRoIGQ9Ik0xLDEuNjczdjIwLjlsNi4yNjUtNi4xaDkuMTU2Wk02Ljg1OSwxNS40NzhsLS4yOTIuMjgzTDIsMjAuMjA2VjQuMDE5TDEzLjkzNiwxNS40NzhINi44NTlaIiBmaWxsPSIjZmZmIi8+CiAgPC9nPgo8L3N2Zz4K");\n        --pointer-add-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMjUuNSAyMiAyNS41IDE5IDIxLjUgMTkgMjEuNSAyMiAxOC41IDIyIDE4LjUgMjYgMjEuNSAyNiAyMS41IDI5IDI1LjUgMjkgMjUuNSAyNiAyOC41IDI2IDI4LjUgMjIgMjUuNSAyMiIvPgogICAgPHBhdGggZD0iTTI1LDIyLjV2LTNIMjJ2M0gxOXYzaDN2M2gzdi0zaDN2LTNabTIsMkgyNHYzSDIzdi0zSDIwdi0xaDN2LTNoMXYzaDNaIiBmaWxsPSIjZmZmIi8+CiAgPC9nPgogIDxnPgogICAgPHBvbHlnb24gcG9pbnRzPSIxNi43NyAxNi4xMiAxLjM1IDEuMzEgMC41IDAuNSAwLjUgMjMuNzYgMS4zNSAyMi45MyA3LjQ3IDE2Ljk4IDE3LjY2IDE2Ljk4IDE2Ljc3IDE2LjEyIi8+CiAgICA8cG9seWdvbiBwb2ludHM9IjE2LjQyIDE2LjQ4IDcuMjYgMTYuNDggMSAyMi41OCAxIDEuNjcgMTYuNDIgMTYuNDgiIGZpbGw9IiNmZmYiLz4KICAgIDxwYXRoIGQ9Ik0yLDQuMDJWMjAuMjFsNC44Ni00LjczaDcuMDhaTTYuNDUsMTQuNDgsMywxNy44NFY2LjM3bDguNDUsOC4xMVoiLz4KICA8L2c+Cjwvc3ZnPgo=");\n        --pointer-alt-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMC41IDAuNSAwLjUgMS42NzMgMC41IDIyLjU3NCAwLjUgMjMuNzU4IDEuMzQ5IDIyLjkzMyA3LjQ2OCAxNi45NzggMTYuNDIxIDE2Ljk3OCAxNy42NjQgMTYuOTc4IDE2Ljc2NyAxNi4xMTcgMS4zNDYgMS4zMTIgMC41IDAuNSAwLjUgMC41Ii8+CiAgICA8cGF0aCBkPSJNMSwxLjY3M3YyMC45bDYuMjY1LTYuMWg5LjE1NlpNNi44NTksMTUuNDc4bC0uMjkyLjI4M0wyLDIwLjIwNlY0LjAxOUwxMy45MzYsMTUuNDc4SDYuODU5WiIgZmlsbD0iI2ZmZiIvPgogIDwvZz4KPC9zdmc+Cg==");\n        --pointer-curve-alt-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMC41IDAuNSAwLjUgMS42NzMgMC41IDIyLjU3NCAwLjUgMjMuNzU4IDEuMzQ5IDIyLjkzMyA3LjQ2OCAxNi45NzggMTYuNDIxIDE2Ljk3OCAxNy42NjQgMTYuOTc4IDE2Ljc2NyAxNi4xMTcgMS4zNDYgMS4zMTIgMC41IDAuNSAwLjUgMC41Ii8+CiAgICA8cGF0aCBkPSJNMSwxLjY3M3YyMC45bDYuMjY1LTYuMWg5LjE1NlpNNi44NTksMTUuNDc4bC0uMjkyLjI4M0wyLDIwLjIwNlY0LjAxOUwxMy45MzYsMTUuNDc4SDYuODU5WiIgZmlsbD0iI2ZmZiIvPgogIDwvZz4KICA8Zz4KICAgIDxwYXRoIGQ9Ik0yMy42NDcsMTMuNjVWMTUuNWE3Ljc4Myw3Ljc4MywwLDAsMS0uNjgsMy4xMiw4LjU0NCw4LjU0NCwwLDAsMS0xLjg1LDIuNzUsOC44LDguOCwwLDAsMS0yLjc1LDEuODZBOC42MjUsOC42MjUsMCwwLDEsMTUsMjMuOWgtMS44NXY1LjJIMTVhMTMuODQ0LDEzLjg0NCwwLDAsMCw5Ljc5LTQuMDUsMTMuODQxLDEzLjg0MSwwLDAsMCwyLjk3LTQuNCwxMy4yMzksMTMuMjM5LDAsMCwwLDEuMDktNS4xNVYxMy42NVoiLz4KICAgIDxwYXRoIGQ9Ik0yNC4xNDcsMTQuMTVWMTUuNWE4LjM4NCw4LjM4NCwwLDAsMS0uNzIsMy4zMSw5LjEwNyw5LjEwNywwLDAsMS0xLjk2LDIuOTEsOC45NzUsOC45NzUsMCwwLDEtMi45MSwxLjk3QTkuMiw5LjIsMCwwLDEsMTUsMjQuNGgtMS4zNXY0LjJIMTVhMTMuMywxMy4zLDAsMCwwLDkuNDQtMy45MSwxMy4xMTcsMTMuMTE3LDAsMCwwLDIuODYtNC4yNCwxMi43MjgsMTIuNzI4LDAsMCwwLDEuMDUtNC45NVYxNC4xNVptMS45MSw1Ljc4YTEyLjE0MSwxMi4xNDEsMCwwLDEtMi41NywzLjgxLDEyLjAxNywxMi4wMTcsMCwwLDEtMy44MiwyLjU3LDExLjg0NCwxMS44NDQsMCwwLDEtNC42Ny45NHYtMS41YTEwLjQsMTAuNCwwLDAsMCw3LjQyLTMuMDcsMTAuMzA2LDEwLjMwNiwwLDAsMCwyLjI1LTMuMzQsOS42LDkuNiwwLDAsMCwuODMtMy44NEgyN0ExMS40NTUsMTEuNDU1LDAsMCwxLDI2LjA1NywxOS45M1oiIGZpbGw9IiNmZmYiLz4KICA8L2c+Cjwvc3ZnPgo=");\n        --pointer-curve-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwYXRoIGQ9Ik0yMy42NSwxMy42NDZWMTUuNWE3Ljc4Myw3Ljc4MywwLDAsMS0uNjgsMy4xMiw4LjU0NCw4LjU0NCwwLDAsMS0xLjg1LDIuNzUsOC44LDguOCwwLDAsMS0yLjc1LDEuODZBOC42MjUsOC42MjUsMCwwLDEsMTUsMjMuOUgxMy4xNXY1LjJIMTVhMTMuODQ0LDEzLjg0NCwwLDAsMCw5Ljc5LTQuMDUsMTMuODQxLDEzLjg0MSwwLDAsMCwyLjk3LTQuNCwxMy4yMzksMTMuMjM5LDAsMCwwLDEuMDktNS4xNXYtMS44NVoiLz4KICAgIDxwYXRoIGQ9Ik0yNC4xNSwxNC4xNDZWMTUuNWE4LjM4NCw4LjM4NCwwLDAsMS0uNzIsMy4zMSw5LjEwNyw5LjEwNywwLDAsMS0xLjk2LDIuOTEsOC45NzUsOC45NzUsMCwwLDEtMi45MSwxLjk3QTkuMiw5LjIsMCwwLDEsMTUsMjQuNEgxMy42NXY0LjJIMTVhMTMuMywxMy4zLDAsMCwwLDkuNDQtMy45MSwxMy4xMTcsMTMuMTE3LDAsMCwwLDIuODYtNC4yNCwxMi43MjgsMTIuNzI4LDAsMCwwLDEuMDUtNC45NXYtMS4zNVptMS45MSw1Ljc4YTEyLjE0MSwxMi4xNDEsMCwwLDEtMi41NywzLjgxLDEyLjAxNywxMi4wMTcsMCwwLDEtMy44MiwyLjU3LDExLjg0NCwxMS44NDQsMCwwLDEtNC42Ny45NHYtMS41YTEwLjQsMTAuNCwwLDAsMCw3LjQyLTMuMDcsMTAuMzA2LDEwLjMwNiwwLDAsMCwyLjI1LTMuMzQsOS42LDkuNiwwLDAsMCwuODMtMy44NEgyN0ExMS40NTUsMTEuNDU1LDAsMCwxLDI2LjA2LDE5LjkyNloiIGZpbGw9IiNmZmYiLz4KICA8L2c+CiAgPGc+CiAgICA8cG9seWdvbiBwb2ludHM9IjE2Ljc3IDE2LjIyNiAxLjM1IDEuNDE2IDAuNSAwLjYwNiAwLjUgMjMuODY2IDEuMzUgMjMuMDM2IDcuNDcgMTcuMDg2IDE3LjY2IDE3LjA4NiAxNi43NyAxNi4yMjYiLz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMTYuNDIgMTYuNTg2IDcuMjYgMTYuNTg2IDEgMjIuNjg2IDEgMS43NzYgMTYuNDIgMTYuNTg2IiBmaWxsPSIjZmZmIi8+CiAgICA8cGF0aCBkPSJNMiw0LjEyNnYxNi4xOWw0Ljg2LTQuNzNoNy4wOFptNC40NSwxMC40NkwzLDE3Ljk0NlY2LjQ3Nmw4LjQ1LDguMTFaIi8+CiAgPC9nPgo8L3N2Zz4K");\n        --pointer-move-alt-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8Zz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMC41NDYgMC41NjMgMC41NDYgMS43MzYgMC41NDYgMjIuNjM3IDAuNTQ2IDIzLjgyMSAxLjM5NCAyMi45OTUgNy41MTQgMTcuMDQxIDE2LjQ2NyAxNy4wNDEgMTcuNzEgMTcuMDQxIDE2LjgxMyAxNi4xOCAxLjM5MiAxLjM3NSAwLjU0NiAwLjU2MyAwLjU0NiAwLjU2MyIvPgogICAgPHBhdGggZD0iTTEuMDQ2LDEuNzM2djIwLjlsNi4yNjUtNi4xaDkuMTU2Wk02LjksMTUuNTQxbC0uMjkxLjI4M0wyLjA0NiwyMC4yNjlWNC4wODJMMTMuOTgxLDE1LjU0MUg2LjlaIiBmaWxsPSIjZmZmIi8+CiAgPC9nPgogIDxnPgogICAgPHJlY3QgeD0iMjIuNSIgeT0iMjMiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiIHJ4PSIyLjk2Ii8+CiAgICA8cGF0aCBkPSJNMjUuNTM0LDIzLjVoLS4wNjhBMi40NjYsMi40NjYsMCwwLDAsMjMsMjUuOTY2di4wNjhBMi40NjYsMi40NjYsMCwwLDAsMjUuNDY2LDI4LjVoLjA2OEEyLjQ2NiwyLjQ2NiwwLDAsMCwyOCwyNi4wMzR2LS4wNjhBMi40NjYsMi40NjYsMCwwLDAsMjUuNTM0LDIzLjVaTTI3LDI2LjAyYTEuNDgsMS40OCwwLDAsMS0xLjQ4LDEuNDhoLS4wNEExLjQ4LDEuNDgsMCwwLDEsMjQsMjYuMDJ2LS4wNGExLjQ4LDEuNDgsMCwwLDEsMS40OC0xLjQ4aC4wNEExLjQ4LDEuNDgsMCwwLDEsMjcsMjUuOThaIiBmaWxsPSIjZmZmIi8+CiAgICA8Zz4KICAgICAgPHBvbHlnb24gcG9pbnRzPSIyNS40ODggMTIuNSAyNC42NzIgMTMuNjg0IDIxLjA5NSAxOC44NzUgMTkuOTc1IDIwLjUgMjEuOTExIDIwLjUgMjkuMDY0IDIwLjUgMzEgMjAuNSAyOS44OCAxOC44NzUgMjYuMzAzIDEzLjY4NCAyNS40ODggMTIuNSAyNS40ODggMTIuNSIvPgogICAgICA8cGF0aCBkPSJNMzAuMDMyLDE5Ljk4NUgyMC45NDNsNC41NDUtNi41OTVabS03LjE1My0xLjAzSDI4LjFsLTIuNjA4LTMuNzg2WiIgZmlsbD0iI2ZmZiIvPgogICAgPC9nPgogICAgPGc+CiAgICAgIDxwb2x5Z29uIHBvaW50cz0iMzkgMjUuOTg4IDM3LjgxNiAyNS4xNzIgMzIuNjI1IDIxLjU5NSAzMSAyMC40NzUgMzEgMjIuNDExIDMxIDI5LjU2NCAzMSAzMS41IDMyLjYyNSAzMC4zOCAzNy44MTYgMjYuODAzIDM5IDI1Ljk4OCAzOSAyNS45ODgiLz4KICAgICAgPHBhdGggZD0iTTMxLjUxNSwzMC41MzJWMjEuNDQzbDYuNTk1LDQuNTQ1Wm0xLjAzLTcuMTUzVjI4LjZsMy43ODYtMi42MDhaIiBmaWxsPSIjZmZmIi8+CiAgICA8L2c+CiAgICA8Zz4KICAgICAgPHBvbHlnb24gcG9pbnRzPSIyNS41MTIgMzkuNSAyNi4zMjggMzguMzE2IDI5LjkwNSAzMy4xMjUgMzEuMDI1IDMxLjUgMjkuMDg5IDMxLjUgMjEuOTM2IDMxLjUgMjAgMzEuNSAyMS4xMiAzMy4xMjUgMjQuNjk3IDM4LjMxNiAyNS41MTIgMzkuNSAyNS41MTIgMzkuNSIvPgogICAgICA8cGF0aCBkPSJNMjAuOTY4LDMyLjAxNWg5LjA4OUwyNS41MTIsMzguNjFabTcuMTUzLDEuMDNIMjIuOWwyLjYwOCwzLjc4NloiIGZpbGw9IiNmZmYiLz4KICAgIDwvZz4KICAgIDxnPgogICAgICA8cG9seWdvbiBwb2ludHM9IjEyIDI2LjAxMiAxMy4xODQgMjYuODI4IDE4LjM3NSAzMC40MDUgMjAgMzEuNTI1IDIwIDI5LjU4OSAyMCAyMi40MzYgMjAgMjAuNSAxOC4zNzUgMjEuNjIgMTMuMTg0IDI1LjE5NyAxMiAyNi4wMTIgMTIgMjYuMDEyIi8+CiAgICAgIDxwYXRoIGQ9Ik0xOS40ODUsMjEuNDY4djkuMDg5TDEyLjg5LDI2LjAxMlptLTEuMDMsNy4xNTNWMjMuNGwtMy43ODYsMi42MDhaIiBmaWxsPSIjZmZmIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K");\n        --pointer-move-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8Zz4KICAgIDxyZWN0IHg9IjIyLjUiIHk9IjIzIiB3aWR0aD0iNiIgaGVpZ2h0PSI2IiByeD0iMi45NiIvPgogICAgPHBhdGggZD0iTTI1LjUzNCwyMy41aC0uMDY4QTIuNDY2LDIuNDY2LDAsMCwwLDIzLDI1Ljk2NnYuMDY4QTIuNDY2LDIuNDY2LDAsMCwwLDI1LjQ2NiwyOC41aC4wNjhBMi40NjYsMi40NjYsMCwwLDAsMjgsMjYuMDM0di0uMDY4QTIuNDY2LDIuNDY2LDAsMCwwLDI1LjUzNCwyMy41Wk0yNywyNi4wMmExLjQ4LDEuNDgsMCwwLDEtMS40OCwxLjQ4aC0uMDRBMS40OCwxLjQ4LDAsMCwxLDI0LDI2LjAydi0uMDRhMS40OCwxLjQ4LDAsMCwxLDEuNDgtMS40OGguMDRBMS40OCwxLjQ4LDAsMCwxLDI3LDI1Ljk4WiIgZmlsbD0iI2ZmZiIvPgogICAgPGc+CiAgICAgIDxwb2x5Z29uIHBvaW50cz0iMjUuNDg4IDEyLjUgMjQuNjcyIDEzLjY4NCAyMS4wOTUgMTguODc1IDE5Ljk3NSAyMC41IDIxLjkxMSAyMC41IDI5LjA2NCAyMC41IDMxIDIwLjUgMjkuODggMTguODc1IDI2LjMwMyAxMy42ODQgMjUuNDg4IDEyLjUgMjUuNDg4IDEyLjUiLz4KICAgICAgPHBhdGggZD0iTTMwLjAzMiwxOS45ODVIMjAuOTQzbDQuNTQ1LTYuNTk1Wm0tNy4xNTMtMS4wM0gyOC4xbC0yLjYwOC0zLjc4NloiIGZpbGw9IiNmZmYiLz4KICAgIDwvZz4KICAgIDxnPgogICAgICA8cG9seWdvbiBwb2ludHM9IjM5IDI1Ljk4OCAzNy44MTYgMjUuMTcyIDMyLjYyNSAyMS41OTUgMzEgMjAuNDc1IDMxIDIyLjQxMSAzMSAyOS41NjQgMzEgMzEuNSAzMi42MjUgMzAuMzggMzcuODE2IDI2LjgwMyAzOSAyNS45ODggMzkgMjUuOTg4Ii8+CiAgICAgIDxwYXRoIGQ9Ik0zMS41MTUsMzAuNTMyVjIxLjQ0M2w2LjU5NSw0LjU0NVptMS4wMy03LjE1M1YyOC42bDMuNzg2LTIuNjA4WiIgZmlsbD0iI2ZmZiIvPgogICAgPC9nPgogICAgPGc+CiAgICAgIDxwb2x5Z29uIHBvaW50cz0iMjUuNTEyIDM5LjUgMjYuMzI4IDM4LjMxNiAyOS45MDUgMzMuMTI1IDMxLjAyNSAzMS41IDI5LjA4OSAzMS41IDIxLjkzNiAzMS41IDIwIDMxLjUgMjEuMTIgMzMuMTI1IDI0LjY5NyAzOC4zMTYgMjUuNTEyIDM5LjUgMjUuNTEyIDM5LjUiLz4KICAgICAgPHBhdGggZD0iTTIwLjk2OCwzMi4wMTVoOS4wODlMMjUuNTEyLDM4LjYxWm03LjE1MywxLjAzSDIyLjlsMi42MDgsMy43ODZaIiBmaWxsPSIjZmZmIi8+CiAgICA8L2c+CiAgICA8Zz4KICAgICAgPHBvbHlnb24gcG9pbnRzPSIxMiAyNi4wMTIgMTMuMTg0IDI2LjgyOCAxOC4zNzUgMzAuNDA1IDIwIDMxLjUyNSAyMCAyOS41ODkgMjAgMjIuNDM2IDIwIDIwLjUgMTguMzc1IDIxLjYyIDEzLjE4NCAyNS4xOTcgMTIgMjYuMDEyIDEyIDI2LjAxMiIvPgogICAgICA8cGF0aCBkPSJNMTkuNDg1LDIxLjQ2OHY5LjA4OUwxMi44OSwyNi4wMTJabS0xLjAzLDcuMTUzVjIzLjRsLTMuNzg2LDIuNjA4WiIgZmlsbD0iI2ZmZiIvPgogICAgPC9nPgogIDwvZz4KICA8Zz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMTYuNzcgMTYuMTIgMS4zNSAxLjMxIDAuNSAwLjUgMC41IDIzLjc2IDEuMzUgMjIuOTMgNy40NyAxNi45OCAxNy42NiAxNi45OCAxNi43NyAxNi4xMiIvPgogICAgPHBvbHlnb24gcG9pbnRzPSIxNi40MiAxNi40OCA3LjI2IDE2LjQ4IDEgMjIuNTggMSAxLjY3IDE2LjQyIDE2LjQ4IiBmaWxsPSIjZmZmIi8+CiAgICA8cGF0aCBkPSJNMiw0LjAyVjIwLjIxbDQuODYtNC43M2g3LjA4Wk02LjQ1LDE0LjQ4LDMsMTcuODRWNi4zN2w4LjQ1LDguMTFaIi8+CiAgPC9nPgo8L3N2Zz4K");\n        --pointer-resize-alt-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8dGl0bGU+cmVzaXplLWN1cnNvcnM8L3RpdGxlPgogIDxnPgogICAgPHBvbHlnb24gcG9pbnRzPSIwLjUgMC41IDAuNSAxLjY3MyAwLjUgMjIuNTc0IDAuNSAyMy43NTggMS4zNDkgMjIuOTMzIDcuNDY4IDE2Ljk3OCAxNi40MjEgMTYuOTc4IDE3LjY2NCAxNi45NzggMTYuNzY3IDE2LjExNyAxLjM0NiAxLjMxMiAwLjUgMC41IDAuNSAwLjUiLz4KICAgIDxwYXRoIGQ9Ik0xLDEuNjczdjIwLjlsNi4yNjUtNi4xaDkuMTU2Wk02Ljg1OSwxNS40NzhsLS4yOTIuMjgzTDIsMjAuMjA2VjQuMDE5TDEzLjkzNiwxNS40NzhINi44NTlaIiBmaWxsPSIjZmZmIi8+CiAgPC9nPgogIDxnPgogICAgPHJlY3QgeD0iMjIiIHk9IjIyLjUiIHdpZHRoPSI3IiBoZWlnaHQ9IjciLz4KICAgIDxyZWN0IHg9IjIyLjUiIHk9IjIzIiB3aWR0aD0iNiIgaGVpZ2h0PSI2IiBmaWxsPSIjZmZmIi8+CiAgICA8cmVjdCB4PSIyMy41IiB5PSIyNCIgd2lkdGg9IjQiIGhlaWdodD0iNCIvPgogIDwvZz4KICA8Zz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMjcuNSAxNS41IDI3LjUgMTkuNSAzMiAxOS41IDMyIDI0IDM2IDI0IDM2IDE1LjUgMjcuNSAxNS41Ii8+CiAgICA8cGF0aCBkPSJNMjgsMTZ2M2g0LjV2NC41aDNWMTZabTYuNSw2LjVoLTFWMThIMjlWMTdoNS41WiIgZmlsbD0iI2ZmZiIvPgogIDwvZz4KICA8Zz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMjMuNSAzNi41IDIzLjUgMzIuNSAxOSAzMi41IDE5IDI4IDE1IDI4IDE1IDM2LjUgMjMuNSAzNi41Ii8+CiAgICA8cGF0aCBkPSJNMjMsMzZWMzNIMTguNVYyOC41aC0zVjM2Wm0tNi41LTYuNWgxVjM0SDIydjFIMTYuNVoiIGZpbGw9IiNmZmYiLz4KICA8L2c+Cjwvc3ZnPg==");\n        --pointer-resize-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8dGl0bGU+cmVzaXplLWN1cnNvcnM8L3RpdGxlPgogIDxnPgogICAgPHJlY3QgeD0iMjIiIHk9IjIyLjUiIHdpZHRoPSI3IiBoZWlnaHQ9IjciLz4KICAgIDxyZWN0IHg9IjIyLjUiIHk9IjIzIiB3aWR0aD0iNiIgaGVpZ2h0PSI2IiBmaWxsPSIjZmZmIi8+CiAgICA8cmVjdCB4PSIyMy41IiB5PSIyNCIgd2lkdGg9IjQiIGhlaWdodD0iNCIvPgogIDwvZz4KICA8Zz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMjcuNSAxNS41IDI3LjUgMTkuNSAzMiAxOS41IDMyIDI0IDM2IDI0IDM2IDE1LjUgMjcuNSAxNS41Ii8+CiAgICA8cGF0aCBkPSJNMjgsMTZ2M2g0LjV2NC41aDNWMTZabTYuNSw2LjVoLTFWMThIMjlWMTdoNS41WiIgZmlsbD0iI2ZmZiIvPgogIDwvZz4KICA8Zz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMjMuNSAzNi41IDIzLjUgMzIuNSAxOSAzMi41IDE5IDI4IDE1IDI4IDE1IDM2LjUgMjMuNSAzNi41Ii8+CiAgICA8cGF0aCBkPSJNMjMsMzZWMzNIMTguNVYyOC41aC0zVjM2Wm0tNi41LTYuNWgxVjM0SDIydjFIMTYuNVoiIGZpbGw9IiNmZmYiLz4KICA8L2c+CiAgPGc+CiAgICA8cG9seWdvbiBwb2ludHM9IjE2Ljc3IDE2LjEyIDEuMzUgMS4zMSAwLjUgMC41IDAuNSAyMy43NiAxLjM1IDIyLjkzIDcuNDcgMTYuOTggMTcuNjYgMTYuOTggMTYuNzcgMTYuMTIiLz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMTYuNDIgMTYuNDggNy4yNiAxNi40OCAxIDIyLjU4IDEgMS42NyAxNi40MiAxNi40OCIgZmlsbD0iI2ZmZiIvPgogICAgPHBhdGggZD0iTTIsNC4wMlYyMC4yMWw0Ljg2LTQuNzNoNy4wOFpNNi40NSwxNC40OCwzLDE3Ljg0VjYuMzdsOC40NSw4LjExWiIvPgogIDwvZz4KPC9zdmc+");\n        --pointer-remove-alt-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxyZWN0IHg9IjE4LjUiIHk9IjIyIiB3aWR0aD0iMTAiIGhlaWdodD0iNCIvPgogICAgPHBhdGggZD0iTTE5LDIyLjV2M2g5di0zWm04LDJIMjB2LTFoN1oiIGZpbGw9IiNmZmYiLz4KICA8L2c+CiAgPGc+CiAgICA8cG9seWdvbiBwb2ludHM9IjAuNSAwLjUgMC41IDEuNjczIDAuNSAyMi41NzQgMC41IDIzLjc1OCAxLjM0OSAyMi45MzMgNy40NjggMTYuOTc4IDE2LjQyMSAxNi45NzggMTcuNjY0IDE2Ljk3OCAxNi43NjcgMTYuMTE3IDEuMzQ2IDEuMzEyIDAuNSAwLjUgMC41IDAuNSIvPgogICAgPHBhdGggZD0iTTEsMS42NzN2MjAuOWw2LjI2NS02LjFoOS4xNTZaTTYuODU5LDE1LjQ3OGwtLjI5Mi4yODNMMiwyMC4yMDZWNC4wMTlMMTMuOTM2LDE1LjQ3OEg2Ljg1OVoiIGZpbGw9IiNmZmYiLz4KICA8L2c+Cjwvc3ZnPgo=");\n        --pointer-remove-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxyZWN0IHg9IjE4LjUiIHk9IjIyIiB3aWR0aD0iMTAiIGhlaWdodD0iNCIvPgogICAgPHBhdGggZD0iTTE5LDIyLjV2M2g5di0zWm04LDJIMjB2LTFoN1oiIGZpbGw9IiNmZmYiLz4KICA8L2c+CiAgPGc+CiAgICA8cG9seWdvbiBwb2ludHM9IjE2Ljc3IDE2LjEyIDEuMzUgMS4zMSAwLjUgMC41IDAuNSAyMy43NiAxLjM1IDIyLjkzIDcuNDcgMTYuOTggMTcuNjYgMTYuOTggMTYuNzcgMTYuMTIiLz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMTYuNDIgMTYuNDggNy4yNiAxNi40OCAxIDIyLjU4IDEgMS42NyAxNi40MiAxNi40OCIgZmlsbD0iI2ZmZiIvPgogICAgPHBhdGggZD0iTTIsNC4wMlYyMC4yMWw0Ljg2LTQuNzNoNy4wOFpNNi40NSwxNC40OCwzLDE3Ljg0VjYuMzdsOC40NSw4LjExWiIvPgogIDwvZz4KPC9zdmc+Cg==");\n        --pointer-selectable-alt-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMC41IDAuNSAwLjUgMS42NzMgMC41IDIyLjU3NCAwLjUgMjMuNzU4IDEuMzQ5IDIyLjkzMyA3LjQ2OCAxNi45NzggMTYuNDIxIDE2Ljk3OCAxNy42NjQgMTYuOTc4IDE2Ljc2NyAxNi4xMTcgMS4zNDYgMS4zMTIgMC41IDAuNSAwLjUgMC41Ii8+CiAgICA8cGF0aCBkPSJNMSwxLjY3M3YyMC45bDYuMjY1LTYuMWg5LjE1NlpNNi44NTksMTUuNDc4bC0uMjkyLjI4M0wyLDIwLjIwNlY0LjAxOUwxMy45MzYsMTUuNDc4SDYuODU5WiIgZmlsbD0iI2ZmZiIvPgogIDwvZz4KICA8Zz4KICAgIDxyZWN0IHg9IjE5LjUiIHk9IjIxIiB3aWR0aD0iNyIgaGVpZ2h0PSI3Ii8+CiAgICA8cmVjdCB4PSIyMCIgeT0iMjEuNSIgd2lkdGg9IjYiIGhlaWdodD0iNiIgZmlsbD0iI2ZmZiIvPgogICAgPHJlY3QgeD0iMjEiIHk9IjIyLjUiIHdpZHRoPSI0IiBoZWlnaHQ9IjQiLz4KICA8L2c+Cjwvc3ZnPgo=");\n        --pointer-selectable-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxyZWN0IHg9IjE5LjUiIHk9IjIxIiB3aWR0aD0iNyIgaGVpZ2h0PSI3Ii8+CiAgICA8cmVjdCB4PSIyMCIgeT0iMjEuNSIgd2lkdGg9IjYiIGhlaWdodD0iNiIgZmlsbD0iI2ZmZiIvPgogICAgPHJlY3QgeD0iMjEiIHk9IjIyLjUiIHdpZHRoPSI0IiBoZWlnaHQ9IjQiLz4KICA8L2c+CiAgPGc+CiAgICA8cG9seWdvbiBwb2ludHM9IjE2Ljc3IDE2LjEyIDEuMzUgMS4zMSAwLjUgMC41IDAuNSAyMy43NiAxLjM1IDIyLjkzIDcuNDcgMTYuOTggMTcuNjYgMTYuOTggMTYuNzcgMTYuMTIiLz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMTYuNDIgMTYuNDggNy4yNiAxNi40OCAxIDIyLjU4IDEgMS42NyAxNi40MiAxNi40OCIgZmlsbD0iI2ZmZiIvPgogICAgPHBhdGggZD0iTTIsNC4wMlYyMC4yMWw0Ljg2LTQuNzNoNy4wOFpNNi40NSwxNC40OCwzLDE3Ljg0VjYuMzdsOC40NSw4LjExWiIvPgogIDwvZz4KPC9zdmc+Cg==");\n        --pointer-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMTYuNzcgMTYuMTIgMS4zNSAxLjMxIDAuNSAwLjUgMC41IDIzLjc2IDEuMzUgMjIuOTMgNy40NyAxNi45OCAxNy42NiAxNi45OCAxNi43NyAxNi4xMiIvPgogICAgPHBvbHlnb24gcG9pbnRzPSIxNi40MiAxNi40OCA3LjI2IDE2LjQ4IDEgMjIuNTggMSAxLjY3IDE2LjQyIDE2LjQ4IiBmaWxsPSIjZmZmIi8+CiAgICA8cGF0aCBkPSJNMiw0LjAyVjIwLjIxbDQuODYtNC43M2g3LjA4Wk02LjQ1LDE0LjQ4LDMsMTcuODRWNi4zN2w4LjQ1LDguMTFaIi8+CiAgPC9nPgo8L3N2Zz4K");\n        --resize-ew-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMjIuNSAxOC41IDIyLjUgMjMuMTIgMjQuOTQgMjEuMTcgMjkuOTQgMTcuMTcgMzEuNCAxNiAyOS45NCAxNC44MyAyNC45NCAxMC44MyAyMi41IDguODggMjIuNSAxMy41IDkuNSAxMy41IDkuNSA4Ljg4IDcuMDYgMTAuODMgMi4wNiAxNC44MyAwLjYgMTYgMi4wNiAxNy4xNyA3LjA2IDIxLjE3IDkuNSAyMy4xMiA5LjUgMTguNSAyMi41IDE4LjUiLz4KICAgIDxwYXRoIGQ9Ik0yMywxOHY0LjA4bDEuNjItMS4zLDUtNEwzMC42LDE2bC0uOTgtLjc4LTUtNEwyMyw5LjkyVjE0SDlWOS45MmwtMS42MiwxLjMtNSw0TDEuNCwxNmwuOTguNzgsNSw0TDksMjIuMDhWMThaTTgsMjAsMywxNmw1LTR2M0gyNFYxMmw1LDQtNSw0VjE3SDhaIiBmaWxsPSIjZmZmIi8+CiAgPC9nPgo8L3N2Zz4K");\n        --resize-nesw-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwb2x5Z29uIHBvaW50cz0iNS42IDIwIDcuMDEgMjEuNTEgMjEuODMgNy4xIDIwLjM1IDUuNTIgMTcuOTkgMyAyOSAzIDI5IDE0Ljc4IDI2LjQgMTIgMjUuMjQgMTAuNzUgMTAuNDMgMjUuMTcgMTEuNjUgMjYuNDggMTQuMDEgMjkgMyAyOSAzIDE3LjIyIDUuNiAyMCIvPgogICAgPHBhdGggZD0iTTUuMjMsMjAuMzRsMS43NiwxLjg5TDIyLjUyLDcuMTJsLTEuOC0xLjk0TDE5LjE0LDMuNUgyOC41VjEzLjUxbC0xLjczLTEuODUtMS41MS0xLjYyTDkuNzMsMjUuMTVsMS41NSwxLjY3LDEuNTgsMS42OEgzLjVWMTguNDlaTTQuNSwyNy41aDYuMDVMOC4zMywyNS4xMiwyNS4yOSw4LjYxbDIuMjEsMi4zN1Y0LjVIMjEuNDVsMi40NywyLjY1TDYuOTYsMjMuNjYsNC41LDIxLjAyWiIgZmlsbD0iI2ZmZiIvPgogIDwvZz4KPC9zdmc+Cg==");\n        --resize-ns-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMTguNSA5LjUgMjMuMTIgOS41IDIxLjE3IDcuMDYgMTcuMTcgMi4wNiAxNiAwLjYgMTQuODMgMi4wNiAxMC44MyA3LjA2IDguODggOS41IDEzLjUgOS41IDEzLjUgMjIuNSA4Ljg4IDIyLjUgMTAuODMgMjQuOTQgMTQuODMgMjkuOTQgMTYgMzEuNCAxNy4xNyAyOS45NCAyMS4xNyAyNC45NCAyMy4xMiAyMi41IDE4LjUgMjIuNSAxOC41IDkuNSIvPgogICAgPHBhdGggZD0iTTE4LDloNC4wOGwtMS4zLTEuNjItNC01TDE2LDEuNGwtLjc4Ljk4LTQsNUw5LjkyLDlIMTRWMjNIOS45MmwxLjMsMS42Miw0LDUsLjc4Ljk4Ljc4LS45OCw0LTVMMjIuMDgsMjNIMThabTIsMTUtNCw1LTQtNWgzVjhIMTJsNC01LDQsNUgxN1YyNFoiIGZpbGw9IiNmZmYiLz4KICA8L2c+Cjwvc3ZnPgo=");\n        --resize-nwse-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwb2x5Z29uIHBvaW50cz0iMjYuNCAyMCAyNC45OSAyMS41MSAxMC4xNyA3LjEgMTEuNjUgNS41MiAxNC4wMSAzIDMgMyAzIDE0Ljc4IDUuNiAxMiA2Ljc2IDEwLjc1IDIxLjU3IDI1LjE3IDIwLjM1IDI2LjQ4IDE3Ljk5IDI5IDI5IDI5IDI5IDE3LjIyIDI2LjQgMjAiLz4KICAgIDxwYXRoIGQ9Ik0yNi43NywyMC4zNGwtMS43NiwxLjg5TDkuNDgsNy4xMmwxLjgtMS45NEwxMi44NiwzLjVIMy41VjEzLjUxbDEuNzMtMS44NSwxLjUxLTEuNjJMMjIuMjcsMjUuMTVsLTEuNTUsMS42N0wxOS4xNCwyOC41SDI4LjVWMTguNDlabS43Myw3LjE2SDIxLjQ1bDIuMjItMi4zOEw2LjcxLDguNjEsNC41LDEwLjk4VjQuNWg2LjA1TDguMDgsNy4xNSwyNS4wNCwyMy42NmwyLjQ2LTIuNjRaIiBmaWxsPSIjZmZmIi8+CiAgPC9nPgo8L3N2Zz4K");\n        --rotate-alt-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwYXRoIGQ9Ik0yNS43Niw4LjI0QTEzLjY0NCwxMy42NDQsMCwwLDAsMTcuOCw0LjMyVjBMNC42Nyw3LDE3LjgsMTRWOS40OUE4LjcsOC43LDAsMSwxLDkuODUsMjQuMTVMOC41OCwyMi44OCw0Ljk3LDI2LjQ5bDEuMjcsMS4yN0ExMy44LDEzLjgsMCwwLDAsMjUuNzYsOC4yNFoiLz4KICAgIDxwYXRoIGQ9Ik0yNS40LDguNmExMy4xODIsMTMuMTgyLDAsMCwwLTguMS0zLjg0Vi44M0wxNS4zOSwxLjg1bC0xLjUzLjgyTDksNS4yNmwtMS4xMS41OUw1Ljc0LDcsNy44OSw4LjE1LDksOC43NGw0Ljg2LDIuNTksMS41My44MiwxLjkxLDEuMDJWOC44OUE5LjIsOS4yLDAsMSwxLDkuNDksMjQuNTFsLS45MS0uOTItLjkyLjkyTDYuNiwyNS41N2wtLjkyLjkyLjkyLjkxYTEzLjI3OCwxMy4yNzgsMCwwLDAsMTguOCwwLDEzLjI3OCwxMy4yNzgsMCwwLDAsMC0xOC44Wm0tLjkxLDE3Ljg5YTEyLjAyMywxMi4wMjMsMCwwLDEtMTYuOTgsMGwxLjA3LTEuMDdBMTAuNDkzLDEwLjQ5MywwLDEsMCwyMy40MiwxMC41OCwxMC40LDEwLjQsMCwwLDAsMTYsNy41VjExbC0xLjUyLS44MUw5LjYxLDcuNTksOC41LDdsMS4xMS0uNTksNC44Ny0yLjZMMTYsM1Y2YTEyLjAwNywxMi4wMDcsMCwwLDEsOC40OSwyMC40OVoiIGZpbGw9IiNmZmYiLz4KICA8L2c+Cjwvc3ZnPgo=");\n        --rotate-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxnPgogICAgICA8cGF0aCBkPSJNMjQuMDgyLDguMjRhMTMuNjQ0LDEzLjY0NCwwLDAsMC03Ljk2LTMuOTJWMEwyLjk5Miw3bDEzLjEzLDdWOS40OWE4LjcsOC43LDAsMCwxLDYuOSw4LjUxdi41aDUuMVYxOEExMy43MzksMTMuNzM5LDAsMCwwLDI0LjA4Miw4LjI0WiIvPgogICAgICA8cGF0aCBkPSJNMjMuNzIyLDguNmExMy4xODIsMTMuMTgyLDAsMCwwLTguMS0zLjg0Vi44M2wtMS45MSwxLjAyLTEuNTMuODJMNy4zMjIsNS4yNmwtMS4xMS41OUw0LjA2Miw3bDIuMTUsMS4xNSwxLjExLjU5LDQuODYsMi41OSwxLjUzLjgyLDEuOTEsMS4wMlY4Ljg5YTkuMTg1LDkuMTg1LDAsMCwxLDcuOSw5LjExaDQuMUExMy4xNzUsMTMuMTc1LDAsMCwwLDIzLjcyMiw4LjZabS0xLjk4LDEuOThhMTAuNCwxMC40LDAsMCwwLTcuNDItMy4wOFYxMWwtMS41Mi0uODEtNC44Ny0yLjZMNi44MjIsN2wxLjExLS41OSw0Ljg3LTIuNkwxNC4zMjIsM1Y2YTExLjk4NSwxMS45ODUsMCwwLDEsMTEuOTYsMTFoLTEuNTFBMTAuMzc4LDEwLjM3OCwwLDAsMCwyMS43NDIsMTAuNThaIiBmaWxsPSIjZmZmIi8+CiAgICA8L2c+CiAgICA8Zz4KICAgICAgPHBhdGggZD0iTTcuNCwyMy43NmExMy42NDQsMTMuNjQ0LDAsMCwwLDcuOTYsMy45MlYzMmwxMy4xMy03LTEzLjEzLTd2NC41MUE4LjcsOC43LDAsMCwxLDguNDYyLDE0di0uNWgtNS4xVjE0QTEzLjczOSwxMy43MzksMCwwLDAsNy40LDIzLjc2WiIvPgogICAgICA8cGF0aCBkPSJNNy43NjIsMjMuNGExMy4xODIsMTMuMTgyLDAsMCwwLDguMSwzLjg0djMuOTNsMS45MS0xLjAyLDEuNTMtLjgyLDQuODYtMi41OSwxLjExLS41OUwyNy40MjIsMjVsLTIuMTUtMS4xNS0xLjExLS41OUwxOS4zLDIwLjY3bC0xLjUzLS44Mi0xLjkxLTEuMDJ2NC4yOEE5LjE4NSw5LjE4NSwwLDAsMSw3Ljk2MiwxNGgtNC4xQTEzLjE3NSwxMy4xNzUsMCwwLDAsNy43NjIsMjMuNFptMS45OC0xLjk4YTEwLjQsMTAuNCwwLDAsMCw3LjQyLDMuMDhWMjFsMS41Mi44MSw0Ljg3LDIuNiwxLjExLjU5LTEuMTEuNTktNC44NywyLjYtMS41Mi44MVYyNkExMS45ODUsMTEuOTg1LDAsMCwxLDUuMiwxNWgxLjUxQTEwLjM3OCwxMC4zNzgsMCwwLDAsOS43NDIsMjEuNDJaIiBmaWxsPSIjZmZmIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K");\n        --target-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxyZWN0IHg9IjEzLjUiIHk9IjEzIiB3aWR0aD0iNSIgaGVpZ2h0PSI1IiByeD0iMi41Ii8+CiAgICA8Zz4KICAgICAgPHJlY3QgeD0iMTMuNSIgd2lkdGg9IjUiIGhlaWdodD0iMTAiIHJ4PSIyLjUiLz4KICAgICAgPHBhdGggZD0iTTE0LDIuNDA2VjcuNTk0QTEuOTA3LDEuOTA3LDAsMCwwLDE1LjkwNiw5LjVoLjE4OEExLjkwNywxLjkwNywwLDAsMCwxOCw3LjU5NFYyLjQwNkExLjkwNywxLjkwNywwLDAsMCwxNi4wOTQuNWgtLjE4OEExLjkwNywxLjkwNywwLDAsMCwxNCwyLjQwNlpNMTYsOC41aDBhMSwxLDAsMCwxLTEtMXYtNWExLDEsMCwwLDEsMS0xaDBhMSwxLDAsMCwxLDEsMXY1QTEsMSwwLDAsMSwxNiw4LjVaIiBmaWxsPSIjZmZmIi8+CiAgICA8L2c+CiAgICA8Zz4KICAgICAgPHJlY3QgeD0iMTMuNSIgeT0iMjIiIHdpZHRoPSI1IiBoZWlnaHQ9IjEwIiByeD0iMi41Ii8+CiAgICAgIDxwYXRoIGQ9Ik0xNCwyNC41djVhMiwyLDAsMCwwLDIsMmgwYTIsMiwwLDAsMCwyLTJ2LTVhMiwyLDAsMCwwLTItMmgwQTIsMiwwLDAsMCwxNCwyNC41Wm0yLDZoMGExLDEsMCwwLDEtMS0xdi01YTEsMSwwLDAsMSwxLTFoMGExLDEsMCwwLDEsMSwxdjVBMSwxLDAsMCwxLDE2LDMwLjVaIiBmaWxsPSIjZmZmIi8+CiAgICA8L2c+CiAgICA8Zz4KICAgICAgPHJlY3QgeD0iMC41IiB5PSIxMyIgd2lkdGg9IjEwIiBoZWlnaHQ9IjUiIHJ4PSIyLjUiLz4KICAgICAgPHBhdGggZD0iTTMsMTcuNUg4YTIsMiwwLDAsMCwyLTJoMGEyLDIsMCwwLDAtMi0ySDNhMiwyLDAsMCwwLTIsMkgxQTIsMiwwLDAsMCwzLDE3LjVabTYtMkg5YTEsMSwwLDAsMS0xLDFIM2ExLDEsMCwwLDEtMS0xSDJhMSwxLDAsMCwxLDEtMUg4QTEsMSwwLDAsMSw5LDE1LjVaIiBmaWxsPSIjZmZmIi8+CiAgICA8L2c+CiAgICA8Zz4KICAgICAgPHJlY3QgeD0iMjEuNSIgeT0iMTMiIHdpZHRoPSIxMCIgaGVpZ2h0PSI1IiByeD0iMi41Ii8+CiAgICAgIDxwYXRoIGQ9Ik0yNCwxNy41aDVhMiwyLDAsMCwwLDItMmgwYTIsMiwwLDAsMC0yLTJIMjRhMiwyLDAsMCwwLTIsMmgwQTIsMiwwLDAsMCwyNCwxNy41Wm02LTJoMGExLDEsMCwwLDEtMSwxSDI0YTEsMSwwLDAsMS0xLTFoMGExLDEsMCwwLDEsMS0xaDVBMSwxLDAsMCwxLDMwLDE1LjVaIiBmaWxsPSIjZmZmIi8+CiAgICA8L2c+CiAgICA8cmVjdCB4PSIxNCIgeT0iMTMuNSIgd2lkdGg9IjQiIGhlaWdodD0iNCIgcng9IjIiIGZpbGw9IiNmZmYiLz4KICAgIDxyZWN0IHg9IjE1IiB5PSIxNC41IiB3aWR0aD0iMiIgaGVpZ2h0PSIyIiByeD0iMSIvPgogIDwvZz4KPC9zdmc+Cg==");\n        --zoom-in-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwYXRoIGQ9Ik0yNS41NDgsMjUuMDNsLTYuNzktNy41MUExMC4zNDUsMTAuMzQ1LDAsMCwwLDEyLjYxOC42NSwxMC41NzQsMTAuNTc0LDAsMCwwLDEwLjg0OC41YTEwLjM1MSwxMC4zNTEsMCwwLDAtMi4wOCwyMC40OSwxMC40ODUsMTAuNDg1LDAsMCwwLDIuMDguMjEsMTAuMiwxMC4yLDAsMCwwLDMuMTEtLjQ4bDcuMzYsOC4xM2EyLjg0OSwyLjg0OSwwLDAsMCw0LjAzLjIsMi44NTIsMi44NTIsMCwwLDAsLjItNC4wMloiLz4KICAgIDxwYXRoIGQ9Ik0yNS43NzgsMjcuMDZhMi4zMSwyLjMxLDAsMCwxLS43NywxLjYyLDIuMzQyLDIuMzQyLDAsMCwxLTEuNTcuNjEsMi4zNjksMi4zNjksMCwwLDEtMS43NS0uNzdsLTcuNTctOC4zOGE5Ljg1OSw5Ljg1OSwwLDAsMS0zLjI3LjU2LDkuNSw5LjUsMCwwLDEtMS45OC0uMkE5Ljg1MSw5Ljg1MSwwLDAsMSwxMC44NDgsMWExMC43LDEwLjcsMCwwLDEsMS42OS4xNCw5Ljg1Nyw5Ljg1NywwLDAsMSw1LjU1LDE2LjM5bDcuMDksNy44M0EyLjMxNiwyLjMxNiwwLDAsMSwyNS43NzgsMjcuMDZaIiBmaWxsPSIjZmZmIi8+CiAgICA8cGF0aCBkPSJNMjQuMTc4LDI2LjI3LDE2LjIsMTcuNDVhOC41LDguNSwwLDAsMC0zLjg4LTE0Ljk3LDguMjc1LDguMjc1LDAsMCwwLTEuNDctLjEzLDguNSw4LjUsMCwwLDAtMS43MSwxNi44Myw4LjUxOCw4LjUxOCwwLDAsMCw1LjM0LS42NWw4LjIyLDkuMDhhLjk2Ni45NjYsMCwwLDAsLjc0LjMzLDEuMDA4LDEuMDA4LDAsMCwwLC42Ny0uMjZBMSwxLDAsMCwwLDI0LjE3OCwyNi4yN1ptLTEzLjMzLTguODNhNi41LDYuNSwwLDEsMSw2LjUtNi41QTYuNSw2LjUsMCwwLDEsMTAuODQ4LDE3LjQ0WiIvPgogIDwvZz4KICA8cG9seWdvbiBwb2ludHM9IjE0LjUgMTAuNSAxMS41IDEwLjUgMTEuNSA3LjUgMTAuNSA3LjUgMTAuNSAxMC41IDcuNSAxMC41IDcuNSAxMS41IDEwLjUgMTEuNSAxMC41IDE0LjUgMTEuNSAxNC41IDExLjUgMTEuNSAxNC41IDExLjUgMTQuNSAxMC41IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMC41Ii8+Cjwvc3ZnPgo=");\n        --zoom-out-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwYXRoIGQ9Ik0yNS41NDgsMjUuMDNsLTYuNzktNy41MUExMC4zNDUsMTAuMzQ1LDAsMCwwLDEyLjYxOC42NSwxMC41NzQsMTAuNTc0LDAsMCwwLDEwLjg0OC41YTEwLjM1MSwxMC4zNTEsMCwwLDAtMi4wOCwyMC40OSwxMC40ODUsMTAuNDg1LDAsMCwwLDIuMDguMjEsMTAuMiwxMC4yLDAsMCwwLDMuMTEtLjQ4bDcuMzYsOC4xM2EyLjg0OSwyLjg0OSwwLDAsMCw0LjAzLjIsMi44NTIsMi44NTIsMCwwLDAsLjItNC4wMloiLz4KICAgIDxwYXRoIGQ9Ik0yNS43NzgsMjcuMDZhMi4zMSwyLjMxLDAsMCwxLS43NywxLjYyLDIuMzQyLDIuMzQyLDAsMCwxLTEuNTcuNjEsMi4zNjksMi4zNjksMCwwLDEtMS43NS0uNzdsLTcuNTctOC4zOGE5Ljg1OSw5Ljg1OSwwLDAsMS0zLjI3LjU2LDkuNSw5LjUsMCwwLDEtMS45OC0uMkE5Ljg1MSw5Ljg1MSwwLDAsMSwxMC44NDgsMWExMC43LDEwLjcsMCwwLDEsMS42OS4xNCw5Ljg1Nyw5Ljg1NywwLDAsMSw1LjU1LDE2LjM5bDcuMDksNy44M0EyLjMxNiwyLjMxNiwwLDAsMSwyNS43NzgsMjcuMDZaIiBmaWxsPSIjZmZmIi8+CiAgICA8cGF0aCBkPSJNMjQuMTc4LDI2LjI3LDE2LjIsMTcuNDVhOC41LDguNSwwLDAsMC0zLjg4LTE0Ljk3LDguMjc1LDguMjc1LDAsMCwwLTEuNDctLjEzLDguNSw4LjUsMCwwLDAtMS43MSwxNi44Myw4LjUxOCw4LjUxOCwwLDAsMCw1LjM0LS42NWw4LjIyLDkuMDhhLjk2Ni45NjYsMCwwLDAsLjc0LjMzLDEuMDA4LDEuMDA4LDAsMCwwLC42Ny0uMjZBMSwxLDAsMCwwLDI0LjE3OCwyNi4yN1ptLTEzLjMzLTguODNhNi41LDYuNSwwLDEsMSw2LjUtNi41QTYuNSw2LjUsMCwwLDEsMTAuODQ4LDE3LjQ0WiIvPgogIDwvZz4KICA8cmVjdCB4PSI3LjUiIHk9IjEwLjUiIHdpZHRoPSI3IiBoZWlnaHQ9IjEiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIwLjUiLz4KPC9zdmc+Cg==");\n        --zoom-cursor: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICA8Zz4KICAgIDxwYXRoIGQ9Ik0yNS41NDgsMjUuMDNsLTYuNzktNy41MUExMC4zNDUsMTAuMzQ1LDAsMCwwLDEyLjYxOC42NSwxMC41NzQsMTAuNTc0LDAsMCwwLDEwLjg0OC41YTEwLjM1MSwxMC4zNTEsMCwwLDAtMi4wOCwyMC40OSwxMC40ODUsMTAuNDg1LDAsMCwwLDIuMDguMjEsMTAuMiwxMC4yLDAsMCwwLDMuMTEtLjQ4bDcuMzYsOC4xM2EyLjg0OSwyLjg0OSwwLDAsMCw0LjAzLjIsMi44NTIsMi44NTIsMCwwLDAsLjItNC4wMloiLz4KICAgIDxwYXRoIGQ9Ik0yNS43NzgsMjcuMDZhMi4zMSwyLjMxLDAsMCwxLS43NywxLjYyLDIuMzQyLDIuMzQyLDAsMCwxLTEuNTcuNjEsMi4zNjksMi4zNjksMCwwLDEtMS43NS0uNzdsLTcuNTctOC4zOGE5Ljg1OSw5Ljg1OSwwLDAsMS0zLjI3LjU2LDkuNSw5LjUsMCwwLDEtMS45OC0uMkE5Ljg1MSw5Ljg1MSwwLDAsMSwxMC44NDgsMWExMC43LDEwLjcsMCwwLDEsMS42OS4xNCw5Ljg1Nyw5Ljg1NywwLDAsMSw1LjU1LDE2LjM5bDcuMDksNy44M0EyLjMxNiwyLjMxNiwwLDAsMSwyNS43NzgsMjcuMDZaIiBmaWxsPSIjZmZmIi8+CiAgICA8cGF0aCBkPSJNMjQuMTc4LDI2LjI3LDE2LjIsMTcuNDVhOC41LDguNSwwLDAsMC0zLjg4LTE0Ljk3LDguMjc1LDguMjc1LDAsMCwwLTEuNDctLjEzLDguNSw4LjUsMCwwLDAtMS43MSwxNi44Myw4LjUxOCw4LjUxOCwwLDAsMCw1LjM0LS42NWw4LjIyLDkuMDhhLjk2Ni45NjYsMCwwLDAsLjc0LjMzLDEuMDA4LDEuMDA4LDAsMCwwLC42Ny0uMjZBMSwxLDAsMCwwLDI0LjE3OCwyNi4yN1ptLTEzLjMzLTguODNhNi41LDYuNSwwLDEsMSw2LjUtNi41QTYuNSw2LjUsMCwwLDEsMTAuODQ4LDE3LjQ0WiIvPgogIDwvZz4KPC9zdmc+Cg==");   \n    }\n    \n    :host, :host([theme="dark"]) {        \n        --canvas-engine-background-color: #3e3e3e;\n        --canvas-engine-rulerBackground-color: #2f2f2f;\n        --canvas-engine-rulerText-color: #e3e3e3;\n        --canvas-engine-rulerIndicator-color: #378ef0;\n        --canvas-engine-guide-color: maroon;\n        --canvas-engine-snap-color: red;\n        --canvas-engine-elementHover-color: red;\n        --canvas-engine-guideHover-color: blue;\n        --canvas-engine-selectionBox-color: blue;\n        --canvas-engine-selectionArea-color: blue;\n    }\n    \n    :host([theme="light"]) {        \n        --canvas-engine-background-color: #eaeaea;\n        --canvas-engine-rulerBackground-color: #fafafa;\n        --canvas-engine-rulerText-color: #4b4b4b;\n        --canvas-engine-rulerIndicator-color: #1473e6;\n    }\n    \n    :host([cursor="bucket"]) { cursor: var(--bucket-cursor) 0 0, auto; }\n    :host([cursor="color-picker"]) { cursor: var(--color-picker-cursor) 0 0, auto; }\n    :host([cursor="default"]) { cursor: default; }\n    :host([cursor="hand-hold"]) { cursor: var(--hand-hold-cursor) 16 16, auto; }\n    :host([cursor="hand"]) { cursor: var(--hand-cursor) 16 16, auto; }\n    :host([cursor="move"]) { cursor: var(--move-cursor) 16 16, auto; }\n    :host([cursor="not-allowed"]) { cursor: var(--not-allowed-cursor) 0 0, auto; }\n    :host([cursor="pen-add"]) { cursor: var(--pen-add-cursor) 0 0, auto; }\n    :host([cursor="pen-close"]) { cursor: var(--pen-close-cursor) 0 0, auto; }\n    :host([cursor="pen-continue"]) { cursor: var(--pen-continue-cursor) 0 0, auto; }\n    :host([cursor="pen-point"]) { cursor: var(--pen-point-cursor) 0 0, auto; }\n    :host([cursor="pen-remove"]) { cursor: var(--pen-remove-cursor) 0 0, auto; }\n    :host([cursor="pen"]) { cursor: var(--pen-cursor) 0 0, auto; }\n    :host([cursor="pointer-add-alt"]) { cursor: var(--pointer-add-alt-cursor) 0 0, auto; }\n    :host([cursor="pointer-add"]) { cursor: var(--pointer-add-cursor) 0 0, auto; }\n    :host([cursor="pointer-alt"]) { cursor: var(--pointer-alt-cursor) 0 0, auto; }\n    :host([cursor="pointer-curve-alt"]) { cursor: var(--pointer-curve-alt-cursor) 0 0, auto; }\n    :host([cursor="pointer-curve"]) { cursor: var(--pointer-curve-cursor) 0 0, auto; }\n    :host([cursor="pointer-move"]) { cursor: var(--pointer-move-cursor) 0 0, auto; }\n    :host([cursor="pointer-move-alt"]) { cursor: var(--pointer-move-alt-cursor) 0 0, auto; }\n    :host([cursor="pointer-resize"]) { cursor: var(--pointer-resize-cursor) 0 0, auto; }\n    :host([cursor="pointer-resize-alt"]) { cursor: var(--pointer-resize-alt-cursor) 0 0, auto; }\n    :host([cursor="pointer-remove-alt"]) { cursor: var(--pointer-remove-alt-cursor) 0 0, auto; }\n    :host([cursor="pointer-remove"]) { cursor: var(--pointer-remove-cursor) 0 0, auto; }\n    :host([cursor="pointer-selectable-alt"]) { cursor: var(--pointer-selectable-alt-cursor) 0 0, auto; }\n    :host([cursor="pointer-selectable"]) { cursor: var(--pointer-selectable-cursor) 0 0, auto; }\n    :host([cursor="pointer"]) { cursor: var(--pointer-cursor) 0 0, auto; }\n    :host([cursor="resize-ew"]) { cursor: var(--resize-ew-cursor) 16 16, auto; }\n    :host([cursor="resize-nesw"]) { cursor: var(--resize-nesw-cursor) 16 16, auto; }\n    :host([cursor="resize-ns"]) { cursor: var(--resize-ns-cursor) 16 16, auto; }\n    :host([cursor="resize-nwse"]) { cursor: var(--resize-nwse-cursor) 16 16, auto; }\n    :host([cursor="rotate-alt"]) { cursor: var(--rotate-alt-cursor) 16 16, auto; }\n    :host([cursor="rotate"]) { cursor: var(--rotate-cursor) 16 16, auto; }\n    :host([cursor="target"]) { cursor: var(--target-cursor) 16 16, auto; }\n    :host([cursor="zoom-in"]) { cursor: var(--zoom-in-cursor) 11 11, auto; }\n    :host([cursor="zoom-out"]) { cursor: var(--zoom-out-cursor) 11 11, auto; }\n    :host([cursor="zoom"]) { cursor: var(--zoom-cursor) 11 11, auto; }\n    \n    #main {\n        background: var(--canvas-engine-background-color);\n        box-sizing: border-box;\n    }\n    #grid {\n        display: grid;\n        grid-template-columns: 32px 1fr;\n        grid-template-rows: 32px 1fr;\n        grid-gap: 0;\n        outline: none;\n        border: none;\n        padding: 0;\n        margin: 0;\n        max-width: 100%;\n        max-height: 100%;\n        box-sizing: border-box;\n    }\n    #grid.no-ruler {\n        grid-template-rows: 1fr;\n        grid-template-columns: 1fr;\n        grid-template-areas: "main";\n    }\n    #grid.no-ruler > bg-ruler, #grid.no-ruler > .measure-unit {\n        display: none;\n    }\n    #grid.no-ruler > canvas {\n        grid-area: main;\n    }\n    \n    .bg-ruler {\n        background: var(--canvas-engine-rulerBackground-color);\n        box-sizing: border-box;\n    }\n    .measure-unit {\n        display: flex;\n        flex: 1;\n        font-size: 10px;\n        font-family: sans-serif;\n        color: var(--canvas-engine-rulerText-color);\n        justify-content: center;\n        align-items: center;\n        user-select: none;\n        box-sizing: border-box;\n    }\n</style>\n<div id="grid">\n    <div class="bg-ruler measure-unit">px</div>\n    <canvas id="rulerH" class="bg-ruler" height="32"></canvas>\n    <canvas id="rulerV" class="bg-ruler" width="32"></canvas>\n    <canvas id="main"></canvas>\n</div>\n',this.dpr=this.ownerDocument.defaultView.devicePixelRatio||1,this._frameCallback=this.renderFrame.bind(this),this._ruler=new _e(this.shadowRoot.getElementById("rulerH").getContext("2d",{alpha:!1}),this.shadowRoot.getElementById("rulerV").getContext("2d",{alpha:!1})),this._globalElementProperties=new ve,this.viewBox=new $t(this.invalidateViewBox.bind(this)),this._previousZoom=this.viewBox.zoom}get rulerMajorGraduationWidth(){return this._ruler.getStep(this.viewBox.zoom)}get globalElementProperties(){return this._globalElementProperties}get currentPointerPosition(){return this._mousePointerInside?this.getCanvasMouse(this._mousePointerPosition.x,this._mousePointerPosition.y):null}get cursor(){return this._cursor}set cursor(t){this._cursor!==t&&(this._cursor=t,this.setAttribute("cursor",t))}get highQuality(){return this._highQuality}set highQuality(t){if(this._highQuality===t)return;this._highQuality=t;const e=null!=this._frameId;this.stopRenderLoop(),this.destroySurface(!1),this.disconnectCanvas();const i=this.dpr,s=this.canvasElement,n=s.width/i,r=s.height/i,o=s.cloneNode(!1);s.replaceWith(o),this.resizeCanvas(n,r,i),this.connectCanvas(o),this.invalidate(),e&&this.startRenderLoop()}get surface(){if(!this._surface){const t=this.canvasElement;this._surface=Skia.SkSurface.MakeWebGLCanvasSurface(t,t.width,t.height,this._highQuality?ke:Oe)}return this._surface}destroySurface(t){this._preventSurfaceDisposal?this._surfaceMustBeDisposed=!0:(this._surface&&(this._surface.delete(),this._surface=null),this._context&&(this._context.dispose(),this._context=null),t&&this.invalidate())}preventSurfaceDisposal(){this._preventSurfaceDisposal=!0}allowSurfaceDisposal(){this._preventSurfaceDisposal&&(this._preventSurfaceDisposal=!1,this._surfaceMustBeDisposed&&this.destroySurface(!0))}get context(){if(!this._context){const t=this.surface;this._context=new Ht(t.getCanvas(),xt.CreateDevicePixelRatio(this.dpr),t)}return this._context}getColorAt(t){return Mt.fromCode(this.surface.getCanvas().colorAt(t))}get theme(){return null===this._theme&&(this._theme=new Pe(this.ownerDocument.defaultView.getComputedStyle(this))),this._theme}get showRuler(){return this._ruler.visible}set showRuler(t){if(t===this._ruler.visible)return;const e=this.shadowRoot.getElementById("grid").classList;t?e.remove("no-ruler"):e.add("no-ruler"),this._ruler.visible=t,this.handleElementResize()}get selection(){return this._project?.selection}get canvasElement(){return this.shadowRoot.getElementById("main")}invalidateViewBox(){this._ruler.draw(this,!0),this.invalidate();const t=this.viewBox.zoom;this._previousZoom!==t&&(this._previousZoom=t,this.emit("zoomChanged",t))}startRenderLoop(){null===this._frameId&&(this._frameId=requestAnimationFrame(this._frameCallback))}stopRenderLoop(){null!==this._frameId&&(cancelAnimationFrame(this._frameId),this._frameId=null)}renderFrame(t){this._project&&this._tool&&this._tool.render(this,t),this._frameId=requestAnimationFrame(this._frameCallback)}invalidate(){this._tool&&this._tool.invalidate()}emit(t,e,i){void 0!==e&&(i?i.detail=e:i={detail:e}),this.dispatchEvent(new CustomEvent(t,i))}makeImageSnapshot(){return this.surface.makeImageSnapshot()}get project(){return this._project}set project(t){this._project!==t&&(this._project&&(this._project.engine=null),this.viewBox.reset(),t?(t.engine=this,this._project=t,this.startRenderLoop()):this.stopRenderLoop())}get document(){return this._project?.document}set document(t){null!==this._project&&(this._project.document=t,this.viewBox.reset())}get tool(){return this._tool}set tool(t){this.setCurrentTool(t)}get keyboardStatus(){return this._keyboardStatus}undo(){this._project?.state.undo()&&this.invalidate()}redo(){this._project?.state.redo()&&this.invalidate()}setCurrentTool(t,e){this._tool!==t?(this._tool&&this._tool.deactivate(this),this._tool=t,t&&t.activate(this,e)):t&&(t.deactivate(this),t.activate(this,e))}getCanvasMouse(t,e){const i=this.boundingBox;return new Ct(t-i.x,e-i.y)}getDocumentMouse(t,e){return this.viewBox.getPointPosition(this.getCanvasMouse(t,e))}connectedCallback(){if(!this.isConnected)return;this.updateBoundingBox(),this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),this.disconnectCanvas(),this.connectCanvas(this.canvasElement),this._onDisconnect&&(this._onDisconnect(),this._onDisconnect=null);let t=new ResizeObserver(this.deferElementResize.bind(this));t.observe(this),this.handleMouseEvents.bind(this);let e=this.ownerDocument.defaultView,i=this.handleKeyboardEvents.bind(this);e.addEventListener("keydown",i),e.addEventListener("keyup",i);let s=this.rulerHandler.bind(this);this.shadowRoot.getElementById("rulerH").addEventListener("pointerdown",s),this.shadowRoot.getElementById("rulerV").addEventListener("pointerdown",s);let n=new ze(this.onDPRChange.bind(this),this.dpr);this._onDisconnect=()=>{t.disconnect(),n.dispose(),e.removeEventListener("keydown",i),e.removeEventListener("keyup",i),this.shadowRoot.getElementById("rulerH").removeEventListener("pointerdown",s),this.shadowRoot.getElementById("rulerV").removeEventListener("pointerdown",s),n=t=s=i=e=null},this.refreshTheme()}disconnectedCallback(){this.dispose();let t=this.canvasElement;t&&t.parentNode.removeChild(t)}disconnectCanvas(){this._onCanvasDisconnect&&(this._onCanvasDisconnect(),this._onCanvasDisconnect=null)}connectCanvas(t){let e=this.handleMouseEvents.bind(this);t.addEventListener("pointerdown",e),t.addEventListener("pointerup",e),t.addEventListener("pointermove",e),t.addEventListener("pointerenter",e),t.addEventListener("pointerleave",e);let i=this.handleMouseWheel.bind(this);t.addEventListener("wheel",i),this._onCanvasDisconnect=()=>{t.removeEventListener("pointerdown",e),t.removeEventListener("pointerup",e),t.removeEventListener("pointermove",e),t.removeEventListener("pointerenter",e),t.removeEventListener("pointerleave",e),t.removeEventListener("wheel",i),t=e=i=null}}dispose(){this.stopRenderLoop(),this.setCurrentTool(null),this._preventSurfaceDisposal=!1,this.destroySurface(!1),this.disconnectCanvas(),this._onDisconnect&&(this._onDisconnect(),this._onDisconnect=null),this._globalElementProperties&&(this._globalElementProperties.dispose(),this._globalElementProperties=null),this._project&&(this._project.engine=null,this._project.dispose(),this._project=null),this._frameCallback=null,this.boundingBox=null,this._ruler.dispose(),this.viewBox.dispose(),this.boundingBox=null}resizeCanvas(t,e,i=this.dpr){fe(this.canvasElement,t,e,i)}static get observedAttributes(){return["theme"]}attributeChangedCallback(t,e,i){"theme"===t&&this.refreshTheme(!0)}updateBoundingBox(){const t=this.getBoundingClientRect(),e=this._ruler.visible?this._ruler.size:0;return this.boundingBox=new zt(t.x+e,t.y+e,t.width-e,t.height-e)}refreshTheme(t=!1){this._theme=null,this._ruler&&this._ruler.draw(this,!0),this._tool&&this._tool.updateTheme(this),t&&this.invalidate()}onDPRChange(t){this.dpr=t,this.handleElementResize()}rulerHandler(e){const i=this.buildToolEvent(e);if(i.button!==t.MouseButton.Left)return;const s="rulerH"===e.target.id,n=this._tool;this._tool=this._guideTool;this._mousePointerDown=!0,this.canvasElement.setPointerCapture(e.pointerId),this._tool.activate(this,{tool:n,horizontal:s,release:t=>{this._tool=t,this._guideTool.deactivate(this),this._tool?.activate(this,null)}}),this._tool.onMouseDown(this,i)}deferElementResize(){this._deferId&&(clearTimeout(this._deferId),this._deferId=null),this._deferId=setTimeout(this.handleElementResize.bind(this),250)}handleElementResize(){const t=this.updateBoundingBox();this.resizeCanvas(t.width,t.height,this.dpr),this.destroySurface(!0),this._ruler.updateSize(t.width,t.height,this.dpr),this._ruler.draw(this,!0)}handleKeyboardEvents(t){const e=this._keyboardStatus.update(t);if(null!=this._tool&&(e&&this._tool.onKeyboardStatusChange&&this._tool.onKeyboardStatusChange(this,t),this._mousePointerInside))switch(t.type){case"keydown":this._tool.onKeyDown&&this._tool.onKeyDown(this,t);break;case"keyup":this._tool.onKeyUp&&this._tool.onKeyUp(this,t)}}handleMouseEvents(t){if(!t.isPrimary)return;let e=null;switch(t.type){case"pointermove":this._mousePointerInside&&(this._mousePointerPosition.x=t.clientX,this._mousePointerPosition.y=t.clientY,this._ruler.draw(this,!1)),e="onMouseMove";break;case"pointerdown":this._mousePointerDown=!0,this.canvasElement.setPointerCapture(t.pointerId),e="onMouseDown";break;case"pointerup":if(!this._mousePointerDown)return;this._mousePointerDown=!1,this.canvasElement.releasePointerCapture(t.pointerId),e="onMouseUp";break;case"pointerenter":this._mousePointerInside=!0,this._ruler.draw(this,!1),e="onMouseEnter";break;case"pointerleave":this._mousePointerInside=!1,this._ruler.draw(this),e="onMouseLeave";break;default:return}if(t.preventDefault(),t.stopImmediatePropagation(),e&&this._tool&&this._tool[e]){const i=this.context;i.save(),this._tool[e](this,this.buildToolEvent(t)),i.restore()}}handleMouseWheel(t){t.preventDefault(),t.stopImmediatePropagation(),this.viewBox.zoomByCoefficient(this.getCanvasMouse(t.clientX,t.clientY),_(1-.005*t.deltaY,.85,1.15))}buildToolEvent(e){const i=this.getCanvasMouse(e.clientX,e.clientY);return{canvasPosition:i,position:this.viewBox.getPointPosition(i),button:e.button>=t.MouseButton.Unknown?t.MouseButton.Unknown:e.button,domEvent:e}}}var Ye;t.ProjectEvent=void 0,(Ye=t.ProjectEvent||(t.ProjectEvent={})).documentAdded="documentAdded",Ye.documentRemoved="documentAdded",Ye.documentChanged="documentChanged",Ye.documentStateChanged="documentStateChanged",Ye.selectionChanged="selectionChanged",Ye.propertyChanged="propertyChanged",Ye.snapshotCreated="snapshotCreated";class Ue{constructor(t,e=10){this.undoList=[],this.redoList=[],this.project=t,this.size=e,this.record=this.createRecord(t.document,!0)}createRecord(t,e){const i=this.createMeta(t);return e&&(t=t.clone()),{document:t,meta:i}}disposeRecord(t){t.document.dispose(),t.document=t.meta=null}createMeta(t){return{selection:this.project.selection.getSelectedIds()}}get canUndo(){return this.undoList.length>0}get canRedo(){return this.redoList.length>0}undo(){if(!this.canUndo)return!1;const t=this.undoList.pop();this.redoList.push(this.record);const e=this.record.meta;return this.record={document:t.document.clone(),meta:t.meta},this.project.replaceDocument(t.document,e)}redo(){if(!this.canRedo)return!1;const t=this.redoList.pop();this.undoList.push(this.record);const e=t.meta;return this.record={document:t.document.clone(),meta:t.meta},this.project.replaceDocument(t.document,e)}snapshot(){for(;this.redoList.length;)this.disposeRecord(this.redoList.pop());this.undoList.push(this.record),this.record=this.createRecord(this.project.document,!0),this.undoList.length>this.size&&this.disposeRecord(this.undoList.shift()),this.project.engine?.emit(t.ProjectEvent.snapshotCreated)}dispose(){for(;this.undoList.length;)this.disposeRecord(this.undoList.pop());for(this.undoList=null;this.redoList.length;)this.disposeRecord(this.redoList.pop());this.redoList=null,this.disposeRecord(this.record),this.record=null,this.project=null}}class Ze{constructor(){this._document=null,this._selection=new Set,this._activeElement=null,this._info=null,this._hash=0}dispose(){this._info=null,this._document=null,this._activeElement=null,this._selection&&(this._selection.clear(),this._selection=null)}get document(){return this._document}set document(t){this.setDocument(t)}setDocument(t,e=null){if(null==e&&null!=t&&null!=this._document&&t.id===this._document.id&&(e=this.getSelectedIds()),this._document=t,this._activeElement=null,this._selection.clear(),null!=t&&null!=e&&e.length>0){for(const i of e){const e=t.getElementById(i);e&&this._selection.add(e)}this.makeFirstElementActive()}this.clearCache()}get hash(){return this._hash}get boundingBox(){return 0===this._selection.size?zt.ZERO:zt.merge(function*(t){for(const e of t)yield e.globalBounds.bounds}(this._selection))}get length(){return this._selection.size}get isEmpty(){return 0===this._selection.size}get activeElement(){return this._activeElement}set activeElement(t){this.setActiveElement(t)}get elements(){return this._selection}selectOrDeselect(t,e){return this.isSelected(t)?this.activeElement!==t&&(e?this.deselect(t):this.setActiveElement(t)):this.select(t,e)}setActiveElement(t){return t?this._activeElement!==t&&this.select(t,!0):this.clear()}clear(){return this._activeElement=null,0!==this._selection.size&&(this._selection.clear(),this.clearCache(),!0)}isSelected(t){return this._selection.has(t)}rectSelect(t,e=null,i=!0){if(e){if(this._document!==e.document)return!1}else e=this._document;if(!t.isVisible)return this.clear();const s=this.clear(),n=this._selection;return function e(s){for(const r of s.children(!0))r.hidden||r.locked||(i&&r.supportsChildren?r.hasChildren&&r.globalBounds.intersectsRect(t)&&e(r):r.globalBounds.intersectsRect(t)&&n.add(r))}(e),this._activeElement=null,n.size>0?(this.makeFirstElementActive(),s||this.clearCache(),!0):s}select(t,e=!1){if(this._document!==t.document)return!1;const i=this._selection;if(e)i.has(t)||this.selectElement(t);else{if(1===i.size&&i.has(t))return!1;i.clear(),i.add(t)}return this._activeElement=t,this.clearCache(),!0}toggle(t,e=!1){return e&&this._selection.has(t)?this.deselect(t):this.select(t,e)}deselect(t){if(this._document!==t.document)return!1;const e=this._selection;return!!e.has(t)&&(e.delete(t),this._activeElement===t&&this.makeFirstElementActive(),this.clearCache(),!0)}deselectChildren(t){if(this._document!==t.document)return!1;if(0===this.deselectElementChildren(t))return!1;return this._selection.has(this._activeElement)||this.makeFirstElementActive(),this.clearCache(),!0}selectElement(t){const e=this._selection;if(!e.size)return void e.add(t);let i=t.parent;for(;i&&i.isElement&&e.size;)e.has(i)&&e.delete(i),i=i.parent;0!==e.size&&(this.deselectElementChildren(t),e.add(t))}deselectElementChildren(t){if(!t.supportsChildren||!t.hasChildren)return 0;const e=this._selection;if(!e.size)return 0;let i=0;for(const s of e)t.contains(s)&&(e.delete(s),i++);return i}makeFirstElementActive(){this._activeElement=this._selection.size?this._selection.values().next().value:null}clearCache(){this._info=null,this._hash++}get info(){if(null!==this._info)return this._info;const t={isVectorOnly:!0,isSameType:!0,isSamePenType:!0};let e,i;for(const s of this._selection)void 0===e?e=s.type:t.isSameType&&(t.isSameType=e===s.type),s instanceof he?void 0===i?i=s.stroke.type:t.isSamePenType&&(t.isSamePenType=s.stroke.type===i):t.isVectorOnly=!1;return this._info=t}getSelectedIds(){if(0===this._selection.size)return[];const t=Array.from(this._selection).map((t=>t.id)),e=this._activeElement.id;if(t[0]!==e){const i=t.indexOf(e);-1!==i&&t.splice(i,1),t.unshift(e)}return t}*[Symbol.iterator](){for(const t of this._selection)yield t}*vectorElements(){for(const t of this._selection)t instanceof he&&(yield t)}*filteredElements(t,e=!0){if(e&&this._activeElement)for(const e of this._selection)e!==this._activeElement&&t(e)&&(yield e);else for(const e of this._selection)t(e)&&(yield e)}}var Re;t.MoveElementMode=void 0,(Re=t.MoveElementMode||(t.MoveElementMode={})).APPEND="append",Re.PREPEND="prepend",Re.BEFORE="before",Re.AFTER="after";t.AutomaticGrid=xe,t.BaseBrush=lt,t.BasePen=Et,t.BaseTool=oe,t.CanvasEngine=Be,t.CanvasEngineInit=async function(t){if(t||(t={defaultFont:"./font.ttf.woff2"}),window.Skia||(window.Skia=await(t.skia||n.default)()),Ft.registerTypeface(Skia.SkTypeface.MakeFromData(await(await fetch(t.defaultFont)).arrayBuffer()),!0),t.fonts)for(let e=0,i=t.fonts.length;e<i;e++)Ft.registerTypeface(Skia.SkTypeface.MakeFromData(await(await fetch(t.fonts[e])).arrayBuffer()));customElements.define("canvas-engine",Be),await customElements.whenDefined("canvas-engine")},t.ClipPathElement=De,t.Color=Mt,t.ColorMatrix=Rt,t.ColorPickerTool=class extends oe{get name(){return"color-picker"}draw(t,e){}onMouseLeftButtonDown(t,e){const i=t.getColorAt(e.position);console.log(i)}onMouseLeftButtonMove(t,e){}onMouseLeftButtonUp(t,e){}applyFillBrush(t,e){return t.project.middleware.setElementsPropertyDynamic(t.selection.vectorElements(),"fill",(()=>e.clone()))}applyStrokeBrush(t,e){return t.project.middleware.setElementsPropertyDynamic(t.selection.vectorElements(),"strokeBrush",(()=>e.clone()))}},t.Composition=Gt,t.ConicalGradientBrush=pt,t.ConvexQuad=Xt,t.DEGREES=B,t.DefaultPen=ft,t.Document=Ae,t.DrawingContext=Ht,t.EPSILON=f,t.Element=le,t.EllipseElement=de,t.EllipseShape=_t,t.EllipseTool=class extends Ee{get name(){return"ellipse"}createElement(t,e){return new de(new _t(0,0),t.document)}updateElement(t,e,i,s){let n=i.x,r=s.x,o=i.y,a=s.y;if(this.keyboardStatus.isAlt){const t=zt.fromLTRB(n,o,r,a);return e.position=t.topLeft,void(this.keyboardStatus.isShift?(e.anchor=new Ct(t.diagonal,t.diagonal),e.width=e.height=2*t.diagonal):(e.anchor=new Ct(t.width,t.height),e.width=2*t.width,e.height=2*t.height))}if(n>r){const t=r;r=n,n=t}if(o>a){const t=a;a=o,o=t}let u=zt.fromLTRB(n,o,r,a);e.position=u.topLeft,e.anchor=Ct.ZERO,this.keyboardStatus.isShift?e.width=e.height=u.diagonal:(e.width=u.width,e.height=u.height)}},t.EmptyBrush=ht,t.Font=Vt,t.FontManager=Ft,t.GlobalElementProperties=ve,t.GradientBrush=Dt,t.Grid2D=Ce,t.GroupElement=ce,t.Guide=Se,t.GuideList=me,t.KeyboardStatus=o,t.LinearGradientBrush=jt,t.MaskElement=pe,t.Matrix=xt,t.Middleware=class{constructor(t){this._project=t}get project(){return this._project}computeResizeInfo(e,i,s,n=!1,r=!1,o=!1){o||e.globalMatrix.isIdentity||(i=e.globalMatrix.transformInversePoint(i));const a=e.localBounds,u=a.getPointAtPosition(s.x,s.y),l=n?a.middle:a.getPointAtPosition(s.x,s.y,!0),h={x:s.x===t.Position.Start&&i.x>l.x||s.x===t.Position.End&&i.x<l.x,y:s.y===t.Position.Start&&i.y>l.y||s.y===t.Position.End&&i.y<l.y};let M=1,d=1;u.x!==l.x&&(M=(i.x-l.x)/(u.x-l.x)),u.y!==l.y&&(d=(i.y-l.y)/(u.y-l.y)),r&&(M=d=Q(M,d));return{matrix:(new xt).translate(l.x,l.y).scale(M,d).translate(-l.x,-l.y),flip:h}}resizeElementByMatrix(t,e,i){if(!t.isResizable)return!1;const s=t.localResize(e,i);if(!s)return!1;let n=!1;for(const[e,i]of s)this.setElementProperty(t,e,i)&&(n=!0);return n}bringForward(t){return this.forEachElement(t,(t=>t.bringForward()))}bringToFront(t){return this.forEachElement(t,(t=>t.bringToFront()))}sendBackward(t){return this.forEachElement(t,(t=>t.sendBackward()))}sendToBack(t){return this.forEachElement(t,(t=>t.sendToBack()))}sendToTarget(e,i,s=t.MoveElementMode.APPEND,n){switch(s){case t.MoveElementMode.BEFORE:if(!i.parent||i.previousSibling===e)return!1;i.parent.insertBefore(e,i);break;case t.MoveElementMode.AFTER:if(!i.parent||i.nextSibling===e)return!1;i.parent.insertAfter(e,i);break;case t.MoveElementMode.PREPEND:if(!i.supportsChildren||i.firstChild===e)return!1;i.prependChild(e);break;case t.MoveElementMode.APPEND:if(!i.supportsChildren||i.lastChild===e)return!1;i.appendChild(e);break;default:return!1}if(!n)return!0;let r=e;for(const t of n)t!==e&&r.parent.insertAfter(t,r);return!0}deleteElements(t,e=!0){return this.forEachElement(t,(t=>{const i=t.remove();return e&&("function"==typeof e?e(t):t.dispose()),i}))}groupElements(t,e){let i=!1;for(const s of t)e.lastChild!==s&&(e.appendChild(s),i=!0);return i}ungroupElements(t,e=!0){let i=!1;for(const s of t){if(!(s instanceof ce))continue;if(!s.hasChildren){e&&s.remove()&&(s.dispose(),i=!0);continue}let t,n=s;for(;null!=(t=s.firstChild);)n.parent.insertAfter(t,n),n=t;e&&s.remove()&&s.dispose(),i=!0}return i}forEachElement(t,e){let i=!1;for(const s of t)e(s)&&(i=!0);return i}swapStrokeFill(t,e=!1){let i=!1;const s=t=>{const s=t.strokeBrush.clone(),n=t.fill.clone();if(e){const t=s.opacity;s.opacity=n.opacity,n.opacity=t}this.setElementProperty(t,"strokeBrush",n)&&(i=!0),this.setElementProperty(t,"fill",s)&&(i=!0),this.setElementProperty(t,"strokeOpacity",n.opacity)&&(i=!0),this.setElementProperty(t,"fillOpacity",s.opacity)&&(i=!0)};for(const e of t)e instanceof he&&(ae.preventInvalidation(s,this,e),e.invalidate());return i}getElementDeltaPoint(t,e,i=!1){if(e.isZero)return e;const s=t?.parent.globalMatrix;return s&&!s.isIdentity?s.transformInversePoint(e,i):e}alignElementToRectangle(t,e,i,s){let n=t.localBounds.topLeft;const r=t?.parent.globalMatrix;r&&!r.isIdentity&&(n=r.transformPoint(n));let o=e.getPointAtPosition(i,s,!1,n);if(null===o)return!1;throw o=this.getElementDeltaPoint(t,o.sub(n)),"WIP"}alignElementToOrigin(t,e,i){const s=t.localBounds.getPointAtPosition(e,i,!1,t.anchor.negate());return null!==s&&this.setElementsProperty(t,"anchor",s.negate())}alignOriginToElement(t,e,i){const s=t.localBounds.getPointAtPosition(e,i,!1,t.position);return null!==s&&this.moveLocalOriginTo(t,s)}moveOriginTo(t,e){return this.moveLocalOriginTo(t,this.getElementDeltaPoint(t,e,!0))}moveLocalOriginTo(t,e){const i=t.position;return!i.equals(e)&&(this.setElementProperty(t,"anchor",t.anchor.sub(t.localMatrix.transformInversePoint(i.sub(e),!1))),this.setElementPosition(t,e))}moveOriginBy(t,e){if(e.isZero)return!1;let i=!1;for(const s of t)this.moveLocalOriginTo(s,s.position.add(this.getElementDeltaPoint(s,e)))&&(i=!0);return i}moveElementTo(t,e){return this.setElementPosition(t,this.getElementDeltaPoint(t,e,!0))}moveElementBy(t,e,i){if(e.isZero)return!1;if(i){const i=t.globalMatrix;return this.setElementProperty(t,"anchor",t.anchor.sub(i.isIdentity?e:i.transformInversePoint(e,!1)))}return this.setElementPosition(t,t.position.add(this.getElementDeltaPoint(t,e)))}moveElementsBy(t,e,i){if(e.isZero)return!1;let s=!1;if(i)for(const i of t){const t=i.globalMatrix;this.setElementProperty(i,"anchor",i.anchor.sub(t.isIdentity?e:t.transformInversePoint(e,!1)))&&(s=!0)}else for(const i of t)this.setElementPosition(i,i.position.add(this.getElementDeltaPoint(i,e)))&&(s=!0);return s}rotateElementsBy(t,e){if(0===e)return!1;let i=!1;for(const s of t)this.setElementProperty(s,"rotate",s.rotate+e)&&(i=!0);return i}getScaleFactor(e,i,s,n=!1){const r={x:1,y:1};let o=e.localBounds.getPointAtPosition(i.x,i.y);return e.globalMatrix.isIdentity||(s=e.globalMatrix.transformInversePoint(s)),e.anchor.isZero||(o=o.sub(e.anchor),s=s.sub(e.anchor)),i.x!==t.Position.Middle&&(r.x=G(s.x,o.x)),i.y!==t.Position.Middle&&(r.y=G(s.y,o.y)),n&&(r.x=r.y=R(r.x,r.y,i)),r}scaleElementsByFactor(t,e){return(1!==e.x||1!==e.y)&&this.setElementsPropertyDynamic(t,"scale",(t=>t.scale.mul(e)))}setElementPosition(t,e,i){let s=!1;if(null!=i){const e=t.autoOrientAngle;t.autoOrientAngle=i,s=e!==t.autoOrientAngle}return this.setElementProperty(t,"position",e)||s}setElementsPropertyDynamic(t,e,i){let s=!1;for(const n of t)this.setElementProperty(n,e,i(n))&&(s=!0);return s}setElementsProperty(t,e,i){let s=!1;for(const n of t)this.setElementProperty(n,e,i)&&(s=!0);return s}setElementProperty(t,e,i){return e in t&&!S(t[e],i)&&(t[e]=i,!0)}},t.NativeReader=T,t.NativeWriter=class{constructor(){this._files=new Map,this._offset=0,this._structure={},this._close=!1}async addFile(t,e){if(this._close)throw new Error("This object is closed");const i=await C(e.stream());this._structure[t]={offset:this._offset,length:i.length},this._files.set(t,i),this._offset+=i.length}dispose(){this._files.clear()}async addJsonFile(t,e){return this.addFile(t,new Blob([JSON.stringify(e)],{type:"application/json"}))}async addImage(t,e){return this.addFile("images/"+t,e)}async addFont(t,e){return this.addFile("fonts/"+t,e)}async addDocument(t){return this.addJsonFile("documents/"+t.id,t)}async addManifest(t){return await this.addJsonFile("manifest.json",t)}async toStream(){if(this._close)throw new Error("This object is closed");this._close=!0;const t=await C(new Blob([JSON.stringify(this._structure)],{type:"application/json"}).stream()),e=this._offset,i=this._files;return new ReadableStream({start(i){const s=new DataView(new ArrayBuffer(16));s.setInt32(0,1698134117),s.setInt32(4,1),s.setInt32(8,t.length),s.setInt32(12,e),i.enqueue(s.buffer),i.enqueue(t)},pull(t){for(let[,e]of i)t.enqueue(e);t.close()}})}},t.Node=ae,t.PanTool=class extends oe{constructor(){super(...arguments),this.defaultCanvasCursor=t.Cursor.Hand}get name(){return"pan"}draw(t){}onMouseLeftButtonDown(e,i){this.panPivot=i.canvasPosition,e.cursor=t.Cursor.HandHold}onMouseLeftButtonMove(t,e){this.panPivot&&(this.doPan(t,e),this.panPivot=e.canvasPosition)}onMouseLeftButtonUp(e,i){this.doPan(e,i),e.cursor=t.Cursor.Hand}},t.Path=Pt,t.PathElement=class extends Me{get path(){return this._shape}set path(t){this._shape=t,this.invalidateShape()}*localResize(t){const e=this.shape.clone();e.transform(t),yield["shape",e]}},t.PathNode=vt,t.PatternBrush=At,t.Point=Ct,t.PointerBrush=Tt,t.PolyElement=Le,t.PolyShape=kt,t.PolyTool=class extends Ee{constructor(){super(...arguments),this.isBuilding=!1}get name(){return"poly"}onMouseHover(t,e){this.isBuilding&&(this.currentPoint=this.snapping.snapPoint(e.position),this.invalidateToolDrawing())}onMouseLeftButtonMove(t,e){this.onMouseHover(t,e)}onKeyDown(t,e){this.isBuilding&&"Escape"===e.key&&this.commitElement(t)}onMouseLeftButtonDown(t,e){if(this.isBuilding){this.currentPoint=e.position;const i=this.element.shape.points;e.position.equals(i[i.length-2])?this.commitElement(t):(this.element.shape.points.push(e.position),this.element.invalidateShape())}else super.onMouseLeftButtonDown(t,e),this.isBuilding=!0}onMouseLeftButtonUp(t,e){}commitElement(t){if(!this.element)return;const e=this.element.shape.points;e.pop(),this.element.isClosed=e[0].equals(e[e.length-1]),this.element.invalidateShape(),this.saveElement(t),this.disposeBuilder(),this.isBuilding=!1}createElement(t,e){return new Le(new kt([e,e],!1),t.document)}updateElement(t,e,i,s){e.shape.points.splice(-1,1,s),e.invalidateShape()}},t.Project=class{constructor(){this._document=null,this._masterDocument=null,this._documentMap=new Map,this._state=new Map,this._middleware=null,this._selection=new Ze,this.engine=null}dispose(){if(null==this._documentMap)return;const t=this._state;if(this._state=null,this._documentMap){for(const[e,i]of this._documentMap.entries())t.has(e)&&(t.get(e).dispose(),t.delete(e)),i.dispose();this._documentMap.clear(),this._documentMap=null}this._document=null,this._masterDocument=null;for(const e of t.values())e.dispose();t.clear(),this._selection.dispose(),this._selection=null,this._middleware=null,this.engine=null}hasDocument(t){return this._documentMap.has(t.id)}addDocument(e){if(null!=e.project)return!1;const i=e.id;return!this._documentMap.has(i)&&(e.project=this,this._documentMap.set(i,e),this.engine?.emit(t.ProjectEvent.documentAdded,e),null==this._document&&this.setCurrentDocument(e),!0)}removeDocument(e,i=!1){const s=e.id;return!(!this._documentMap.has(s)||this._document.id===s)&&(this._documentMap.delete(s),this._state.has(s)&&(this._state.get(s).dispose(),this._state.delete(s)),s===this._masterDocument&&(this._masterDocument=null),this.engine?.emit(t.ProjectEvent.documentRemoved,{document:e,dispose:i}),i&&e.dispose(),e.project=null,!0)}getDocumentById(t){return this._documentMap.has(t)?this._documentMap.get(t):null}getDocumentForDraw(t){const e=this.getDocumentById(t);return!e||e.isDrawing?null:e}getDocumentPicture(t,e){const i=this.getDocumentForDraw(t);return i?i.getPicture():null}getDocuments(){return this._documentMap.values()}get selection(){return this._selection}get middleware(){return null==this._middleware&&(this._middleware=this.createMiddleware()),this._middleware}get masterDocument(){return this._masterDocument&&this._documentMap.has(this._masterDocument)?this._documentMap.get(this._masterDocument):null}set masterDocument(t){this._masterDocument=t?t.id:null}get document(){return this._document}set document(e){this._document!==e&&this._documentMap.has(e.id)&&(this.setCurrentDocument(e),this.engine?.emit(t.ProjectEvent.documentChanged,e))}setCurrentDocument(t,e){this._document=t,this._selection.setDocument(t,e?.selection),this._state.has(t.id)||this._state.set(t.id,this.createState(10))}replaceDocument(e,i){return this._documentMap.set(e.id,e),this.setCurrentDocument(e,i),this.engine?.emit(t.ProjectEvent.documentStateChanged,this._state.get(e.id)),!0}createState(t){return new Ue(this,t)}get state(){return this._state.get(this._document.id)}},t.RADIANS=O,t.RadialGradientBrush=yt,t.RectElement=we,t.RectShape=Yt,t.RectShapeRadius=Bt,t.Rectangle=zt,t.RectangleTool=class extends Ee{get name(){return"rectangle"}createElement(t){return new we(new Yt(0,0,t.globalElementProperties.rectRadius?.clone()),t.document)}updateElement(t,e,i,s){let n;if(this.keyboardStatus.isShift){const t=Math.max(Math.abs(s.x-i.x),Math.abs(s.y-i.y));n=new zt(s.x>=i.x?i.x:i.x-t,s.y>=i.y?i.y:i.y-t,t,t)}else n=zt.fromPoints(i,s);this.keyboardStatus.isAlt?(e.position=i,e.anchor=new Ct(n.width,n.height),e.width=2*n.width,e.height=2*n.height):(e.position=n.topLeft,e.anchor=Ct.ZERO,e.width=n.width,e.height=n.height)}},t.ReferenceElement=ye,t.RegularPolygonElement=ge,t.RegularPolygonShape=Ut,t.RegularPolygonTool=class extends Ee{get name(){return"regular-polygon"}createElement(t){const e=t.globalElementProperties;return new ge(new Ut(e.regularPolygonSides,0,e.regularPolygonCornerRadius),t.document)}updateElement(t,e,i,s){const n=i.distanceTo(s);e.angle=this.keyboardStatus.isShift?-90:s.sub(i).angle,this.keyboardStatus.isAlt?(e.position=Ct.center(i,s),e.radius=n/2):(e.position=i,e.radius=n)}},t.Ruler=_e,t.Selection=Ze,t.ShapeElement=Me,t.SingleBoardDocument=class extends Ae{constructor(t,e){super(e),this._board=zt.fromSize(t)}getBounds(){return this._board}render(t){const{context:e,theme:i,viewBox:s}=t;e.clear(i.background),e.save(),e.multiplyMatrix(s.matrix),e.drawRect(this.localBounds,Te);const{grid:n,guides:r}=this;n.drawToBack&&n.isVisible&&n.render(t),this.draw(e),!n.drawToBack&&n.isVisible&&n.render(t),r.isVisible&&r.render(t),e.restore()}cloneCurrent(t){return new this.constructor(this._board,t?null:this._id)}dispose(){super.dispose(),this._board=null}},t.Size=Kt,t.Snapping=te,t.SolidBrush=ct,t.StarElement=Ie,t.StarShape=Zt,t.StarTool=class extends Ee{get name(){return"star"}createElement(t){const e=t.globalElementProperties;return new Ie(new Zt(e.starSides,0,e.starInnerRadiusPercent,e.starOuterCornerRadius,e.starInnerCornerRadius,e.starOuterRotate,e.starInnerRotate,0),t.document)}updateElement(t,e,i,s){const n=i.distanceTo(s);e.angle=this.keyboardStatus.isShift?-90:s.sub(i).angle,this.keyboardStatus.isAlt?(e.position=Ct.center(i,s),e.outerRadius=n/2):(e.position=i,e.outerRadius=n)}},t.State=Ue,t.StopColorList=Lt,t.SymbolElement=Ne,t.TextElement=je,t.Theme=Pe,t.TwoPointGradientBrush=Nt,t.VectorElement=he,t.ViewBox=$t,t.clamp=_,t.clone=function t(e){if(!e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(t);if("function"==typeof e.clone)return e.clone();const i={};for(const s in e)e.hasOwnProperty(s)&&(i[s]=t(e[s]));return i},t.compress=C,t.convertUnit=function(e,i,s){return i!==s&&(i!==t.Unit.PX&&(e=F[i](e)),s!==t.Unit.PX&&(e=K[s](e))),e},t.decompress=x,t.equals=S,t.getAxisScale=G,t.getProportionalScaleFactor=Q,t.getProportionalScaleUsingPositionAxis=R,t.getRangePercent=U,t.greatestCommonDivisor=Y,t.invertPosition=Z,t.isCloseTo=v,t.isMacOS=r,t.isValidNumber=b,t.leastCommonMultiple=function(t,e){return Math.abs(t*e/Y(t,e))},t.numberListToString=function(t,e=" "){return t.map(P).join(e)},t.numberToString=P,t.parseColor=c,t.parseNumber=function(t,e=0){const i=parseFloat(t);return b(i)?i:e},t.parseNumberList=function(t){const e=[];let i;for(;i=k.exec(t);){const t=parseFloat(i[0]);b(t)&&e.push(t)}return e},t.readBytes=y,t.round=z,t.toStream=N,t.uuid=A,Object.defineProperty(t,"__esModule",{value:!0})}));
